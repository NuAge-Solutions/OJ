OJ.importJs("oj.components.OjStack");"use strict";OJ.extendComponent("OjNavStack",[OjStack],{_props_:{controller:null},_destructor:function(){if(this._active){}if(this._prev_active){this._unload(this._prev_active)}this._super(OjStack,"_destructor",arguments)},_addActiveElm:function(a){a.setController(this._controller);a.setStack(this);a.load();this._super(OjStack,"_addActiveElm",arguments)},_removeActiveElm:function(a){a.unload();a.setController(null);a.setStack(null);this._super(OjStack,"_removeActiveElm",arguments)},_onItemRemove:function(a){var d=a.getItem(),b=a.getIndex();this.dispatchEvent(new OjStackEvent(OjStackEvent.REMOVE,d,this._transition,b));if(this._active==d){var c;if(this._current_index){this.setActiveIndex(this._current_index-1)}else{if(c=this.numElms()){this.setActiveIndex(c-1)}else{this._unload(this._active);this._active=null;this._current_index=-1}}}else{if(this._prev_active==d){this._prev_active=null}this._current_index=this.indexOfElm(this._active)}},_onItemReplace:function(a){var c=a.getItem(),b=a.getIndex();this.dispatchEvent(new OjStackEvent(OjStackEvent.REPLACE,c,this._transition,b));if(this._activeIndex==b){this._removeActive();this._addActive(this._active=c)}},setController:function(a){if(this._controller==a){return}this._controller=a;if(this._active){this._active.setController(a)}}},{_TAGS:["navstack"]});