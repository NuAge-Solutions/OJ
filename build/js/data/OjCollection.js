OJ.importJs("oj.events.OjActionable");OJ.importJs("oj.events.OjCollectionEvent");"use strict";OJ.extendClass(OjActionable,"OjCollection",{_props_:{allowDuplicate:true,items:null},_constructor:function(){var a=arguments;this._super("OjCollection","_constructor",[]);this._items=[];if(a.length){this.setItems(a[0])}},_destructor:function(){this._items=null;return this._super("OjCollection","_destructor",arguments)},addItem:function(a){return this.addItemAt(a,this.numItems())},addItemAt:function(b,a){if(!this._allowDuplicate&&this.hasItem(b)){return}this._items.splice(a,0,b);this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_ADD,b,a));return b},getItemAt:function(a){return this._items[a]},hasItem:function(a){return this.indexOfItem(a)!=-1},indexOfItem:function(a){return this._items.indexOf(a)},numItems:function(){return this._items.length},removeAllItems:function(){var a=this.numItems();for(;a--;){this.removeItemAt(a)}},removeItem:function(a){return this.removeItemAt(this.indexOfItem(a))},removeItemAt:function(a){if(a<0){return}var b=this._items.splice(a,1)[0];this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_REMOVE,b,a));return b},replaceItem:function(b,a){return this.replaceItemAt(this.indexOfItem(b),a)},replaceItemAt:function(a,b){if(a>-1&&a<this.numItems()){return this._items.splice(a,1,b)[0]}return null},reverse:function(){},sort:function(){var a=arguments,b,c=this._items.clone();if(a.length){this._items.sort(a[0])}else{this._items.sort()}b=this._items.length;for(;b--;){if(this._items[b]!=c[b]){this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_MOVE,this._items[b],b))}}},setItemAt:function(c,a){var b;if(!this._allowDuplicate&&this.hasItem(c)){return}b=this._items.splice(a,1,c)[0];if(b==c){return}this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_REPLACE,c,a));return b},getItems:function(){return this._items.clone()},setItems:function(a){var d,c,g,b=0,e,f=this._items.length;if(isObject(a)){if(isObjective(a)&&a.is("OjCollection")){a=a.getItems()}else{c=[];for(d in a){c.push(a[d])}a=c}}else{if(!isArray(a)){a=[]}}e=a.length;if(f>e){g=f-e;for(;g--;){this.removeItemAt(--f)}}for(;b<e;b++){if(b<f){this.setItemAt(a[b],b)}else{this.addItem(a[b])}}}},{collection:function(a){return isArray(a)||!isObjective(a)?new OjCollection(a):a}});window.OjICollection={_prepareItems:function(){if(this._items){return}return this._items=new OjCollection()},addItem:function(a){this._prepareItems();this._items.addItem(a)},addItemAt:function(b,a){this._prepareItems();this._items.addItemAt(b)},getItemAt:function(b){var a=this._items;return a?a.getItemAt(b):null},getItems:function(){var a=this._items;return a?a.getItems():[]},hasItem:function(b){var a=this._items;return a?a.hasItem(b):false},indexOfItem:function(b){var a=this._items;return a?a.indexOfItem(b):-1},numItems:function(){var a=this._items;return a?a.numItems():0},removeAllItems:function(){var a=this._items;if(a){a.removeAll()}},removeItem:function(a){if(this._items){this._items.removeItem(a)}},removeItemAt:function(b){var a=this._items;if(a){a.removeItemAt(b)}},reverse:function(){var a=this._items;if(a){a.reverse()}},sort:function(){var a=this._items;if(a){a.sort.apply(a,arguments)}},setItemAt:function(b,a){this._prepareItems();this._items.setItemAt(b,a)},setItems:function(a){this._prepareItems();this._items.setItems(a)}};