OJ.importJs("oj.data.OjObject");"use strict";OJ.extendClass("OjXml",[OjObject],{_props_:{xml:null},_constructor:function(a){this._super(OjObject,"_constructor",[]);this.setXml(a)},attr:function(a){var b=arguments;if(b.length>1){this._xml.setAttribute(a,b[1]);return val}return this._xml.getAttribute(a)},query:function(c){var d=arguments,f=0,g,h,b=d.length>1?d[1]:0,a,e=[];if(!window.DOMParser){e=this._xml.selectNodes(c);g=e.length;for(;f<g&&(!b||f<b);f++){e[f]=new OjXml(e[f])}return b==1?(g?e[0]:null):e.slice(0,b)}h=(this._xml.ownerDocument?this._xml.ownerDocument:this._xml).evaluate("."+c,this._xml,null,XPathResult.ANY_TYPE,null);if(h.resultType==XPathResult.ORDERED_NODE_ITERATOR_TYPE||h.resultType==XPathResult.UNORDERED_NODE_ITERATOR_TYPE){for(;(a=h.iterateNext())&&(!b||f++<b);){e.push(new OjXml(a))}return b==1?(e.length?e[0]:null):e}if(h.resultType==XPathResult.STRING_TYPE){return h.stringValue}if(h.resultType==XPathResult.NUMBER_TYPE){return h.numberValue}if(h.resultType==XPathResult.BOOLEAN_TYPE){return h.booleanValue}return null},value:function(){var b=arguments,a;if(b.length){a=this.query("/"+b[0],1);return a?a.value():null}return this._xml.textContent},setXml:function(a){this._xml=toXml(a)}},{xml:function(a){if(isXml(a)){return new OjXml(a)}if(isString(a)){return new OjXml(toXml(a))}return isObjective(a)&&a.is("OjXml")?a:null}});