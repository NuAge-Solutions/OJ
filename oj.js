"use strict";window.OJ=function Oj(){return{_events:[],_guid:85,_is_landscape:true,_is_mobile:false,_is_ready:false,_is_supported:true,_is_tablet:false,_is_touch_capable:false,_loaded:{},_protocol:"http",_settings:{assetsPath:"assets",cssExt:".css",cssPath:"css",dimUnit:"px",fontUnit:"px",init:null,jsPath:"js",jsExt:".js",lazyLoad:true,mode:"loading",target:"#OJ",theme:"oj",themePath:"themes",tplPath:"templates",tplExt:".html",version:"0.0.0",waitForCss:true,supportMessage:'Our apologies. Your browser is currently not supported. Please try again with a more recent version of <a href="https://www.google.com/intl/en/chrome/browser/">Chrome</a>, <a href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a>, <a href="http://windows.microsoft.com/en-us/internet-explorer/downloads/ie-10/worldwide-languages">Internet Explorer</a> or <a href="http://www.apple.com/safari/">Safari</a>. You can easily download the latest version by clicking on the name of the browser you wish to use.'},_viewport:{top:0,left:0,bottom:0,right:0,width:0,height:0},DEV:"development",LOADING:"loading",PROD:"production",FILE:"file",HTTP:"http",HTTPS:"https",CHROME:"Chrome",FIREFOX:"Firefox",IE:"Internet Explorer",IN_APP:"in-app",MOZILLA:"Mozilla",OPERA:"Opera",SAFARI:"Safari",GECKO:"Gecko",KHTML:"KHTML",TRIDENT:"Trident",WEBKIT:"WebKit",CHROME_OS:"Chrome OS",LINUX:"Linux",OSX:"OS X",WINDOWS:"Windows",ANDROID:"Android",BADA:"Bada",BLACKBERRY:"BlackBerry OS",BREW:"Brew",GRID:"Grid OS",IOS:"iOS",MEEGO:"MeeGo",PALM:"Palm",QNX:"QNX",SYMBIAN:"Symbian",WEBOS:"Web OS",WIN_MOBILE:"Windows Mobile",WIN_PHONE:"Windows Phone",_:function(key){return this._settings[key]},_getClassPath:function(type,cls,ext){var parts=cls.split(".");return parts.shift()+"/"+(type?type+"/":"")+parts.join("/")+ext},_getCssImportPath:function(path){if(path.indexOf("/")!=-1){return path}return this._root+this._getClassPath(this._("cssPath"),path,this._("cssExt"))+this.getVersionQuery()},_getJsImportPath:function(path){if(path.indexOf("/")!=-1){return path}return this._root+this._getClassPath(this._("jsPath"),path,this._("jsExt"))+this.getVersionQuery()},_getTemplateImportPath:function(path){if(path.indexOf("/")!=-1){return path}return this._root+this._getClassPath(this._("tplPath"),path,this._("tplExt"))+this.getVersionQuery()},_getThemePath:function(path){if(path.indexOf("/")!=-1){return path}var parts=path.split("."),prefix=parts.length==1?path+".":"",type=this._("themePath");if(this._("mode")!=this.DEV){path+="-theme";type=null}return this._root+this._getClassPath(type,prefix+path,this._("cssExt"))+this.getVersionQuery()},_handleEvent:function(action,type,context,func){this._events.push({action:action,type:type,context:context,func:func})},_onTouchEvent:function(evt){var touches=evt.changedTouches,first=touches[0],type="";switch(evt.type){case"touchstart":type="mousedown";break;case"touchmove":type="mousemove";break;case"touchend":type="mouseup";break;default:return}var simulatedEvent=document.createEvent("MouseEvent");simulatedEvent.initMouseEvent(type,true,true,window,1,first.screenX,first.screenY,first.clientX,first.clientY,false,false,false,false,0,null);first.target.dispatchEvent(simulatedEvent);evt.preventDefault()},addEventListener:function(type,context,func){this._handleEvent("add",type,context,func)},addCssFile:function(css){var elm;if(arguments.length>1&&arguments[1]){elm=document.createElement("link");elm.setAttribute("rel","stylesheet");elm.setAttribute("type","text/css");elm.setAttribute("href",css)}else{if(css){elm=document.createElement("style");elm.type="text/css";if(elm.styleSheet){elm.styleSheet.cssText=css}else{elm.appendChild(document.createTextNode(css))}}else{return null}}var head=document.getElementsByTagName("head")[0];if(this._theme_elm){head.insertBefore(elm,this._theme_elm)}else{head.appendChild(elm)}return elm},addJsFile:function(js){var args=arguments,ln=args.length,is_path=ln>1?args[1]:false,is_async=ln>2?args[2]:false;try{if(this._("mode")!=this.LOADING||is_async){var elm=document.createElement("script");elm.setAttribute("type","text/javascript");elm.setAttribute("language","javascript");if(is_async){elm.setAttribute("async","true")}if(is_path){elm.setAttribute("src",js)}else{elm.appendChild(document.createTextNode(js))}document.getElementsByTagName("head")[0].appendChild(elm);return elm}}catch(e){}if(is_path){document.write('<script type="text/javascript" language="javascript" src="'+js+'"><\/script>')}else{eval(js)}},async:function(context,func){setTimeout(func.apply(context,Array.array(arguments).slice(2)),1)},attributeToFunc:function(attr){var parts=attr.split("-"),ln=parts.length;for(;ln--;){if(ln){parts[ln]=parts[ln].ucFirst()}}return parts.join("")},byId:function(id){if(id.charAt(0)=="#"){id=id.substr(1)}return document.getElementById(id)},classToString:function(obj){if(obj&&obj.prototype&&obj.prototype.constructor&&obj.prototype.constructor.toString){var arr=obj.prototype.constructor.toString().match(/function\s*(\w+)/);if(arr&&arr.length==2){return arr[1]}}return undefined},destroy:function(obj){if(obj&&isFunction(obj._d)){if(!obj._destroyed_){var args=arguments;obj._d(args.length>1?args[1]:0)}else{trace("Called destroy multiple times on: "+obj.id())}}return obj=null},elm:function(elm){return OjElement.element(elm)},extendComponent:function(base,ns,def){var cls=this.extendClass.apply(this,arguments);var tags=cls._TAGS,ln=tags.length;OjStyleElement.registerComponentTag(ns.toLowerCase(),ns);for(;ln--;){OjStyleElement.registerComponentTag(tags[ln],ns)}return cls},extendClass:function(base,ns,def){var key,c,proto={_class_name:ns};eval("c = window[ns] = function "+ns+"(){ this._c.apply(this, arguments); };");for(key in base){c[key]=base[key]}if(arguments.length>3){var statics=arguments[3];for(key in statics){c[key]=statics[key]}}base=base.prototype;for(key in base){if(key=="_class_name"){continue}if(key=="_class_names"||key=="_post_compile_"){proto[key]=base[key].clone()}else{proto[key]=base[key]}}proto._class_names.push(ns);proto.$=c;proto._supers_[ns]={};if(isObject(def._p_)){proto._propCompile_(def,"_p_")}if(isObject(def._g_p_)){proto._propCompile_(def,"_g_p_")}if(isObject(def._s_p_)){proto._propCompile_(def,"_s_p_")}for(key in def){if(key.charAt(0)=="_"&&key.slice(-1)=="_"){if(key=="_interface_"){proto._class_names.splice(-1,0,def[key])}continue}if(isFunction(proto[key])){proto._supers_[ns][key]=proto[key]}proto[key]=def[key]}if(isFunction(def._compile_)){def._compile_.call(proto,def)}if(isFunction(def._post_compile_)){proto._post_compile_.unshift(def._post_compile_)}var ln=proto._post_compile_.length;for(;ln--;){proto._post_compile_[ln].call(proto)}(c.prototype=proto).constructor=c;return c},extendManager:function(manager,base,ns,def){var prev_manager=window[manager],cls=OJ.extendClass.apply(this,Array.slice(arguments,1));return window[manager]=new cls(prev_manager)},guid:function(){return(arguments.length?arguments[0]._class_name:"func")+"_"+this._guid++},implementInterface:function(){var key,intrfc,i=0,ln=arguments.length-1,def=arguments[ln];for(;i<ln;i++){intrfc=arguments[i];if(isString(intrfc)){var cls=OJ.stringToClass(intrfc);cls._interface_=intrfc;intrfc=cls}for(key in intrfc){if(isUndefined(def[key])){def[key]=intrfc[key]}else{if(key=="_p_"||key=="_g_p_"||key=="_s_p_"){OJ.implementInterface(intrfc[key],def[key])}}}}return def},importCss:function(path){var css_path=this._getCssImportPath(path);if(this._library){var was_loaded=this._library.isLoaded(css_path);var ln=arguments.length,css_data=ln>1?arguments[1]:null,elm;if(!was_loaded){if(this._("lazyLoad")&&this._protocol!=this.FILE&&(this._("waitForCss")||(ln>2&&arguments[2]))){elm=this.addCssFile(this._library.load(css_path))}else{if(isFunction(document.createStyleSheet)){elm=document.createStyleSheet(css_path)}else{elm=this.addCssFile(css_path,true)}}this._library.setAsset(css_path,true)}return elm}if(!this._loaded[css_path]){this._loaded[css_path]=true;return this.addCssFile(css_path,true)}return null},importJs:function(path){var js_path=this._getJsImportPath(path);if(this._library){var was_loaded=this._library.isLoaded(js_path);if(!was_loaded){if(this._("lazyLoad")&&this._protocol!=this.FILE){this.addJsFile(arguments.length>1?arguments[1]:this._library.load(js_path))}else{this.addJsFile(js_path,true)}this._library.setAsset(js_path,true)}return arguments.length>1?arguments[1]:this._library.load(js_path)}if(!this._loaded[js_path]){this._loaded[js_path]=true;this.addJsFile(js_path,true)}},importTemplate:function(path){var template_path=this._getTemplateImportPath(path),was_loaded=this._library.isLoaded(template_path),template_data=arguments.length>1?arguments[1]:this._library.load(template_path);this._library.setAsset(template_path,template_data);return template_data},isComputer:function(){return !this._is_mobile&&!this._is_tablet},isLandscape:function(){return this._is_landscape},isMobile:function(){return this._is_mobile},isPortrait:function(){return !this._is_landscape},isReady:function(){return this._is_ready},isSupported:function(){return this._is_supported},isTablet:function(){return this._is_tablet},isTouchCapable:function(){return this._is_touch_capable},merge:function(obj,obj2){var key,i,ln=arguments.length;for(i=1;i<ln;i++){for(key in arguments[i]){obj[key]=arguments[i][key]}}return obj},meta:function(){var ln,meta,name;if(!this._metadata){var metas=document.getElementsByTagName("meta");this._metadata={};this._metas={};for(ln=metas.length;ln--;){meta=metas[ln];if(meta.parentNode!=document.head){continue}name=meta.getAttribute("name");if(!name){name=meta.getAttribute("http-equiv")}if(name){name=name.toLowerCase();this._metadata[name]=meta.getAttribute("content");this._metas[name]=meta}}}var ln=arguments.length;if(ln){name=arguments[0].toLowerCase();if(ln>1){if(meta=this._metas[name]){meta.setAttribute("content",this._metadata[name]=arguments[1])}else{this._metas[name]=meta=document.createElement("meta");meta.setAttribute("name",arguments[0]);meta.setAttribute("content",this._metadata[name]=arguments[1]);document.head.appendChild(meta)}}return this._metadata[name]}return OJ.merge({},this._metadata)},pageTitle:function(){var d=document;return d?d.title:null},pageDescription:function(){return this.meta("description")},pluralize:function(str){var c=str.slice(-1),c2=str.slice(-2),c3=str.slice(-3);if(c=="s"){return str+"'"}else{if(c2=="ey"){return str.slice(0,-2)+"ies"}else{if(c3=="elf"){return str.slice(0,-3)+"elvs"}}}return str+"s"},removeEventListener:function(type,context,func){this._handleEvent("remove",type,context,func)},render:function(elm){if(this.renderer){this.renderer.dom().appendChild(elm=isObjective(elm)?elm.dom():elm)}},setting:function(key){if(arguments.length==1){return this._settings[key]}var val=arguments[1];if(key=="theme"){var sep="/",old_path=this._compiled_theme_path,path=this._getThemePath(val);if(path.indexOf(old_path)>-1){return}var elms=document.getElementsByTagName("link"),ln=elms.length;this._compiled_theme_path=this._path;for(;ln--;){if(elms[ln].getAttribute("href").indexOf(old_path)>-1){elms[ln].setAttribute("href",path);return}}this._theme_elm=this.importCss(path)}this._settings[key]=val},settings:function(settings){var key;for(key in settings){this.setting(key,settings[key])}},stringToClass:function(str){return window[str]},stringToVar:function(obj){var parts=isArray(obj)?obj:obj.split("."),ln=parts.length,i;obj=window;for(i=0;i<ln;i++){if(!obj[parts[i]]){obj[parts[i]]={}}obj=obj[parts[i]]}return obj},toClass:function(obj){return isString(obj)?this.stringToClass(obj):obj},tokenReplace:function(source,token,value){return source.replace(new RegExp("\\[%"+token+"\\]","g"),value)},tokensReplace:function(source,key_vals){var key;for(key in key_vals){source=this.tokenReplace(source,key,key_vals[key])}return source},getAssetPath:function(pkg,path){return this._root+pkg+"/"+this._("assetsPath")+"/"+path+this.getVersionQuery()},getBrowser:function(){return this._browser},getBrowserVersion:function(){return this._browser_version},getCssPrefix:function(){return this._css_prefix},getEngine:function(){return this._engine},getMode:function(){return this._("mode")},getOs:function(){return this._os},getPixelRatio:function(){return window.devicePixelRatio||1},getProtocol:function(){return this._protocol},getRoot:function(){return this._root},setRoot:function(root){this._root=isEmpty(root)&&this._protocol==this.FILE?"":(root+"/")},getScreen:function(){var rect={top:isSet(window.screenY)?window.screenY:window.screenTop,left:isSet(window.screenX)?window.screenX:window.screenLeft,width:window.screen.availWidth,height:window.screen.availHeight};rect.bottom=rect.top+rect.height;rect.right=rect.left+rect.width;return rect},getScrollLeft:function(){return document.body.scrollLeft},setScrollLeft:function(pos){document.body.scrollLeft=pos},getScrollTop:function(){return document.body.scrollTop},setScrollTop:function(pos){document.body.scrollTop=pos},getVersionQuery:function(){var v;if(this._("mode")==this.LOADING||this._protocol==this.FILE||isEmpty(v=this._("version"))){return""}return"?v="+v},getViewport:function(){var rect={top:window.pageYOffset?window.pageYOffset:document.body.scrollTop,left:window.pageXOffset?window.pageXOffset:document.body.scrollLeft,bottom:0,right:0,width:window.innerWidth?window.innerWidth:document.body.clientWidth,height:window.innerHeight?window.innerHeight:document.body.clientHeight};rect.bottom=rect.top+rect.height;rect.right=rect.left+rect.width;return rect;return Object.clone(this._viewport)},setViewport:function(rect){}}}();(function(){var b=document.getElementsByTagName("script"),f=b.length,h,d;for(;f--;){h=b[f].getAttribute("src");if((d=h.indexOf("/oj/"))!=-1){h=h.substr(0,d);var e=h.indexOf("//");if(e>0){OJ._protocol=h.substring(0,e-1)}else{OJ._protocol=window.location.protocol.substring(-1)}OJ.setRoot(h);break}}var g={search:function(l){var j=l.length;for(;j--;){var i=l[j].s,k=l[j].p;this.v=l[j].v||l[j].id;if(i){if(i.indexOf(l[j].sub)!=-1){return l[j].id}}else{if(k){return l[j].id}}}},version:function(j){var i=j.indexOf(this.v);if(i==-1){return}return j.substring(i+this.v.length+1).split(" ")[0]}};OJ._browser=g.search([{s:navigator.userAgent,sub:"Mozilla",id:"Netscape",v:"Mozilla"},{s:navigator.userAgent,sub:"OmniWeb",v:"OmniWeb/",id:"OmniWeb"},{p:window.opera,id:"Opera",v:"Version"},{s:navigator.vendor,sub:"iCab",id:"iCab"},{s:navigator.vendor,sub:"KDE",id:"Konqueror"},{s:navigator.vendor,sub:"Camino",id:"Camino"},{s:navigator.userAgent,sub:"Netscape",id:"Netscape"},{s:navigator.userAgent,sub:"Gecko",id:"Mozilla",v:"rv"},{s:navigator.userAgent,sub:"MSIE",id:"Internet Explorer",v:"MSIE"},{s:navigator.vendor,sub:"Apple",id:"Safari",v:"Version"},{s:navigator.userAgent,sub:"Firefox",id:"Firefox"},{s:navigator.userAgent,sub:"Chrome",id:"Chrome"}])||null;OJ._browser_version=g.version(navigator.userAgent)||g.version(navigator.appVersion);var a=navigator.platform.substring(0,3).toLowerCase(),c=navigator.userAgent.toLowerCase();if(c.indexOf("android")>-1){OJ._os=OJ.ANDROID;OJ._is_tablet=!(OJ._is_mobile=(c.indexOf("mobile")>-1));OJ._is_touch_capable=true}else{if(a=="iph"||a=="ipa"||a=="ipo"){OJ._os=OJ.IOS;OJ._is_tablet=!(OJ._is_mobile=(a!="ipa"));if(!OJ._browser_version){OJ._browser_version=OJ.IN_APP}}else{OJ._os=g.search([{s:navigator.platform,sub:"Win",id:"Windows"},{s:navigator.platform,sub:"Mac",id:"OS X"},{s:navigator.platform,sub:"Linux",id:"Linux"}])||null}}if(!OJ._is_touch_capable){OJ._is_touch_capable="ontouchstart" in window}switch(OJ._browser){case OJ.FIREFOX:OJ._engine=OJ.GECKO;OJ._css_prefix="-moz-";break;case OJ.IE:OJ._engine=OJ.TRIDENT;OJ._css_prefix="-ms-";break;case OJ.CHROME:case OJ.SAFARI:OJ._engine=OJ.WEBKIT;OJ._css_prefix="-webkit-"}OJ._onOjResize=function(){if(isFunction(OJ.addCss)){var j=OJ._viewport,i=window.innerWidth?window.innerWidth:document.body.clientWidth,k=window.innerHeight?window.innerHeight:document.body.clientHeight,m=i-j.width,l=k-j.height;j.width=i;j.height=k;j.bottom=j.top+j.height;j.right=j.left+j.width;if(j.width>j.height){OJ._is_landscape=true;OJ.addCss(["is-landscape"]);OJ.removeCss(["is-portrait"])}else{OJ._is_landscape=false;OJ.addCss(["is-portrait"]);OJ.removeCss(["is-landscape"])}OJ.dispatchEvent(new OjTransformEvent(OjTransformEvent.RESIZE,j.top,j.left,m,l))}};OJ._onOjScroll=function(i){var j=OJ._viewport;j.top=window.pageYOffset?window.pageYOffset:document.body.scrollTop;j.left=window.pageXOffset?window.pageXOffset:document.body.scrollLeft;j.bottom=j.top+j.height;j.right=j.left+j.width};OJ._onOjOrientationChange=function(i){OJ.dispatchEvent(OjOrientationEvent.convertDomEvent(i))};if(window.addEventListener){window.addEventListener("resize",OJ._onOjResize,false);window.addEventListener("scroll",OJ._onOjScroll,false);window.addEventListener("orientationchange",OJ._onOjOrientationChange,false)}else{window.attachEvent("onresize",OJ._onOjResize,false);window.attachEvent("onscroll",OJ._onOjScroll,false);window.attachEvent("onorientationchange",OJ._onOjOrientationChange,false)}})();if(!Array.isArray){Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}Array.array=function(a){if(isNull(a)){return[]}else{if(Array.isArray(a)){return a}else{if((isObject(a)||isFunction(a))&&!isUndefined(a.length)){return[].slice.call(a,0)}}}return[a]};Array.prototype.clone=function(){return this.slice(0)};Array.prototype.equalize=function(d){var c=this.length,a,b=null;if(!Array.isArray(d)){b=d;d=[d]}a=d.length;while(a-->c){d.push(b)}return d};Array.slice=function(b,c){var a=Array.array(arguments);b=Array.array(b);return b.slice.apply(b,a.slice(1))};Array.prototype.origReplace=Array.prototype.replace;Array.prototype.replace=function(e,c){var a,b,d;if(Array.isArray(e)){a=this.clone();d=e.length;c=e.equalize(c);for(b=0;b<d;b++){a=a.origReplace(e[b],c[b])}return a}else{return this.origReplace(e,c)}};Array.prototype.replaceAll=function(d,b){var c=arguments.length>2&&arguments[2];var l=[],f=0,h=this.length,e,a,k,g;if(Array.isArray(d)){a=d.length;b=d.equalize(b);for(f;f<h;f++){g=this[f];for(e=0;e<a;e++){if(d[e]==g){l.push(b[e])}else{if(c&&Array.isArray(g)){l.push(g.replaceAll(d[e],b[e],true))}else{l.push(g)}}}}}else{for(f;f<h;f++){g=this[f];if(d==g){l.push(b)}else{if(c&&Array.isArray(g)){l.push(g.replaceAll(d,b,true))}else{l.push(g)}}}}return l};if(!Date.time){Date.time=function(){return(new Date()).getTime()}}if(!Date.prototype.isEqual){Date.prototype.isEqual=function(a){return isDate(a)&&this.getTime()==a.getTime()}}if(!Function.prototype.bind){Function.prototype.bind=function(b){if(!isFunction(this)){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var f=Array.array(arguments).slice(1),e=this,c=function(){},d=function a(){return e.apply(this instanceof c&&b?this:b,f.concat(Array.array(arguments)))};c.prototype=this.prototype;d.prototype=new c();return d}}if(!Math.signedCeil){Math.signedCeil=function(a){if(a<0){return Math.floor(a)}return Math.ceil(a)}}if(!Math.signedFloor){Math.signedFloor=function(a){if(a<0){return Math.ceil(a)}return Math.floor(a)}}if(!Math.bounds){Math.bounds=function(b,c,a){return Math.min(Math.max(c,b),a)}}Number.prototype.oldToString=Number.prototype.toString();Number.prototype.toFormattedString=function(a,d){var c="",b=this.valueOf().split(".");if(a){while(b[0].length<a){b[0]="0"+b[0]}c=b[0]}if(d){c+=".";while(b[1].length<d){b[1]+="0"}c+=b[1]}return c};if(!Object.create){Object.create=function(b){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function a(){}a.prototype=b;return new a()}}if(!Object.keys){Object.keys=function(c){if(c!==Object(c)){throw new TypeError("Object.keys called on non-object")}if(c.__count__){return c.__count__}var b,a=[];for(b in c){if(Object.prototype.hasOwnProperty.call(c,b)){a.push(b)}}b=null;return a}}Object.numKeys=function(a){return Object.keys(a).length};Object.toJson=function(a){};Object.clone=function(c){var a={},b;for(b in c){a[b]=c[b]}return a};String.string=function(a){if(!a){return""}return isObject(a)?a.toString():String(a)};String.prototype.lcFirst=function(){return this.charAt(0).toLowerCase()+this.slice(1)};String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.capitalize=function(){var c=this.split(" ");var b="",a=c.length;while(a-->0){if(b!=""){b=" "+b}b=c[a].ucFirst()+b}return b};String.prototype.compareVersion=function(a){var c=0,b=0,h=this.split("."),g=a.split("."),f=Math.max(h.length,g.length);for(;c<f;c++){var e=(c<h.length)?parseInt(h[c],10):0,d=(c<g.length)?parseInt(g[c],10):0;if(isNaN(e)){e=0}if(isNaN(d)){d=0}if(e!=d){b=(e>d)?1:-1;break}}return b};String.prototype.count=function(a){return(this.match(new RegExp(a.regexEscape(),"g"))||[]).length};String.prototype.decodeUri=function(){return decodeURIComponent(this)};String.prototype.encodeUri=function(){return encodeURIComponent(this)};String.prototype.html=function(){return this.replaceAll(["\n","\t"],["<br />","&nbsp;&nbsp;&nbsp;&nbsp;"])};String.prototype.isEmpty=function(){return this.trim()!=""};String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")};String.prototype.clean=function(a){return a.replace(/\r/g,"")};String.prototype.regexSpecialChars=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");String.prototype.regexEscape=function(){return this.replace(String.prototype.regexSpecialChars,"\\$&")};String.prototype.replaceAll=function(e,b){if(Array.isArray(e)){var d=this,a,c=e.length;b=e.equalize(b);for(a=0;a<c;a++){d=d.replace(new RegExp(e[a].regexEscape(),"g"),b[a])}return d}else{return this.replace(new RegExp(e.regexEscape(),"g"),b)}};function isAlien(a){return isObject(a)&&!isFunction(a.constructor)}function isArray(a){return Array.isArray(a)}function isBoolean(a){return typeof a==="boolean"}function isDate(a){return isObject(a)&&a.getMonth}function isDomElement(a){return a&&(!isUndefined(a.childNodes)||a.nodeType)}function isEvent(a){return a&&typeof Event!="undefined"&&a.eventPhase}function isHash(a){return isObject(a)&&isUndefined(a.prototype)}function isInt(b){var a=parseInt(b);if(isNaN(a)){return false}return b==a&&b.toString()==b.toString()}function isNull(a){return a===null}function isFunction(a){return isSet(a)&&typeof a==="function"}function isNumber(a){return isSet(a)&&typeof a==="number"&&isFinite(a)}function isObject(a){return isSet(a)&&a instanceof Object&&!isArray(a)}function isString(a){return isSet(a)&&(typeof a==="string"||a.constructor.toString()==="string")}function isUndefined(a){return typeof a==="undefined"}function isObjective(a){return isObject(a)&&isSet(a._id_)&&isFunction(a._c)}function isElement(a){return isObjective(a)&&isSet(a._dom)}function isComponent(a){return isElement(a)&&isSet(a._t)}function isXml(b){var a=(b?b.ownerDocument||b:0).documentElement;return a?a.nodeName!=="HTML":false}function toXml(b){if(isString(b)){if(window.DOMParser){return(new DOMParser()).parseFromString(b,"text/xml")}var a=new ActiveXObject("Microsoft.XMLDOM");a.async=false;a.loadXML(b);return a}return isXml(b)?b:null}function isEmpty(a){return isUnset(a)||a==false||(isString(a)&&a.trim()=="")||(isArray(a)&&a.length==0)||(isObject(a)&&isEmptyObject(a))||(isObjective(a)&&a.is("OjCollection")&&!a.numItems())}function isEmptyObject(b){var a,c;if(isArray(b)){return b.length==0}else{if(isObject(b)){for(a in b){c=b[a];if(!isUndefined(c)&&!isFunction(c)){return false}}}}return true}function isFalse(a){return isNull(a)||a===false||a===0||(isString(a)&&(a.toLowerCase()=="false"||a=="0"))}function isNumeric(a){return isSet(a)&&isFinite(parseFloat(a))}function isSet(a){return !isUnset(a)}function isTrue(a){return !isFalse(a)}function isUnset(a){return isNull(a)||isUndefined(a)}function trace(d){if(OJ._("mode")==OJ.PROD){return}var c=arguments.length,b;if(c<2){console.log(d)}else{var a=[];for(b=0;b<c;b++){a.push(arguments[b])}console.log(a)}}function traceGroup(){var a=arguments.length;if(a){if(a>1&&arguments[1]&&!isUndefined(console.groupCollapsed)){console.groupCollapsed(arguments[0])}else{console.group(arguments[0])}}else{console.groupEnd()}}if(!isSet(window.console)||!isObject(window.console)){window.console={}}if(!isSet(console.log)||!isFunction(console.log)){console.log=function(){}}if(!isSet(console.group)||!isFunction(console.group)){console.group=console.groupCollapsed=console.groupEnd=console.log}traceGroup("Picking the oranges.",true);function onDomReady(){var m;if(!document.head){document.head=document.getElementsByTagName("head");if(document.head.length){document.head=document.head[0]}else{document.head=null}}var h=OJ.byId(OJ._("target"));if(h){var n=h.attributes,j,l=["mode","version"],k=l.length;for(;k--;){if((j=l[k])&&n[j]){OJ.setting(j,n[j].value);h.removeAttribute(j)}}k=n.length;for(;k--;){j=n[k].nodeName;if(j=="id"||j=="class"||j.substr(0,3)=="on-"){continue}OJ.setting(OJ.attributeToFunc(j),n[k].value);h.removeAttribute(j)}}if(OJ._("mode")==OJ.LOADING){OJ.setting("mode",OJ.PROD)}for(m in OJ._loaded){OJ._loaded[m+OJ.getVersionQuery()]=true}OJ._library=new OjLibrary(OJ._loaded);var c=new OjView();c.setAlpha(0);c.addChild(c.renderer=new OjStyleElement('<div class="renderer"></div>'));var o,b=0,k=OJ._events.length;for(;b<k;b++){o=OJ._events[b];if(o.action=="add"){c.addEventListener(o.type,o.context,o.func)}else{c.removeEventListener(o.type,o.context,o.func)}}delete OJ._events;delete OJ._handleEvent;delete OJ.addEventListener;delete OJ.removeEventListener;c.bulkSet(OJ);c.addCss("OJ");window.OJ=c;if(h){OJ._setDomSource(h,c)}else{document.body.appendChild(OJ.dom())}OJ.dispatchEvent(new OjEvent(OjEvent.LOAD));OJ._setProxy(document.body);if(OJ._os==OJ.IOS){c.dom().onclick=function(){}}OJ._onOjResize(null);OJ._onOjScroll(null);if(OJ.isMobile()){OJ.addCss("is-mobile")}if(OJ.isTablet()){OJ.addCss("is-tablet")}var a=OJ.getPixelRatio();if(a<=0.75){OJ.addCss("ld")}else{if(a>=1.5){OJ.addCss("hd")}else{OJ.addCss("sd")}}OJ._setIsDisplayed(true);try{var d=OJ.getBrowser(),g=OJ.getBrowserVersion();OJ._is_supported=!(OJ.isComputer()&&((d==OJ.IE&&g.compareVersion("9.0")<0)||(d==OJ.FIREFOX&&g.compareVersion("2.0")<0)||(d==OJ.CHROME&&g.compareVersion("4.0")<0)||(d==OJ.SAFARI&&g.compareVersion("5.0")<0)||(d==OJ.OPERA&&g.compareVersion("10.5")<0)))}catch(f){OJ._is_supported=false}OJ._interval=setInterval(window.onOjReady,100)}function onOjReady(){if(isEmpty(OjStyleElement.getStyle(document.body,"minWidth"))){return}clearInterval(OJ._interval);traceGroup();traceGroup("Juicing the oranges.",true);var b=OJ._("init");if(b){b()}traceGroup();traceGroup("Your OJ is ready. Enjoy!",true);OJ._is_ready=true;OJ.fadeIn();if(!OJ.isSupported()){var a=WindowManager.makeAlert("UnSupported Browser",OJ._("supportMessage"));a.hideButtons();a.setPaneWidth(425);WindowManager.show(a);return}OJ.dispatchEvent(new OjEvent(OjEvent.READY));traceGroup()};window.OjObject=function OjObject(){this._c.apply(this,arguments)};OjObject.prototype={_destroyed_:false,_supers_:{},_class_names:["OjObject"],_class_name:"OjObject",_static:OjObject,_post_compile_:[],_propCompile_:function(e,f){var d,b,c,a,h=f=="_p_"||f=="_g_p_"?true:false,g=f=="_p_"||f=="_s_p_"?true:false;if(isFunction(e._processProp_)){this._processProp_=e._processProp_}for(d in e[f]){c="get"+(b=d.ucFirst());a="set"+b;this._processProp_(d,e[f][d],h&&!isFunction(this[c])&&!isFunction(e[c])?c:null,g&&!isFunction(this[a])&&!isFunction(e[a])?a:null)}},_processProp_:function(b,c,a,e){var d="_"+b;this[d]=c;if(a){this[a]=function(){return this[d]}}if(e){this[e]=function(f){this[d]=f}}},_s:function(b,d,a){var c=this._supers_[b];return c&&c[d]?c[d].apply(this,a):null},_c:function(){var a=arguments;if(a.length&&isObject(a[0])){this.bulkSet(a[0])}this._id_=OJ.guid(this);return this},_d:function(){this._destroyed_=true},_u:function(d){var a=arguments,c=a.length,b;if(isArray(a[0])){c=(b=a[0]).length;for(;c--;){a[0]=b[c];this._u.apply(this,a)}return}this[d]=OJ.destroy(this[d],c>1?a[1]:0)},bulkGet:function(b){var a,c,d={};for(a in b){if(this[a]){if(isFunction(this[a])){d[a]=this[a]()}else{d[a]=b[a]}continue}c="set"+a.ucFirst();if(this[c]&&isFunction(this[c])){d[a]=this[c]()}}return d},bulkSet:function(c){var b,a;for(b in c){if(this[b]){if(isFunction(this[b])){this[b](c[b])}else{this[b]=c[b]}continue}a="set"+b.ucFirst();if(this[a]&&isFunction(this[a])){this[a](c[b]);continue}this[b]=c[b]}},className:function(){return this._class_name},clone:function(){var a=this.$;return new a()},exportData:function(){return{_class_name:this._class_name}},id:function(){return this._id_},importData:function(a){return a},is:function(a){if(isObject(a)||isFunction(a)){a=OJ.classToString(a)}return a==this._class_name||this._class_names.indexOf(a)!=-1},isEqualTo:function(a){return this==a},toJson:function(){return JSON.stringify(this)},toQueryString:function(){return Object.toQueryString(this)}};OjObject.importData=function(d){var b,f,e,a;if(isArray(d)){for(b=d.length;b--;){d[b]=OjObject.importData(d[b])}}else{if(isObject(d)){if(d._class_name){f=OJ.stringToClass(d._class_name);if(!f&&d._class_path){f=OJ.stringToClass(d._class_name)}if(f){e=new f();e.importData(d);return e}}for(a in d){d[a]=OjObject.importData(d[a])}}}return d};OjObject.exportData=function(c){var b,a;if(isArray(c)){for(b=c.length;b--;){c[b]=OjObject.exportData(c[b])}}else{if(isObject(c)){if(isFunction(c.exportData)){return c.exportData()}for(a in c){c[a]=OjObject.exportData(c[a])}}}return c};OjObject.makeNew=function(a){var b=this;function c(){return b.apply(this,a)}c.prototype=b.prototype;return new c()};Array.prototype.toQueryString=function(){var e="",a,d,b=this.length,c=arguments.length?arguments[0]:null;for(a=0;a<b;a++){if(isFunction(this[a])){continue}if(e!=""){e+="&"}d=c?c+"["+a+"]":a+"";if(isObject(this[a])){e+=this[a].toQueryString?this[a].toQueryString(d):Object.toQueryString(this[a],d)}else{e+=d+"="+encodeURI(this[a])}}return e};Object.toQueryString=function(d){var a,e="",c,b=arguments.length>1?arguments[1]:null;for(a in d){if(isFunction(d[a])||d[a]==d){continue}if(e!=""){e+="&"}c=b?b+"["+encodeURI(a)+"]":encodeURI(a);if(d[a]){if(isFunction(d[a].toQueryString)){e+=d[a].toQueryString(c)}else{e+=Object.toQueryString(d[a],c)}}else{e+=c+"="}}return e};String.prototype.toQueryString=Number.prototype.toQueryString=Boolean.prototype.toQueryString=function(a){return a+"="+encodeURI(this.valueOf())};String.prototype.parseQueryString=function(){var h=this,g={},f,d,e,c,a,b;if(h[0]=="?"){h=h.substring(1)}f=h.split("&");d=f.length;while(d-->0){e=f[d].split("=");e[0]=e[0].replaceAll("]","").split("[");a=e[0].length;if(a>1){if(!g[e[0][0]]){g[e[0][0]]={}}g[e[0][0]][e[0][1]]=e[1]}else{g[e[0][0]]=e[1]}}return g};window.toQueryString=function(a){if(a){if(a.toQueryString){return a.toQueryString()}else{if(isObject(a)){return Object.toQueryString(a)}}}return""};Date.prototype.toJson=function(a){return isFinite(this.valueOf())?this.getUTCFullYear().toFormattedString(2,0)+"-"+(this.getUTCMonth()+1).toFormattedString(2,0)+"-"+this.getUTCDate().toFormattedString(2,0)+"T"+this.getUTCHours().toFormattedString(2,0)+":"+this.getUTCMinutes().toFormattedString(2,0)+":"+this.getUTCSeconds().toFormattedString(2,0)+"Z":null};Array.prototype.toJson=function(){return JSON.stringify(this)};String.prototype.toJson=Number.prototype.toJson=Boolean.prototype.toJson=function(a){return this.valueOf()};String.prototype.parseJson=function(){return JSON.parse(this,function(c,d){if(isString(d)&&d.substr(-1)=="Z"){var b=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(d);if(b){return new Date(Date.UTC(+b[1],+b[2]-1,+b[3],+b[4],+b[5],+b[6]))}}return d})};window.toJson=function(a){return JSON.stringify(a)};OJ.extendClass(OjObject,"OjActionable",{_p_:{eventProxy:null},_prevent_dispatch:false,_c:function(){this._eventProxy=this;this._s("OjActionable","_c",arguments)},_d:function(){if(this._eventProxy){this.dispatchEvent(new OjEvent(OjEvent.DESTROY));this.removeAllListeners();this._eventProxy=null}return this._s("OjActionable","_d",arguments)},_listeners:function(a){return null},_updateListeners:function(e,b){var b=b.ucFirst(),d=e=="add"?"addEventListener":"removeEventListener",a=this._listeners(b),c=a?a.length:0,f;if(c){if((f=a[0])&&f[d]){if(c>1){f[d](a[1],this,"_on"+b)}if(c>2){f[d](a[2],this,"_on"+b+"Fail")}}}},addEventListener:function(b,a,c){EventManager.addEventListener(this._eventProxy,b,a,c)},hasEventListener:function(a){return EventManager.hasEventListener(this._eventProxy,a)},hasEventListeners:function(b){var a=arguments,c=a.length;if(c==1){if(isArray(a[0])){a=a[0];c=a.length}else{a=[a[0]];c=1}}for(;c--;){if(!EventManager.hasEventListener(this._eventProxy,a[c])){return false}}return true},removeAllListeners:function(){return EventManager.removeAllListeners(this._eventProxy)},removeEventListener:function(b,a,c){EventManager.removeEventListener(this._eventProxy,b,a,c)},dispatchEvent:function(a){if(this._prevent_dispatch||a.isCanceled()){return}EventManager.dispatchEvent(this._eventProxy,a)},setEventProxy:function(a){if(this._eventProxy){this.removeAllListeners()}this._eventProxy=a}});OJ.extendClass(OjObject,"OjEvent",{_g_p_:{bubbles:false,cancelable:false,currentTarget:null,phase:0,target:null,type:null},_canceled:false,_c:function(b){var a=arguments,c=a.length;this._s("OjEvent","_c",[]);this._type=b;if(c>1){this._bubbles=a[1];if(c>2){this._cancelable=a[2]}}},cancel:function(){if(this._cancelable){this._canceled=true}},clone:function(){var a=new window[this._class_name](this._type);a._bubbles=this._bubbles;a._cancelable=this._cancelable;return a},cloneWithChanges:function(c){var b=this.clone(),a;for(a in c){if(a!="currentTarget"||a!="phase"||a!="target"){b["_"+a]=c[a]}}return b},isCanceled:function(){return this._canceled}},{ADDED:"onAdded",OPEN:"onOpen",CANCEL:"onCancel",CHANGE:"onChange",CLOSE:"onClose",COMPLETE:"onComplete",DESTROY:"onDestroy",FAIL:"onFail",HIDE:"onHide",INIT:"onInit",LOAD:"onLoad",OK:"onOk",READY:"onReady",REMOVED:"onRemoved",SHOW:"onShow",SUBMIT:"onSubmit",ADDED_TO_DISPLAY:"onAddToDisplay",REMOVED_FROM_DISPLAY:"onRemovedFromDisplay"});OJ.extendManager("EventManager",OjObject,"OjEventManager",{_events:{},_index:{},_c:function(){this._s("OjEventManager","_c",arguments);var c,d,b=function(f){if(f&&f.type=="DOMContentLoaded"){a()}else{if(f&&f.type=="load"){a()}else{if(document.readyState){if((/loaded|complete/).test(document.readyState)){a()}else{if(!!document.documentElement.doScroll){try{c||document.documentElement.doScroll("left")}catch(f){return}a()}}}}}},a=function(){if(!c){c=true;if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",b,false)}document.onreadystatechange=null;window.onload=null;clearInterval(d);d=null;window.onDomReady()}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false)}document.onreadystatechange=b;d=setInterval(b,5);window.onload=b;return this},_dispatchEvents:function(a,f,h){if(a.isCanceled()){return}var d=this._events,c=h.id(),g,e,b;a._currentTarget=h;if(d[f]&&d[f][c]){e=d[f][c];for(b in e){g=e[b];if(g&&isFunction(g.callback)){g.callback.call(g.context,a)}}}},_getIndex:function(b,c){var a=this._index;if(!a[b]){a[b]={}}a[b][c[0]+":"+c[1]+":"+c[3]]=c},addEventListener:function(g,e,d,h){h=isString(h)?d[h]:h;var c=this._events,b=g.id(),f=d==window?"window":d.id(),a=f+":"+(h.guid?h.guid:h.guid=OJ.guid());if(!c[e]){c[e]={}}if(!c[e][b]){c[e][g.id()]={}}if(!c[e][b][a]){c[e][b][a]={callback:h,context:d};this._getIndex(b,[b,e,f,a]);this._getIndex(f,[b,e,f,a])}},dispatchEvent:function(d,a){var c=a.getType(),b;a._target=a._target?a._target:d;a._currentTarget=d;this._dispatchEvents(a,c,d);if(a._bubbles){b=d;while(b&&isFunction(b.parent)&&(b=b.parent())){this._dispatchEvents(a,c,b)}if(b&&b!=OJ){this._dispatchEvents(a,c,OJ)}}},hasEventListener:function(c,b){var a=this._events;if(a[b]&&a[b][c.id()]){return true}return false},_removeEventListener:function(e,f,g,b){var d=this._events,a=this._index,c=e+":"+f+":"+b;if(d[f]&&d[f][e]&&d[f][e][b]){delete d[f][e][b];if(isEmptyObject(d[f][e])){delete d[f][e];if(isEmptyObject(d[f])){delete d[f]}}}if(a[e]&&a[e][c]){delete a[e][c];if(isEmptyObject(a[e])){delete a[e]}}if(a[g]&&a[g][c]){delete a[g][a];if(isEmptyObject(a[g])){delete a[g]}}},removeAllListeners:function(d){var c=d.id(),b,a;if(b=this._index[c]){for(a in b){this._removeEventListener.apply(this,b[a])}delete this._index[c]}},removeEventListener:function(g,e,d,h){var c=this._events,b=g.id(),f=d.id(),a;if(c[e]){if(c[e][b]){if(h=isString(h)?d[h]:h){a=f+":"+h.guid;if(c[e][b][a]){this._removeEventListener(b,e,f,a)}}}}}});OJ.extendClass(OjEvent,"OjTextEvent",{_g_p_:{text:""},_c:function(c){var b,a=b=false,d=arguments.length;if(d>1){this._text=arguments[1];if(d>2){a=arguments[2];if(d>3){b=arguments[3]}}}this._s("OjTextEvent","_c",[c,a,b])}},{TEXT:"onText"});OJ.extendClass(OjTextEvent,"OjErrorEvent",{_g_p_:{code:0},_c:function(b){var a=Array.array(arguments),c=a.length;if(c>2){this._code=a[2];a.splice(2,1)}this._s("OjErrorEvent","_c",a)}},{ERROR:"onError"});OJ.extendClass(OjObject,"OjUrl",{_p_:{protocol:null,host:null,port:null,path:null,query:null,hash:null},_cache:null,_dirty:null,_hash_vars:null,_query_vars:null,_setter:function(e,c,b,d){var a=arguments;if(!this._cache[e]||this["_"+e]!=b){this["_"+e]=b;this._cache[e]="";if(isEmpty(b)){this["_"+e]=a.length>4?a[4]:null}else{this._cache[e]=c+b+d}}},_refresh:function(){if(arguments.length&&!arguments[0]){this._dirty.query=true;this._dirty.hash=true}this.getQuery();this.getHash()},_c:function(){this._s("OjUrl","_c",[]);var a=arguments;this.setSource(a.length?a[0]:"")},clone:function(){return new OjUrl(this.toString())},toString:function(){this._refresh();return this._cache.protocol+this._cache.host+this._cache.port+this._cache.path+this._cache.query+this._cache.hash},setProtocol:function(a){this._setter("protocol","",a.replaceAll([":","/"],""),"://","http")},setHost:function(a){this._setter("host","",a,"")},setPort:function(a){this._setter("port",":",a,"")},setPath:function(a){if(a&&a.charAt(0)!="/"){a="/"+a}this._setter("path","",a,"","/")},getQuery:function(){if(this._dirty.query){this.setQuery(Object.toQueryString(this._query_vars));delete this._dirty.query;delete this._dirty.query_vars}return this._query},setQuery:function(a){if(isString(a)&&a.charAt(0)=="?"){a=a.substr(1)}this._setter("query","?",a,"");this._dirty.query_vars=true;this.getQueryParams()},getQueryParams:function(){if(this._dirty.query_vars){this._query_vars=this._query?this._query.parseQueryString():{};delete this._dirty.query_vars}return this._query_vars},setQueryParams:function(a){this._query_vars=a;this._dirty.query=true},getQueryParam:function(a){this._query_vars=this.getQueryParams();return this._query_vars[a]},setQueryParam:function(a,b){this._query_vars=this.getQueryParams();if(isSet(b)){this._query_vars[a]=b}else{delete this._query_vars[a]}this._dirty.query=true},getHash:function(){if(this._dirty.hash){this.setHash(Object.toQueryString(this.getHashParams()));delete this._dirty.hash}return this._hash},setHash:function(a){if(a&&a.charAt(0)=="#"){a=a.substr(1)}this._setter("hash","#",a,"");delete this._dirty.hash;this._dirty.hash_vars=true;this.getHashParams()},getHashParams:function(){if(this._dirty.hash_vars){this._hash_vars={};if(this._hash){this._hash_vars=this._hash.parseQueryString()}delete this._dirty.hash_vars}return this._hash_vars},setHashParams:function(a){this._hash_vars=a;this._dirty.hash=true;delete this._dirty.hash_params},getHashParam:function(a){this._hash_vars=this.getHashParams();return this._hash_vars[a]},setHashParam:function(a,b){this._hash_vars=this.getHashParams();if(isSet(b)){this._hash_vars[a]=b}else{delete this._hash_vars[a]}this._dirty.hash=true},getSource:function(){return this.toString()},setSource:function(c){if(isObjective(c)){c=c.toString()}this._query_vars={};this._hash_vars={};this._cache={};this._dirty={};var b=document.createElement("a");b.href=c;this.setProtocol(b.protocol);this.setHost(b.hostname);this.setPort(b.port);this.setPath(b.pathname);this.setQuery(b.search);this.setHash(b.hash);this._refresh()}},{url:function(a){if(isString(a)){return new OjUrl(a)}if(isObject(a)&&a.is("OjUrl")){return a}return new OjUrl()}});OJ.extendClass(OjUrl,"OjUrlRequest",{_p_:{data:null,files:null,headers:null,method:"get"},_ignores_cache:false,_c:function(){var a=arguments.length;this._s("OjUrlRequest","_c",a?[arguments[0]]:[]);this._headers={};if(a>1){this.setData(arguments[1]);if(a>2){this.setContentType(arguments[2]);if(a>3){this.setMethod(arguments[3])}}}},ignoresCache:function(){if(arguments.length){this._ignores_cache=arguments[0]}return this._ignores_cache&&!this._headers["cache-control"]},isDelete:function(){return this._method==OjUrlRequest.DELETE},isGet:function(){return this._method==OjUrlRequest.GET},isHead:function(){return this._method==OjUrlRequest.HEAD},isMultiPart:function(){return this.getContentType()==OjUrlRequest.MULTIPART||!isEmpty(this._files)},isOptions:function(){return this._method==OjUrlRequest.OPTIONS},isPost:function(){return this._method==OjUrlRequest.POST},isPut:function(){return this._method==OjUrlRequest.PUT},isSafe:function(){return this.isGet()||this.isHead()||this.isOptions()},isUnsafe:function(){return !this.isSafe()},getHeader:function(a){return this._headers[a.toLowerCase()]},setHeader:function(a,b){this._headers[a.toLowerCase()]=b},unsetHeader:function(a){if(this._headers){delete this._headers[a.toLowerCase()]}},getContentType:function(){return this._headers["content-type"]?this._headers["content-type"]:OjUrlRequest.TEXT},setContentType:function(a){this._headers["content-type"]=a},setData:function(a){this._data=a;if(!this._headers["content-type"]){this.setContentType(OjUrlRequest.QUERY_STRING)}}},{urlRequest:function(a){if(isString(a)){return new OjUrlRequest(a)}if(isObject(a)&&a.is("OjUrlRequest")){return a}return new OjUrlRequest()},DELETE:"delete",GET:"get",HEAD:"head",OPTIONS:"options",POST:"post",PUT:"put",CSS:"text/css",QUERY_STRING:"application/x-www-form-urlencoded",HTML:"text/html",JS:"text/javascript",JSON:"application/json",MULTIPART:"multipart/form-data",TEXT:"text/plain",XML:"text/xml"});OJ.extendClass(OjObject,"OjXml",{_p_:{xml:null},_c:function(a){this._s("OjXml","_c",[]);this.setXml(a)},attr:function(a){var b=arguments;if(b.length>1){this._xml.setAttribute(a,b[1]);return val}return this._xml.getAttribute(a)},query:function(c){var d=arguments,f=0,g,h,b=d.length>1?d[1]:0,a,e=[];if(!window.DOMParser){e=this._xml.selectNodes(c);g=e.length;for(;f<g&&(!b||f<b);f++){e[f]=new OjXml(e[f])}return b==1?(g?e[0]:null):e.slice(0,b)}h=(this._xml.ownerDocument?this._xml.ownerDocument:this._xml).evaluate("."+c,this._xml,null,XPathResult.ANY_TYPE,null);if(h.resultType==XPathResult.ORDERED_NODE_ITERATOR_TYPE||h.resultType==XPathResult.UNORDERED_NODE_ITERATOR_TYPE){for(;(a=h.iterateNext())&&(!b||f++<b);){e.push(new OjXml(a))}return b==1?(e.length?e[0]:null):e}if(h.resultType==XPathResult.STRING_TYPE){return h.stringValue}if(h.resultType==XPathResult.NUMBER_TYPE){return h.numberValue}if(h.resultType==XPathResult.BOOLEAN_TYPE){return h.booleanValue}return null},value:function(){var b=arguments,a;if(b.length){a=this.query("/"+b[0],1);return a?a.value():null}return this._xml.textContent},setXml:function(a){this._xml=toXml(a)}},{xml:function(a){if(isXml(a)){return new OjXml(a)}if(isString(a)){return new OjXml(toXml(a))}return isObjective(a)&&a.is("OjXml")?a:null}});OJ.extendClass(OjEvent,"OjHttpStatusEvent",{_g_p_:{status:null},_c:function(d){var b=false,a=false,c=arguments,e=c.length;if(e>1){this._status=c[1];if(e>2){b=c[2];if(e>3){a=c[3]}}}this._s("OjHttpStatusEvent","_c",[d,b,a])}},{HTTP_STATUS:"onHttpStatus"});OJ.extendClass(OjErrorEvent,"OjIoErrorEvent",{},{IO_ERROR:"onIoError",IO_TIMEOUT:"onIoTimeout"});OJ.extendClass(OjEvent,"OjProgressEvent",{_g_p_:{progress:0},_c:function(c){var b,a=b=false,d=arguments.length;if(d>1){this._progress=arguments[1];if(d>2){a=arguments[2];if(d>3){b=arguments[3]}}}this._s("OjProgressEvent","_c",[c,a,b])}},{PROGRESS:"onProgress"});OJ.extendClass(OjObject,"OjCacheObject",{_p_:{created:null,data:null,expiration:null},_class_path:"oj.utils.OjCacheObject",_c:function(){this._s("OjCacheObject","_c",[]);this.setCreated(new Date());var a=arguments,b=a.length;if(b){this.setData(a[0]);if(b>1){this.setExpiration(a[1])}}},exportData:function(){var a=this._s("OjCacheObject","exportData",arguments);a.created=this._created;a.data=this._data?OjObject.exportData(this._data):null;a.expiration=this._expiration;return a},importData:function(a){if(!a){a={created:null,data:null,expiration:null}}this._created=a.created;this._data=OjObject.importData(a.data);this._expiration=a.expiration},setExpiration:function(a){if(this._expiration==a){return}if(!isDate(a)){this._expiration=new Date();this._expiration.setSeconds(this._expiration.getSeconds()+a)}else{this._expiration=a}}});OJ.extendClass(OjObject,"OjCachePolicy",{_g_p_:{action:1,lifespan:null,url:null},_c:function(b){this._s("OjCachePolicy","_c",arguments);var a=arguments,c=a.length;this._url=b;if(c>1){this._action=a[1];if(c>2){this._lifespan=a[2]}}}},{ALWAYS:1,NEVER:0,OFFLINE:2});OJ.extendManager("CacheManager",OjActionable,"OjCacheManager",{MINUTE:60,HOUR:3600,DAY:86400,WEEK:604800,MONTH:2419200,YEAR:29030400,FOREVER:0,_cache_size:0,_localStorage:null,_policies:null,_getCached:null,_setCached:null,_unsetCached:null,_c:function(){this._s("OjCacheManager","_c",arguments);try{this._localStorage="localStorage" in window&&!isNull(window.localStorage)?window.localStorage:null}catch(a){}if(this._localStorage){this.getData=this.getLocalData;this.setData=this.setLocalData;this.unsetData=this.unsetLocalData}else{this.getData=this.getCookie;this.setData=this.setCookie;this.unsetData=this.unsetCookie}this._policies={}},_getCookie:function(b){var c=";"+document.cookie;var a=c.indexOf(";"+b+"=");if(a==-1||isEmpty(b)){return undefined}var d=c.indexOf(";",a+1);if(d==-1){d=theCookie.length}return this._getData(decodeURIComponent(c.substring(a+b.length+2,d)))},_getData:function(c){var b;if(!c||!(b=c.parseJson())){return null}if(isObject(b)){var a=b._class_name;if(isUndefined(a)||(!isNull(a)&&a!="undefined"&&a!="boolean"&&a!="number"&&a!="string")){return OjObject.importData(b)}if(!a){return null}if(a=="undefined"){return undefined}return b.value}return b},_getLocalData:function(a){return this._getData(this._localStorage.getItem(a))},_isDataExpired:function(a){var b;if(isObjective(a)&&a.is("OjCacheObject")&&(b=a.getExpiration())&&b<new Date()){return true}return false},_setCookie:function(b,c){var a=new Date();var d=arguments.length>2?arguments[2]:this.FOREVER;if(isNull(d)||d==0){d=this.YEAR}a.setTime((new Date()).getTime()+d);document.cookie=b+"="+encodeURIComponent(this._setData(c))+";expires="+a.toGMTString()},_setData:function(a){if(isObject(a)){a=isObjective(a)?a.exportData():OjObject.exportData(a)}else{a={_class_name:typeof a,value:a}}return toJson(a)},_setLocalData:function(a,b){this._localStorage[a]=this._setData(b)},getCacheUrlRequestData:function(a){if(isEmpty(a=a.toString())){return null}return this.getData(a)},getCacheUrlRequestPolicy:function(a){if(isEmpty(a=a.toString())){return null}var b;for(b in this._policies){if(a.match(b)){return this._policies[b]}}return null},setCacheUrlRequestData:function(a,b){if(isEmpty(a=a.toString())){return null}var c=arguments.length>2?arguments[2]:this.getCacheUrlRequestPolicy(a);CacheManager.setData(a,b,c?c.getLifespan():null)},setCacheUrlRequestPolicy:function(a){this._policies[a.getUrl().replace(/\*/g,"[^ ]*")]=a},unsetCacheUrlRequestPolicy:function(c){var a;if(isObjective(c)&&c.is("OjCachePolicy")){a=c.getUrl().toString()}else{a=c.toString()}try{delete this._policies[a.replace(/\*/g,"[^ ]*")]}catch(b){}},unsetCacheUrlRequestData:function(a){CacheManager.unsetData(a)},getData:function(a){throw new Error("No getData() defined.");return;var b=this._getCachedData(a);return b?b.getData():null},setData:function(a,b){throw new Error("No setData() defined.");return;this._setCachedData(a,this._setData.apply(this,[].slice.call(arguments,1)))},unsetData:function(a){throw new Error("No unsetData() defined.")},getCookie:function(a){var b=this._getCookie(a);return b?b.getData():null},setCookie:function(a,c){var b=arguments.length;this._setCookie(a,new OjCacheObject(c,b>2?arguments[2]:null))},unsetCookie:function(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},getLocalData:function(a){var b=this._getLocalData(a);if(this._isDataExpired(b)){this.unsetLocalData(a);return null}return b?b.getData():null},setLocalData:function(b,d){var a=arguments,c=a.length;this._setLocalData(b,new OjCacheObject(d,c>2?a[2]:null))},unsetLocalData:function(a){delete this._localStorage[a]}});OJ.extendClass(OjActionable,"OjUrlLoader",{_p_:{async:false,data:null,contentType:OjUrlRequest.QUERY_STRING,request:null,timeout:10000},_is_xdomain:false,_policy:null,_url:null,_xhr:null,_c:function(){this._s("OjUrlLoader","_c",[]);var a=arguments.length;if(a){this.setRequest(arguments[0]);if(a>1){this.setAsync(arguments[1])}}},_d:function(){if(this._xhr){if(this._is_xdomain){this._xhr.onload=null;this._xhr.onerror=null}else{this._xhr.onreadystatechange=null}this._xhr.ontimeout=null}this._xhr=null;this._request=null;return this._s("OjUrlLoader","_d",arguments)},_load:function(){var c,d=this._request.getMethod();this._url=this._request.clone();if(d!=OjUrlRequest.POST&&(c=this._request.getData())){var b;for(b in c){this._url.setQueryParam(b,c[b])}}this._request.setSource(this._url);if(!this._request.ignoresCache()){var a=this._url.toString();this._policy=CacheManager.getCacheUrlRequestPolicy(a);if(this._policy&&this._policy.getAction()==OjCachePolicy.ALWAYS&&(this._data=CacheManager.getCacheUrlRequestData(a,this._policy))){this.dispatchEvent(new OjEvent(OjEvent.COMPLETE));return}}if(this.$.USE_ACTIVEX&&this._request.getHost()!=HistoryManager.get().getHost()){this._xhr=new window.XDomainRequest();this._is_xdomain=true}else{this._xhr=new window.XMLHttpRequest();this._is_xdomain=false}this._xhrOpen();this._xhrFormat();this._xhrEvents();this._xhrSend()},_loadMultiPart:function(){},_xhrEvents:function(){this.dispatchEvent(new OjEvent(OjEvent.OPEN));if(this._is_xdomain){this._xhr.onload=this._onLoad.bind(this);this._xhr.onerror=this._onError.bind(this)}else{this._xhr.onreadystatechange=this._onReadyStateChange.bind(this)}this._xhr.ontimeout=this._onTimeout.bind(this)},_xhrFormat:function(){var a,c=this._request.getHeaders();if(c&&!this._is_xdomain){for(a in c){if(a=="content-type"&&this._request.isSafe()){continue}this._xhr.setRequestHeader(a,c[a])}}if(this._policy&&!this._is_xdomain){if(this._policy.getAction()==OjCachePolicy.ALWAYS){var b=this._policy.getLifespan();if(!b){b=CacheManager.YEAR}this._xhr.setRequestHeader("cache-control","max-age="+b)}else{this._xhr.setRequestHeader("cache-control","no-cache")}}},_xhrOpen:function(){this._xhr.open(this._request.getMethod(),this._url,this._async);if(this._async&&!this._is_xdomain){this._xhr.timeout=this._timeout}else{}},_xhrSend:function(){var b;if(this._request.getMethod()==OjUrlRequest.POST){if(b=this._request.getData()){var a=this._request.getContentType();if(a==OjUrlLoader.JSON){b=toJson(b)}else{if(a==OjUrlLoader.XML){b=toXml(b)}else{if(a==OjUrlLoader.QUERY_STRING){b=toQueryString(b)}}}}}if(this._is_xdomain){var c=this._xhr;setTimeout(function(){c.send(b)},0)}else{this._xhr.send(b)}},_onError:function(){if(!this._xhr){return}OJ.destroy(this._timer);this.dispatchEvent(new OjIoErrorEvent(OjIoErrorEvent.IO_ERROR,this._xhr.statusText,status));this.dispatchEvent(new OjEvent(OjEvent.FAIL))},_onLoad:function(){if(!this._xhr){return}OJ.destroy(this._timer);if(this._is_xdomain){this._contentType=this._xhr.contentType}if(this._contentType){this._contentType=this._contentType.toLowerCase()}else{this._contentType=OjUrlLoader.TEXT}if(this._contentType.indexOf("/xml")!=-1){this._contentType=OjUrlLoader.XML;this.setData(this._xhr.responseXML)}else{if(this._contentType.indexOf("/json")!=-1){this._contentType=OjUrlLoader.JSON}else{if(this._contentType==OjUrlLoader.QUERY_STRING){this._contentType=OjUrlLoader.QUERY_STRING}else{this._contentType=OjUrlLoader.TEXT}}this.setData(this._xhr.responseText)}this.dispatchEvent(new OjEvent(OjEvent.COMPLETE))},_onReadyStateChange:function(){if(!this._xhr){return}var a=this._xhr.status,b=this._xhr.readyState;this.dispatchEvent(new OjHttpStatusEvent(OjHttpStatusEvent.HTTP_STATUS,a));if(a>199&&a<300&&b==4){this._contentType=this._xhr.getResponseHeader("Content-Type");this._onLoad()}else{if((!a&&b==4)||a>399){this._onError()}else{this.dispatchEvent(new OjProgressEvent(OjProgressEvent.PROGRESS))}}},_onTimeout:function(a){if(this._xhr){this._xhr.abort()}this.dispatchEvent(new OjIoErrorEvent(OjIoErrorEvent.IO_TIMEOUT));this.dispatchEvent(new OjEvent(OjEvent.FAIL))},cancel:function(){this._xhr.abort();this._xhr=null},load:function(){var a=arguments,b=a.length;if(b){this.setRequest(a[0])}if(this._request.isMultiPart()){this._loadMultiPart()}else{this._load()}return this._data},setData:function(a){this._data=null;if(a){if(this._contentType.indexOf("/json")>-1){this._data=a.parseJson()}else{if(this._contentType.indexOf("/xml")>-1){this._data=OjXml.xml(a)}else{if(this._contentType==OjUrlLoader.QUERY_STRING){this._data=a.parseQueryString()}else{this._data=a}}}}if(this._policy&&this._policy.getAction()!=OjCachePolicy.NEVER){CacheManager.setCacheUrlRequestData(this._request,this._data,this._policy)}}},{USE_ACTIVEX:(window.XDomainRequest||window.ActiveXObject),CSS:OjUrlRequest.CSS,QUERY_STRING:OjUrlRequest.QUERY_STRING,HTML:OjUrlRequest.HTML,JS:OjUrlRequest.JS,JSON:OjUrlRequest.JSON,TEXT:OjUrlRequest.TEXT,XML:OjUrlRequest.XML});OJ.extendClass(OjActionable,"OjLibrary",{_p_:{assets:null,async:false},_queue:null,_c:function(){this._s("OjLibrary","_c",[]);this.setAssets(arguments.length?arguments[0]:{});this._queue={}},_onSuccess:function(a){var c=a.getTarget().id(),b=this._queue[c];if(b){this._assets[b.asset]=a.getTarget().getData();delete this._queue[c]}OJ.destroy(a.getTarget())},_onFail:function(a){var c=a.getTarget().id(),b=this._queue[c];if(b){this.dispatchEvent(new OjErrorEvent(OjErrorEvent.ERROR));delete this._queue[c]}OJ.destroy(a.getTarget())},load:function(b){var d=b.toString(),c=arguments.length>1&&arguments[1];if(!this.isLoaded(d)||c){b=new OjUrlRequest.urlRequest(b);if(c){b.getQueryParam("force",Date.time())}var a=new OjUrlLoader(b,this._async);this._queue[a.id()]={loader:a,asset:d};a.addEventListener(OjEvent.COMPLETE,this,"_onSuccess");a.addEventListener(OjIoErrorEvent.IO_ERROR,this,"_onFail");a.load()}return this._assets[d]},isLoaded:function(a){return this._assets[a.toString()]?true:false},getAsset:function(a){return this._assets[a.toString()]},setAsset:function(a,b){a=a.toString();if(isNull(b)){return delete this._assets[a]}this._assets[a]=b}});OJ.extendClass(OjActionable,"OjElement",{_draggable:false,_dragX:0,_dragY:0,_did_drag:false,_c:function(){var a=arguments,c=a.length,d=c&&a[0]?a[0]:OjElement.elm("div"),b=c>1?a[1]:null;this._s("OjElement","_c",[]);this._setDom(d,b)},_d:function(){OjElement.unregister(this);this.setParent(null);if(this._dom){delete this._dom.ojElm;delete this._dom.ojProxy;this._dom=this._proxy=null}return this._s("OjElement","_d",arguments)},_setDom:function(a){this._setProxy(this._dom=a);this._dom.ojElm=this.id()},_setProxy:function(a){if(this._proxy){this._proxy.ojProxy=null}this._proxy=a;a.ojProxy=this.id()},_isDisplayed:function(){},_isNotDisplayed:function(){},dom:function(){return this._dom},inDom:function(){var a=this._dom;return a.ownerDocument&&isObject(a.ownerDocument)&&a.parentNode?true:false},hasDomElement:function(a){return OjElement.hasDomElement(this._dom,a)},parent:function(){return OjElement.element(this._dom.parentNode)},getParent:function(){return OjElement.element(this._dom.parentNode)},setParent:function(a){if(a){a.addChild(this)}else{if(a=this.parent()){a.removeChild(this)}}},_setIsDisplayed:function(a){if(this._is_displayed==a){return}if(this._is_displayed=a){this._isDisplayed();this.dispatchEvent(new OjEvent(OjEvent.ADDED_TO_DISPLAY))}else{this._isNotDisplayed();this.dispatchEvent(new OjEvent(OjEvent.REMOVED_FROM_DISPLAY))}}},{_elms:{},byId:function(c){var a=this._elms,b;if(a[c]){return a[c]}return(b=document.getElementById(c))&&b.ojProxy?a[b.ojProxy]:null},elm:function(a){return document.createElement(a)},element:function(a){if(!a){return null}if(isDomElement(a)){return this.isTextNode(a)?new OjTextElement(a):this.byId(a.ojProxy)}if(isObjective(a)){return a}return new OjStyleElement(a)},hasDomElement:function(a,b){if(a==b){return true}while((b=b.parentNode)){if(b==a){return true}}return false},isCommentNode:function(a){return a.nodeName.toLowerCase()=="#comment"},isTextNode:function(a){return a.nodeName.toLowerCase()=="#text"},parentComponent:function(b){if(isElement(b)){b=b._dom}var a;while(b){a=b.parentNode;if(a&&(b=this.element(a))&&isComponent(b)){return b}b=a}return null},register:function(a){this._elms[a.id()]=a},unregister:function(a){delete this._elms[a.id()]}});OJ.extendClass(OjObject,"OjRect",{_p_:{top:0,left:0,width:0,height:0},_g_p_:{bottom:0,right:0},_c:function(){this._s("OjRect","_c",[]);var a=arguments,b=a.length;if(b){this.setLeft(a[0]);if(b>1){this.setTop(a[1]);if(b>2){this.setWidth(a[2]);if(b>3){this.setHeight(a[3])}}}}},hitTestPoint:function(a,b){return a>=this._left&&a<=this._right&&b>=this._top&&b<=this._bottom},hitTestRect:function(a){return(a._top>=this._top&&a._top<=this._bottom&&a._left>=this._left&&a._left<=this._right)||(a._top>=this._top&&a._top<=this._bottom&&a._right>=this._left&&a._right<=this._right)||(a._bottom>=this._top&&a._bottom<=this._bottom&&a._left>=this._left&&a._left<=this._right)||(a._bottom>=this._top&&a._bottom<=this._bottom&&a._right>=this._left&&a._right<=this._right)},setTop:function(a){this._bottom=(this._top=a)+this._height},setLeft:function(a){this._right=(this._left=a)+this._width},setWidth:function(a){this._right=(this._width=a)+this._left},setHeight:function(a){this._bottom=(this._height=a)+this._top}});OJ.extendClass(OjObject,"OjCssTranslate",{_p_:{x:0,unitX:OJ.setting("dimUnit"),unitY:OJ.setting("dimUnit"),y:0},_c:function(){var a=arguments,b=a.length;this._s("OjCssTranslate","_c",[]);if(b){this.setX(a[0]);if(b>1){this.setY(a[1]);if(b>2){this.setUnitX(a[2]);if(b>3){this.setUnitY(a[3])}}}}},clone:function(){var a=this._s("OjCssTranslate","clone",arguments);a._x=this._x;a._unitX=this._unitX;a._unitY=this._unitY;a._y=this._y;return a},isEqualTo:function(a){return a&&a._x==this._x&&a._unitX==this._unitX&&a._unitY==this._unitY&&a._y==this._y},toString:function(){return !this._x&&!this._y?"":String(this._x)+this._unitX+", "+String(this._y)+this._unitY}});OJ.extendClass(OjEvent,"OjDomEvent",{},{normalizeDomEvent:function(a){if(!a){a=window.event}a=OJ.merge({},a);if(a.clientX||a.clientY){a.pageX=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a.pageY=a.clientY+document.body.scrollTop+document.documentElement.scrollTop}if(a.which){a.rightClick=a.which==3}else{if(a.button){a.rightClick=a.button==2}}return a},convertDomEvent:function(a){a=OjDomEvent.normalizeDomEvent(a);return new OjDomEvent(a.type,true,true)},CLICK:"click",DOUBLE_CLICK:"dblclick",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",MOUSE_UP:"mouseup",MOUSE_WHEEL:"mousewheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",FOCUS_IN:"focus",FOCUS_OUT:"blur",CHANGE:"change",SCROLL:"scroll",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",ORIENTATION_CHANGE:"orientationchange"});OJ.extendClass(OjDomEvent,"OjMouseEvent",{_g_p_:{pageX:NaN,pageY:NaN},_c:function(a){var b=arguments.length;this._s("OjMouseEvent","_c",b>3?[].slice.call(arguments,0,3):arguments);if(b>3){this._pageX=arguments[3];if(b>4){this._pageY=arguments[4]}}},clone:function(){var a=this._s("OjMouseEvent","clone",arguments);a._pageX=this._pageX;a._pageY=this._pageY;return a}},{_evt_map:{click:"onClick",dblclick:"onDoubleClick",mousedown:"onMouseDown",mousemove:"onMouseMove",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseup:"onMouseUp",mousewheel:"onMouseWheel"},convertDomEvent:function(a){a=OjDomEvent.normalizeDomEvent(a);var c=this._evt_map[a.type];if(c==OjMouseEvent.CLICK){}var b=new OjMouseEvent(c,a.bubbles,a.cancelable,a.pageX,a.pageY);b._target=OjElement.element(a.target);b._currentTarget=OjElement.element(a.currentTarget);return b},isMouseEvent:function(b){var a;for(a in this._evt_map){if(b==this._evt_map[a]){return true}}return false},isMouseDomEvent:function(b){var a;for(a in this._evt_map){if(b==a){return true}}return false},CLICK:"onClick",DOUBLE_CLICK:"onDoubleClick",DOWN:"onMouseDown",MIDDLE_CLICK:"onMiddleClick",MOVE:"onMouseMove",OVER:"onMouseOver",OUT:"onMouseOut",RIGHT_CLICK:"onRightClick",RIGHT_UP:"onMouseRightUp",RIGHT_DOWN:"onMouseRightDown",UP:"onMouseUp",WHEEL:"onMouseWheel"});OJ.extendClass(OjMouseEvent,"OjDragEvent",{_g_p_:{deltaX:0,deltaY:0,originX:0,originY:0},_c:function(d,b,a,e){var c=[].slice.call(arguments,4);c.unshift(d);this._s("OjDragEvent","_c",c);this._deltaX=b;this._deltaY=a;this._pageX=e._pageX;this._pageY=e._pageY},clone:function(){var a=this._s("OjDragEvent","clone",arguments);a._deltaX=this._deltaX;a._deltaY=this._deltaY;return a}},{isDragEvent:function(a){return a==OjDragEvent.DRAG||a==OjDragEvent.END||a==OjDragEvent.START},END:"onDragEnd",MOVE:"onDrag",START:"onDragStart"});OJ.extendClass(OjDomEvent,"OjFocusEvent",{},{convertDomEvent:function(a){var b;a=OjDomEvent.normalizeDomEvent(a);if(a.type==OjDomEvent.FOCUS_IN){b=OjFocusEvent.IN}else{if(a.type==OjDomEvent.FOCUS_OUT){b=OjFocusEvent.OUT}}return new OjFocusEvent(b,true,true)},isFocusEvent:function(a){return a==OjFocusEvent.IN||a==OjFocusEvent.OUT},isFocusDomEvent:function(a){return a==OjDomEvent.FOCUS_IN||a==OjDomEvent.FOCUS_OUT},IN:"onFocusIn",OUT:"onFocusOut"});OJ.extendClass(OjDomEvent,"OjKeyboardEvent",{},{convertDomEvent:function(a){var b;a=OjDomEvent.normalizeDomEvent(a);if(a.type==OjDomEvent.KEY_DOWN){b=OjKeyboardEvent.DOWN}else{if(a.type==OjDomEvent.KEY_PRESS){b=OjKeyboardEvent.PRESS}else{if(a.type==OjDomEvent.KEY_UP){b=OjKeyboardEvent.UP}}}return new OjKeyboardEvent(b,true,true)},isKeyboardEvent:function(a){return a==OjKeyboardEvent.DOWN||a==OjKeyboardEvent.PRESS||a==OjKeyboardEvent.UP},isKeyboardDomEvent:function(a){return a==OjDomEvent.KEY_DOWN||a==OjDomEvent.KEY_PRESS||a==OjDomEvent.KEY_UP},DOWN:"onKeyDown",PRESS:"onKeyPress",UP:"onKeyUp"});OJ.extendClass(OjDomEvent,"OjScrollEvent",{_g_p_:{scrollX:NaN,scrollY:NaN},_c:function(b,d,c){var a=Array.array(arguments).slice(3);a.unshift(b);this._s("OjScrollEvent","_c",a);this._scrollX=d;this._scrollY=c},clone:function(){var a=this._s("OjScrollEvent","clone",arguments);a._scrollX=this._scrollX;a._scrollY=this._scrollY;return a}},{convertDomEvent:function(a){var b;a=OjDomEvent.normalizeDomEvent(a);if(a.type=="scroll"){b="onScroll"}return new OjScrollEvent(b,true,true,a.target.scrollLeft,a.target.scrollTop)},isScrollEvent:function(a){return a=="onScroll"},isScrollDomEvent:function(a){return a=="scroll"},SCROLL:"onScroll"});OJ.extendClass(OjDomEvent,"OjTouchEvent",{_g_p_:{pageX:NaN,pageY:NaN},_c:function(a){var b=arguments.length;this._s("OjTouchEvent","_c",b>3?[].slice.call(arguments,0,3):arguments);if(b>3){this._pageX=arguments[3];if(b>4){this._pageY=arguments[4]}}},clone:function(){var a=this._s("OjTouchEvent","clone",arguments);a._pageX=this._pageX;a._pageY=this._pageY;return a}},{convertDomEvent:function(a){var c;a=OjDomEvent.normalizeDomEvent(a);if(a.type==OjDomEvent.TOUCH_END){c=OjTouchEvent.END}else{if(a.type==OjDomEvent.TOUCH_MOVE){c=OjTouchEvent.MOVE}else{if(a.type==OjDomEvent.TOUCH_START){c=OjTouchEvent.START}}}var b=new OjTouchEvent(c,a.bubbles,a.cancelable,a.changedTouches[0].pageX,a.changedTouches[0].pageY);b._target=OjElement.element(a.target);b._currentTarget=OjElement.element(a.currentTarget);return b},isTouchEvent:function(a){return a==OjTouchEvent.END||a==OjTouchEvent.MOVE||a==OjTouchEvent.START},isTouchDomEvent:function(a){return a==OjDomEvent.TOUCH_END||a==OjDomEvent.TOUCH_MOVE||a==OjDomEvent.TOUCH_START},START:"onTouchStart",MOVE:"onTouchMove",END:"onTouchEnd"});OJ.extendClass(OjEvent,"OjTransformEvent",{_g_p_:{deltaX:0,deltaY:0,pageX:0,pageY:0},_c:function(f,e,d,b,a){var c=[].slice.call(arguments,4);c.unshift(f);this._s("OjTransformEvent","_c",c);this._deltaX=b;this._deltaY=a;this._pageX=e;this._pageY=d},clone:function(){var a=this._s("OjTransformEvent","clone",arguments);a._deltaX=this._deltaX;a._deltaY=this._deltaY;a._pageX=this._pageX;a._pageY=this._pageY;return a}},{isTransformEvent:function(a){return a==OjTransformEvent.MOVE||a==OjTransformEvent.RESIZE},MOVE:"onMove",RESIZE:"onResize"});OJ.extendClass(OjElement,"OjStyleElement",{_p_:{id:null,name:null,owner:null},_alpha:1,_depth:0,_scrollable:false,_origin:"0px, 0px",_rotation:0,_translate:"0px, 0px",_h_align:"l",_v_align:"t",_compile_:function(b){var a=OjStyleElement;if(a.STYLE_MODE==a.STYLE_IE){this._getStyle=this._getStyleIe}else{if(a.STYLE_MODE==a.STYLE_BACKUP){this._getStyle=this._getStyleBackup}}b._style_funcs_.call(this,"margin","Margin");b._style_funcs_.call(this,"padding","Padding")},_style_funcs_:function(e,a){var f="get",d="set",b="Bottom",i="Left",c="Right",h="Top";this[f+a]=function(){return this._getStyler(e,arguments)};this[d+a]=function(g){this._setStyler(e,arguments)};this[f+a+b]=function(){return this[f+a](2)};this[d+a+b]=function(g){this[d+a](null,null,g,null)};this[f+a+i]=function(){return this[f+a](3)};this[d+a+i]=function(g){this[d+a](null,null,null,g)};this[f+a+c]=function(){return this[f+a](1)};this[d+a+c]=function(g){this[d+a](null,g,null,null)};this[f+a+h]=function(){return this[f+a](0)};this[d+a+h]=function(g){this[d+a](g,null,null,null)}},_c:function(){var c=arguments,f=c.length,g,e,d;if(f&&(g=c[0])){if(f>1){e=c[1]}if(g&&!g.nodeType){if(g==="body"||g==document||g==document.body){g=document.body}else{if(isString(g)){g=g.trim();if(g.charAt(0)=="<"&&g.slice(-1)==">"&&g.length>=5){var a=g.substr(0,6).toLowerCase(),b=a.substr(0,3);if(a=="<thead"||a=="<tbody"||a=="<tfoot"){d=OjElement.elm("table")}else{if(b=="<tr"){d=OjElement.elm("tbody")}else{if(b=="<td"||b=="<th"){d=OjElement.elm("tr")}else{d=OjElement.elm("div")}}}d.innerHTML=g;if(d.childNodes.length){d.removeChild(g=d.childNodes[0])}else{g=null}}else{}}}}}this._s("OjStyleElement","_c",[g,e]);OjElement.register(this);this.setHAlign(this._h_align);this.setVAlign(this._v_align)},_d:function(){this._u("_move_timer","_scroll_timer");var a=arguments,c=a.length?a[0]:0,b=this.numChildren();for(;b--;){OJ.destroy(this.getChildAt(b),c)}this._owner=null;return this._s("OjStyleElement","_d",arguments)},_processAttribute:function(d,g,a){var c,h,f,e,i=g.nodeName,b=g.value;if(i.substr(0,3)=="on-"){c=b.split(".");h=c.length==1;f=a;if(!h){switch(c[0]){case"this":f=this;break;case"window":f=window;break}}this.addEventListener(OJ.attributeToFunc(i),f,h?c[0]:c[1]);return true}else{if(i=="id"){this.setId(b)}else{if(i=="var"){if(!isEmpty(b)&&a){(a[b]=this).addCss(b);this.setOwner(a)}return true}else{if(i!="class"){c=OjStyleElement.attributeToSetter(i);if(isFunction(this[c])){if(b==""){b=null}else{if(isNumeric(b)){b=parseFloat(b)}else{if((e=b.toLowerCase())=="true"){b=true}else{if(e=="false"){b=false}}}}this[c](b);return i.indexOf("-align")==-1}}}}}return false},_processAttributes:function(e,c){var b=e.attributes,d,a;if((a=e.attributes["var"])&&this._processAttribute(e,a,c)){e.removeAttribute("var")}e.removeAttribute("class-name");e.removeAttribute("class-path");for(d=b.length;d--;){a=b[d];if(this._processAttribute(e,a,c)){e.removeAttribute(a.nodeName)}}},_processChildren:function(d,b){if(!d){return}var a=d.childNodes,c=a.length;for(;c--;){if(!this._processChild(a[c],b)&&a[c]){d.removeChild(a[c])}}},_processChild:function(e,c){if(!e){return}var a=e.tagName;if(!a||OjElement.isTextNode(e)){return isEmpty(e.nodeValue)?null:new OjTextElement(e)}var f,d,b=e.getAttribute("class-name");a=a.toLowerCase();if(a=="script"||a=="link"){return false}if(!window[b]&&(d=e.getAttribute("class-path"))){}if(OjStyleElement.isComponentTag(a)){b=OjStyleElement.getTagComponent(a)}if(b){if(isFunction(b)){f=b(e)}else{f=new window[b]()}f._setDomSource(e,c)}else{f=new OjStyleElement(e,c)}return f},_setDom:function(b,a){this._s("OjStyleElement","_setDom",[b]);this._processAttributes(b,a);this._processChildren(b,a);if(!this._id){this.setId(this._id_)}},_setIsDisplayed:function(a){var b,c;if(this._is_displayed==a){return}this._s("OjStyleElement","_setIsDisplayed",arguments);for(b=this.numChildren();b--;){if(c=this.getChildAt(b)){c._setIsDisplayed(this._is_displayed)}}},_processEvent:function(a){if(OjElement.element(a.currentTarget)!=this||a.dispatched){return false}a.dispatched=true;return true},_onOjDomEvent:function(a){var b=OjElement.element(this);if(b&&b._processEvent(a)){b._onEvent(OjDomEvent.convertDomEvent(a))}},_onDomOjMouseEvent:function(a){var b=OjElement.element(this);if(b&&b._processEvent(a)){b._onEvent(OjMouseEvent.convertDomEvent(a))}},_onDomOjKeyboardEvent:function(a){var b=OjElement.byId(this.ojProxy);if(b&&b._processEvent(a)){b._onEvent(OjKeyboardEvent.convertDomEvent(a))}},_onDomOjFocusEvent:function(a){var b=OjElement.byId(this.ojProxy);if(b&&b._processEvent(a)){b._onEvent(OjFocusEvent.convertDomEvent(a))}},_onDomScrollEvent:function(a){var b=OjElement.byId(this.ojProxy);if(b&&b._processEvent(a)){b._onScroll(OjScrollEvent.convertDomEvent(a))}},_onDomTouchEvent:function(a){var b=OjElement.byId(this.ojProxy);if(b&&b._processEvent(a)){return b._onTouch(OjTouchEvent.convertDomEvent(a))}return false},_onDrag:function(a){this.dispatchEvent(new OjDragEvent(OjDragEvent.DRAG,a.getPageX()-this._dragX,a.getPageY()-this._dragY,a,false,false))},_onDragEnd:function(a){OJ.removeEventListener(OjMouseEvent.MOVE,this,"_onDrag");OJ.removeEventListener(OjMouseEvent.UP,this,"_onDragEnd");this.dispatchEvent(new OjDragEvent(OjDragEvent.END,a.getPageX()-this._dragX,a.getPageY()-this._dragY,a,false,false))},_onDragStart:function(a){this._dragX=a.getPageX();this._dragY=a.getPageY();if(this.hasEventListener(OjDragEvent.DRAG)){OJ.addEventListener(OjMouseEvent.MOVE,this,"_onDrag")}OJ.addEventListener(OjMouseEvent.UP,this,"_onDragEnd");this.dispatchEvent(new OjDragEvent(OjDragEvent.START,0,0,a,false,false))},_onEvent:function(a){this.dispatchEvent(a);return false},_onMoveTick:function(a){var c=this.getPageX(),b=this.getPageY(),e=this._page_x-c,d=this._page_y-b;if(e||d){this.dispatchEvent(new OjTransformEvent(OjTransformEvent.MOVE,c,b,e,d))}this._page_x=c;this._page_y=b},_onScroll:function(b){var a,c;if(b.is("OjScrollEvent")){if(this._prev_x==(a=b.getScrollX())&&this._prev_y==(c=b.getScrollY())){return}this._prev_x=a;this._prev_y=c;return this._onEvent(b)}if(this._prev_x==(a=this.getScrollX())&&this._prev_y==(c=this.getScrollY())){return}return this._onEvent(new OjScrollEvent(OjScrollEvent.SCROLL,this._prev_x=a,this._prev_y=c))},_onTouch:function(b){var c=b.getType(),a=b.getPageX(),d=b.getPageY();if(c==OjTouchEvent.END){c=OjMouseEvent.UP}else{if(c==OjTouchEvent.START){c=OjMouseEvent.DOWN;this._dragX=a;this._dragY=d}else{if(c==OjTouchEvent.MOVE){c=OjMouseEvent.MOVE}}}if(c){this._onEvent(new OjMouseEvent(c,true,true,a,d));if(c==OjMouseEvent.UP&&a==this._dragX&&d==this._dragY){this._onEvent(new OjMouseEvent(OjMouseEvent.CLICK,true,true,a,d))}}return true},_updateTouchStartListeners:function(){if(!this.hasEventListeners(OjMouseEvent.DOWN,OjMouseEvent.CLICK,OjDragEvent.START,OjDragEvent.DRAG,OjDragEvent.END)){this._proxy.ontouchstart=null}},_updateTouchMoveListeners:function(){if(!this.hasEventListeners(OjMouseEvent.MOVE,OjDragEvent.START,OjDragEvent.DRAG,OjDragEvent.END)){this._proxy.ontouchmove=null}},_updateTouchEndListeners:function(){if(!this.hasEventListeners(OjMouseEvent.UP,OjDragEvent.START,OjDragEvent.DRAG,OjDragEvent.END)){this._proxy.ontouchend=null}},addEventListener:function(c){var b=OJ.isTouchCapable(),a=this._proxy;this._s("OjStyleElement","addEventListener",arguments);if(c==OjScrollEvent.SCROLL){this._scrollable=true;a.onscroll=this._onDomScrollEvent}else{if(c==OjMouseEvent.CLICK){if(b){a.ontouchstart=a.ontouchend=this._onDomTouchEvent}else{a.onclick=this._onDomOjMouseEvent}}else{if(c==OjMouseEvent.DOUBLE_CLICK){a.ondblclick=this._onDomOjMouseEvent}else{if(c==OjMouseEvent.DOWN){if(b){a.ontouchstart=this._onDomTouchEvent}else{a.onmousedown=this._onDomOjMouseEvent}}else{if(c==OjMouseEvent.MOVE){if(b){a.ontouchmove=this._onDomTouchEvent}else{a.onmousemove=this._onDomOjMouseEvent}}else{if(c==OjMouseEvent.OUT){a.onmouseout=this._onDomOjMouseEvent}else{if(c==OjMouseEvent.OVER){a.onmouseover=this._onDomOjMouseEvent}else{if(c==OjMouseEvent.UP){if(b){a.ontouchend=this._onDomTouchEvent}else{a.onmouseup=this._onDomOjMouseEvent}}else{if(OjDragEvent.isDragEvent(c)){this._draggable=true;this.addEventListener(OjMouseEvent.DOWN,this,"_onDragStart")}else{if(c==OjKeyboardEvent.DOWN){a.onkeydown=this._onDomOjKeyboardEvent}else{if(c==OjKeyboardEvent.PRESS){a.onkeypress=this._onDomOjKeyboardEvent}else{if(c==OjKeyboardEvent.UP){a.onkeyup=this._onDomOjKeyboardEvent}else{if(c==OjFocusEvent.IN){a.onfocus=this._onDomOjFocusEvent}else{if(c==OjFocusEvent.OUT){a.onblur=this._onDomOjFocusEvent}else{if(c==OjTransformEvent.MOVE){if(!this._move_timer){this._move_timer=new OjTimer(250,0);this._move_timer.addEventListener(OjTimer.TICK,this,"_onMoveTick");this._page_x=this.getPageX();this._page_y=this.getPageY();this._move_timer.start()}}else{if(c==OjTransformEvent.RESIZE&&this._proxy!=document.body){a.onresize=this._onOjDomEvent}else{if(c==OjDomEvent.CHANGE){a.onchange=this._onOjDomEvent}}}}}}}}}}}}}}}}}},removeEventListener:function(c,b,d){var a=this._proxy;this._s("OjStyleElement","removeEventListener",arguments);if(c==OjScrollEvent.SCROLL){if(!this.hasEventListener(OjScrollEvent.SCROLL)){this._scrollable=false;a.onscroll=null}}else{if(c==OjMouseEvent.CLICK){if(!this.hasEventListener(OjMouseEvent.CLICK)){a.onclick=null;this._updateTouchStartListeners();this._updateTouchEndListeners()}}else{if(c==OjMouseEvent.DOUBLE_CLICK){if(!this.hasEventListener(OjMouseEvent.DOUBLE_CLICK)){a.ondblclick=null;this._updateTouchStartListeners();this._updateTouchEndListeners()}}else{if(c==OjMouseEvent.DOWN){if(!this.hasEventListeners(OjMouseEvent.DOWN,OjDragEvent.DRAG)){a.onmousedown=null;this._updateTouchStartListeners()}}else{if(c==OjMouseEvent.MOVE){if(!this.hasEventListener(OjMouseEvent.MOVE)){a.onmousemove=null;this._updateTouchMoveListeners()}}else{if(c==OjMouseEvent.OUT){if(!this.hasEventListener(OjMouseEvent.OUT)){a.onmouseout=null}}else{if(c==OjMouseEvent.OVER){if(!this.hasEventListener(OjMouseEvent.OVER)){a.onmouseover=null}}else{if(c==OjMouseEvent.UP){if(!this.hasEventListener(OjMouseEvent.UP)){a.onmouseup=null;this._updateTouchEndListeners()}}else{if(OjDragEvent.isDragEvent(c)){if(!this.hasEventListeners(OjDragEvent.DRAG,OjDragEvent.END,OjDragEvent.START)){this._draggable=false;this.removeEventListener(OjMouseEvent.DOWN,this,"_onDragStart");OJ.removeEventListener(OjMouseEvent.MOVE,this,"_onDrag");OJ.removeEventListener(OjMouseEvent.UP,this,"_onDragEnd")}}else{if(c==OjKeyboardEvent.DOWN){if(!this.hasEventListener(OjKeyboardEvent.DOWN)){a.onkeydown=null}}else{if(c==OjKeyboardEvent.PRESS){if(!this.hasEventListener(OjKeyboardEvent.PRESS)){a.onkeypress=null}}else{if(c==OjKeyboardEvent.UP){if(!this.hasEventListener(OjKeyboardEvent.UP)){a.onkeyup=null}}else{if(c==OjFocusEvent.IN){if(!this.hasEventListener(OjFocusEvent.IN)){a.onfocus=null}}else{if(c==OjFocusEvent.OUT){if(!this.hasEventListener(OjFocusEvent.OUT)){a.onblur=null}}else{if(c==OjTransformEvent.MOVE){if(!this.hasEventListener(OjTransformEvent.MOVE)){this._u("_move_timer")}}else{if(c==OjTransformEvent.RESIZE){if(!this.hasEventListener(OjTransformEvent.RESIZE)){a.onresize=null}}else{if(c==OjDomEvent.CHANGE){if(!this.hasEventListener(OjDomEvent.CHANGE)){a.onchange=null}}}}}}}}}}}}}}}}}}},addChild:function(a){return this.addChildAt(a,this.numChildren())},addChildAt:function(c,a){var b=this._dom;if(!c||this.hasChild(c)){return c}if(a>=this.numChildren()){b.appendChild(c._dom)}else{b.insertBefore(c._dom,b.childNodes[a])}c._setIsDisplayed(this._is_displayed);return c},getChildAt:function(a){return OjElement.element(this._dom.childNodes[a])},getChildren:function(){var a=[],b=this.numChildren();for(;b--;){a.unshift(this.getChildAt(b))}return a},setChildren:function(b){this.removeAllChildren();var a=0,c=b.length;for(;a<c;a++){this.addChild(b[a])}},indexOfChild:function(a){return Array.array(this._dom.childNodes).indexOf(a._dom)},hasChild:function(a){return a.parent()==this},numChildren:function(){return this._dom.childNodes.length},moveChild:function(b,a){if(this.hasChild(b)){this._dom.insertBefore(b._dom,this.getChildAt(a)._dom);return b}},removeAllChildren:function(){var b=this.numChildren(),a=[];for(;b--;){a.unshift(this.removeChildAt(b))}return a},removeChild:function(a){if(a){this._dom.removeChild(a._dom);a._setIsDisplayed(false)}return a},removeChildAt:function(a){if(a<0||a>=this.numChildren()){return null}return this.removeChild(this.getChildAt(a))},removeChildren:function(a){var b=a.length;for(;b--;){this.removeChild(a[b])}},replaceChild:function(b,a){return this.replaceChildAt(a,this.indexOfChild(b))},replaceChildAt:function(c,a){var b;if(a>=this.numChildren()){this.addChild(c)}else{b=this.removeChildAt(a);this.addChildAt(c,a)}return b},blur:function(){if(isFunction(this._dom.blur)){this._dom.blur()}},find:function(a){if(isElement(a)){a="#"+a.id()}return OJ.query(a,this._dom)},focus:function(){if(isFunction(this._dom.focus)){this._dom.focus()}},hide:function(){this.addCss(["hidden"]);this.dispatchEvent(new OjEvent(OjEvent.HIDE))},isVisible:function(){return this._getStyle("display")!=OjStyleElement.NONE&&this._getStyle("visibility")!="hidden"&&this._alpha>0&&this.getWidth()>0&&this.getHeight()>0},show:function(){this.removeCss(["hidden"]);this.dispatchEvent(new OjEvent(OjEvent.SHOW))},_getStyleBackup:function(a){return this._proxy.style[a]},_getStyleIe:function(a){return this._proxy.currentStyle[a]},_getStyle:function(a){return document.defaultView.getComputedStyle(this._proxy,null)[a]},_setStyle:function(a,b){return this._proxy.style[a]=b},_getStyleNumber:function(b){var a=this._getStyle(b);if(!a||a==OjStyleElement.NONE){return 0}return parseFloat(a.replaceAll(["px","%","pt","em"],""))},_setStyleNumber:function(c,b){var a=arguments;this._setStyle(c,b+(a.length>2?a[2]:this._getStyleUnit(c)))},_getStyler:function(c,a){var b=c=="font"||c=="line"?OJ.setting("fontUnit"):OJ.setting("dimUnit");if(!this["_"+c]){this["_"+c]=[this._getStyle(c+"Top").replaceAll(b,""),this._getStyle(c+"Right").replaceAll(b,""),this._getStyle(c+"Bottom").replaceAll(b,""),this._getStyle(c+"Left").replaceAll(b,"")]}return a&&a.length?this["_"+c][a[0]]:this["_"+c]},_setStyler:function(f,c){var e="",b=c.length,d=c[0],a=this._getStyleUnit(f);this._getStyler(f);if(b==1){c=[d,d,d,d]}else{if(b==2){c=[d,c[1],d,c[1]]}else{if(b==3){c=[d,c[1],c[2],c[1]]}}}for(b=4;b--;){d=c[b];if(isNull(d)){d=this["_"+f][b]}e=(b?" ":"")+d+a+e}this._setStyle(f,e)},_getStyleUnit:function(a){a=a.substr(0,4);if(a=="font"||a=="line"){return OJ.setting("fontUnit")}return OJ.setting("dimUnit")},getAttr:function(a){return this._proxy.getAttribute(a)},setAttr:function(a){if(arguments.length==1){if(isEmpty(a.value)){this._proxy.removeAttribute(a.nodeName)}else{this._proxy.setAttribute(a.nodeName,a.value)}}else{if(isSet(arguments[1])){this._proxy.setAttribute(a,arguments[1])}else{this._proxy.removeAttribute(a)}}},setId:function(a){if(this._id==a){return}this._dom.id=this._id=a},setName:function(a){if(this._name==a){return}this.setAttr("name",this._name=a)},getText:function(){return this._dom.innerHTML},setText:function(a){this.removeAllChildren();this._dom.innerHTML=a?a.toString():null},_makeCssList:function(a){if(isArray(a[0])){return a[0]}var b=a.length,c=[];for(;b--;){c=c.concat(a[b].trim().split(" "))}return c},_processCssList:function(c,g){var d=this.getCssList(),f=this._makeCssList(c),e=f.length,a,b;for(;e--;){b=d.indexOf(a=f[e]);if(b==-1){switch(g){case"has":return false;case"add":case"toggle":d.push(a)}}else{switch(g){case"remove":case"toggle":d.splice(b,1)}}}if(g=="has"){return true}return this.setCss(d)},addCss:function(a){return this._processCssList(arguments,"add")},getCss:function(){return this._proxy.className.trim()},getCssList:function(){return this.getCss().split(" ")},hasCss:function(a){return this._processCssList(arguments,"has")},removeCss:function(a){return this._processCssList(arguments,"remove")},setCss:function(a){return this._proxy.className=(isArray(a)?a.join(" "):a).trim()},toggleCss:function(a){return this._processCssList(arguments,"toggle")},hasFocus:function(){return this._dom.hasFocus},hitTest:function(a){return this.hitTestRect(a.getRect())},hitTestRect:function(a){return this.getRect().hitTestRect(a)},hitTestPoint:function(a,b){return this.getRect().hitTestPoint(a,b)},localPoint:function(a){},localX:function(a){return a-this.getPageX()},localY:function(a){return a-this.getPageY()},getInnerWidth:function(){return this.getWidth()-this.getPaddingLeft()-this.getPaddingRight()},setInnerWidth:function(a){this._setWidth(Math.round(a)+OJ.setting("dimUnit"))},getOuterWidth:function(){return this.getWidth()+this.getMarginLeft()+Math.abs(this.getMarginRight())},setOuterWidth:function(a){this.setInnerWidth(a-this.getPaddingLeft()-this.getPaddingRight()-this.getMarginLeft()-Math.abs(this.getMarginRight()))},getWidth:function(){return this._proxy.offsetWidth||this._getStyleNumber("width")},_setWidth:function(a){this._setStyle("width",a)},setWidth:function(a){var b=arguments;if(a==OjStyleElement.AUTO){this._setWidth(null)}else{if(b.length>1){this._setWidth(a+(isString(b[1])?b[1]:"%"))}else{this.setInnerWidth(a-this.getPaddingLeft()-this.getPaddingRight())}}},getMinWidth:function(){return isNull(this._min_width)?this._min_width=this._getStyleNumber("minWidth"):this._min_width},setMinWidth:function(a){this._setStyleNumber("minWidth",this._min_width=a)},getMaxWidth:function(){return isNull(this._max_width)?this._max_width=this._getStyleNumber("maxWidth"):this._max_width},setMaxWidth:function(a){this._setStyleNumber("maxWidth",this._max_width=a)},getInnerHeight:function(){return this.getHeight()-this.getPaddingTop()-this.getPaddingBottom()},setInnerHeight:function(a){this._setHeight(Math.round(a)+OJ.setting("dimUnit"))},getOuterHeight:function(){return this.getHeight()+this.getMarginTop()+Math.abs(this.getMarginBottom())},setOuterHeight:function(a){this.setInnerHeight(a-this.getPaddingTop()-this.getPaddingBottom()-this.getMarginTop()-Math.abs(this.getMarginBottom()))},getHeight:function(){return this._proxy.offsetHeight||this._getStyleNumber("height")},_setHeight:function(a){this._setStyle("height",a)},setHeight:function(b){var a=arguments;if(b==OjStyleElement.AUTO){this._setHeight(null)}else{if(a.length>1){this._setHeight(b+(isString(a[1])?a[1]:"%"))}else{this.setInnerHeight(b-this.getPaddingTop()-this.getPaddingBottom())}}},getMinHeight:function(){return isNull(this._min_height)?this._min_height=this._getStyleNumber("minHeight"):this._min_height},setMinHeight:function(a){this._min_height=a;this._setStyleNumber("minHeight",a)},getMaxHeight:function(){return isNull(this._max_height)?this._max_height=this._getStyleNumber("maxHeight"):this._max_height},setMaxHeight:function(a){this._max_height=a;this._setStyleNumber("maxHeight",a)},setPercentWidth:function(a){this._setWidth(a+"%")},setPercentHeight:function(a){this._setHeight(a+"%")},getX:function(){return this._proxy.offsetLeft},getPageX:function(){if(this._dom.getBoundingClientRect){return this._dom.getBoundingClientRect().left}},setX:function(b){var a=arguments;this._setStyleNumber("left",b,a.length>1?a[1]:OJ.setting("dimUnit"))},getY:function(){return this._proxy.offsetTop},getPageY:function(){if(this._dom.getBoundingClientRect){return this._dom.getBoundingClientRect().top}},setY:function(b){var a=arguments;this._setStyleNumber("top",b,a.length>1?a[1]:OJ.setting("dimUnit"))},getAlpha:function(){return this._alpha},setAlpha:function(b){var a=this._alpha;if(a==b){return}if((b=this._alpha=this._setStyle("opacity",b))&&a===0){}else{if(!b){}}},getBackgroundColor:function(){return this._getStyle("background-color")},setBackgroundColor:function(a){this._setStyle("background-color",a)},getDepth:function(){return this._depth},setDepth:function(a){this._depth=this._setStyle("zIndex",a)},getOverflow:function(){return this._overflow},setOverflow:function(a){this._overflow=this._setStyle("overflow",a)},getRect:function(){return new OjRect(this.getPageX(),this.getPageY(),this.getWidth(),this.getHeight())},setRect:function(a){},getScrollHeight:function(){return this._proxy.scrollHeight},setScrollHeight:function(a){this._proxy.scrollHeight=a},getScrollWidth:function(){return this._proxy.scrollWidth},setScrollWidth:function(a){this._proxy.scrollWidth=a},getScrollX:function(){return this._proxy.scrollLeft},setScrollX:function(a){this._proxy.scrollLeft=a},getScrollY:function(){return this._proxy.scrollTop},setScrollY:function(a){this._proxy.scrollTop=a},_getAlign:function(a,b){var c=this.getAttr(a+"-align");return c?c:b},_setAlign:function(a,c,b){if(c==b){c=null}this.setAttr(a+"-align",this["_"+a+"_align"]=c)},getHAlign:function(){return this._getAlign("h",OjStyleElement.LEFT)},setHAlign:function(a){return this._setAlign("h",a,OjStyleElement.LEFT)},getVAlign:function(){return this._getAlign("v",OjStyleElement.TOP)},setVAlign:function(a){return this._setAlign("v",a,OjStyleElement.TOP)},_updateTransform:function(){var b=this._rotation?"rotate("+this._rotation+"deg) ":"",d=this._translate?this._translate.toString():"",a=b+(isEmpty(d)?"":"translate("+d+")"),c=OJ.getCssPrefix();if(c=="-moz-"){this._setStyle("MozTransform",a)}else{this._setStyle(c+"transform",a)}this._setStyle("transform",a)},getOrigin:function(){return this._origin},setOrigin:function(a){this._setStyle(OJ.getCssPrefix()+"transform-origin",a);this._setStyle("transform-origin",this._origin=a)},getRotation:function(){return this._rotation},setRotation:function(a){if(this._rotation==a){return}this._rotation=a;this._updateTransform()},getTranslate:function(){return this._translate},setTranslate:function(a){if(a.isEqualTo(this._translate)){return}this._translate=a;this._updateTransform()}},{COMPONENT_TAGS:{},STYLE_BACKUP:"styleBackup",STYLE_DEFAULT:"styleDefault",STYLE_IE:"styleIE",STYLE_MODE:(function(){var a=OjElement.elm("div");if(a.currentStyle){return"styleIE"}if(!document.defaultView||!document.defaultView.getComputedStyle){return"styleBackup"}return"styleDefault"})(),AUTO:"auto",BLOCK:"block",HIDDEN:"hidden",NONE:"none",SCROLL:"scroll",VISIBLE:"visible",LEFT:"l",CENTER:"c",RIGHT:"r",TOP:"t",MIDDLE:"m",BOTTOM:"b",attributeToGetter:function(a){return"get"+OJ.attributeToFunc(a).ucFirst()},attributeToSetter:function(a){return"set"+OJ.attributeToFunc(a).ucFirst()},getTagComponent:function(a){return this.COMPONENT_TAGS[a]},isComponentTag:function(a){return isSet(this.COMPONENT_TAGS[a])},registerComponentTag:function(a,b){this.COMPONENT_TAGS[a]=b;if(OJ.getBrowser()==OJ.IE&&OJ.getBrowserVersion().compareVersion("9.0.0")<0){document.createElement(a)}},getStyle:function(b,a){if(this.STYLE_MODE==this.STYLE_IE){return b.currentStyle[a]}if(this.STYLE_MODE==this.STYLE_BACKUP){return b.style[a]}return document.defaultView.getComputedStyle(b,null)[a]}});OJ.extendClass(OjElement,"OjTextElement",{_c:function(){var b=arguments,c=b.length,a=c&&isDomElement(b[0]);this._s("OjTextElement","_c",a?[b[0]]:[]);if(c&&!a){this.setText(b[0])}},_setDom:function(a,b){if(a.nodeName!="#text"){a=document.createTextNode(a.innerText)}this._s("OjTextElement","_setDom",[a])},appendText:function(a){this._dom.nodeValue+=a.toString()},prependText:function(a){this._dom.nodeValue=a.toString()+this._dom.nodeValue},getText:function(){return this._dom.nodeValue},setText:function(a){this._dom.nodeValue=a?a.toString():null}});OJ.extendClass(OjActionable,"OjTimer",{_p_:{duration:0,repeatCount:0},_g_p_:{count:0,state:"stopped"},_last_tick:0,_c:function(){this._s("OjTimer","_c",[]);var a=arguments,b=a.length;if(b){this.setDuration(a[0]);if(b>1){this.setRepeatCount(a[1])}}},_d:function(){TimerManager.unregisterTimer(this);return this._s("OjTimer","_d",arguments)},_tick:function(){this.dispatchEvent(new OjEvent(OjTimer.TICK));if(this._repeatCount>0&&this._count++==this._repeatCount){this.stop();this.dispatchEvent(new OjEvent(OjTimer.COMPLETE))}},isPaused:function(){return this._state==OjTimer.PAUSED},isRunning:function(){return this._state==OjTimer.RUNNING},isStopped:function(){return this._state==OjTimer.STOPPED},pause:function(){this._state=OjTimer.PAUSED;TimerManager.unregisterTimer(this)},restart:function(){this.stop();this.start()},start:function(){if(!this.isRunning()){this._state=OjTimer.RUNNING;TimerManager.registerTimer(this)}},stop:function(){this.pause();this._count=0;this._state=OjTimer.STOPPED},setDuration:function(a){if(this._duration!=a){this._duration=Math.abs(a);TimerManager.updateTimer(this)}},setRepeatCount:function(a){this._repeatCount=Math.max(a,0);if(a>=this._count&&this.isRunning()){this.stop();this.dispatchEvent(new OjEvent(OjTimer.COMPLETE))}}},{TICK:"onTimerTick",COMPLETE:"onTimerComplete",PAUSED:"paused",RUNNING:"running",STOPPED:"stopped",SECOND:1000,MINUTE:60000,HOUR:3600000,DAY:86400000});OJ.extendManager("TimerManager",OjActionable,"OjTimerManager",{_callback:null,_timers:{},_timer_count:0,_min_interval:999999,_interval:null,_c:function(){this._s("OjTimerManager","_c",arguments);this._callback=this._tick.bind(this)},_d:function(){this._callback=null;return this._s("OjTimerManager","_d",arguments)},_updateInterval:function(){if(this._timer_count){var a,b=this._min_interval;for(a in this._timers){b=Math.min(b,this._timers[a].getDuration())}if(this._min_interval!=b){this._min_interval=b;clearInterval(this._interval);this._interval=setInterval(this._callback,Math.max(this._min_interval/3,10));this._tick()}}else{clearInterval(this._interval);this._min_interval=999999}},_tick:function(){var b,a=Date.time(),c;for(b in this._timers){c=this._timers[b];if(c._duration<a-c._last_tick){c._last_tick=a;setTimeout('TimerManager._timerTick("'+b+'")',1)}}},_timerTick:function(a){if(TimerManager._timers[a]){TimerManager._timers[a]._tick()}},timer:function(){var a=arguments.length;if(!a){return new OjTimer()}if(a==1){return new OjTimer(arguments[0])}return new OjTimer(arguments[0],arguments[1])},registerTimer:function(b){var a=b.id();if(this._timers[a]!=b){this._timers[a]=b;b._last_tick=Date.time();this._timer_count++;this._updateInterval()}},updateTimer:function(a){if(this._timers[a.id()]){this._updateInterval()}},unregisterTimer:function(b){var a=b.id();if(this._timers[a]){delete this._timers[a];this._timer_count--;this._updateInterval()}}});OJ.extendManager("HistoryManager",OjActionable,"OjHistoryManager",{_previous:null,_next:null,_current:0,_native:false,_timer:0,_ignore_next:false,_list:null,PREVIOUS:"previous",NEXT:"next",FORWARD:"historyForward",BACK:"historyBack",CHANGE:"historyChange",_c:function(){this._s("OjHistoryManager","_c",arguments);this._list=[new OjUrl(window.location.href)];try{var a=window.history.previous;this._native=true;a=null}catch(b){}if("onhashchange" in window){window.onhashchange=function(c){HistoryManager._onChange(c)}}else{this._timer=new OjTimer(1000,0);this._timer.addEventListener(OjTimer.TICK,HistoryManager,"_onChange");this._timer.start()}},_d:function(){OJ.destroy(this._timer);return this._s("OjHistoryManager","_d",arguments)},_onChange:function(){var b=HistoryManager.get();if(b.toString()!=window.location.href){var a=new OjUrl(window.location.href);if(OJ.getDepth()<0){if(a.toString()==this.get(-1).toString()){this._current--}else{if(a.toString()==this.get(this._current+1).toString()){this._current++}else{this._current=0;this._list.unshift(a)}}}else{if(this._current==0){this._list=[this._list[0]]}else{this._list=this._list.slice(0,this._current+1)}this._list.push(a);this._current=this._list.length-1}this._previous=this.get(-1);this._next=this.get(this._current+1);this._dispatchChange(b,a)}},_dispatchChange:function(b,a){this.dispatchEvent(new OjEvent(HistoryManager.CHANGE,true))},get:function(){var b,a=arguments.length?arguments[0]:this._current;if(this._native){if(window.history[a]){return new OjUrl(window.history[a])}b=this._list[a]}else{if(a<0){b=this._list[Math.max(this._current+a,0)]}else{if(a>=this._list.length){b=this._list[this._list.length-1]}else{b=this._list[a]}}}return b?b.clone():null},previous:function(){return this._previous},next:function(){return this._next},go:function(c){if(this._native){window.history.go(c);return}var a;if(isNaN(index)){var b=this._list.length;while(b-->0){if(this._list[b].toString()==c){a=c;break}}this._current=b}else{a=this.get(c);this._current=c}OJ.open(a)},forward:function(){if(this._native){window.history.forward();return}OJ.open(this.get(this._current+1))},back:function(){if(this._native){window.history.back();return}OJ.go(this.get(this._current-1))},length:function(){return this._list.length}});window.OjEasing={NONE:function(b,e,c,a){return((c*b)/a)+e},IN:function(b,e,c,a){return(-c*Math.cos((b/a)*(Math.PI/2)))+c+e},OUT:function(b,e,c,a){return(c*Math.sin((b/a)*(Math.PI/2)))+e},IN_OUT:function(b,e,c,a){return((-c/2)*(Math.cos((Math.PI*b)/a)-1))+e},STRONG_IN:function(b,e,c,a){return(b==0)?e:c*Math.pow(2,10*((b/a)-1))+e},STRONG_OUT:function(b,e,c,a){return(b==a)?e+c:c*(-Math.pow(2,-10*(b/a))+1)+e},STRONG_IN_OUT:function(b,e,c,a){if(b==0){return e}if(b==a){return e+c}b=b/(a/2);if(b<1){return(c/2)*Math.pow(2,10*(b-1))+e}return(c/2)*(-Math.pow(2,-10*--b)+2)+e},ELASTIC_IN:function(e,i,h,c,b,g){if(e==0){return i}e=e/c;if(e==1){return i+h}if(!g){g=c*0.3}var f;if(!b||b<Math.abs(h)){b=h;f=g/4}else{f=(g/(2*Math.PI))*Math.asin(h/b)}return(-(b*Math.pow(2,10*(e-=1))*Math.sin(((e*c)-f)*(2*Math.PI)/g)))+h},ELASTIC_OUT:function(e,i,h,c,b,g){if(e==0){return i}e=e/c;if(e==1){return i+h}if(!g){g=c*0.3}var f;if(!b||b<Math.abs(h)){b=h;f=g/4}else{f=(g/(2*Math.PI))*Math.asin(h/b)}return(b*Math.pow(2,-10*e)*Math.sin((e*c-f)*(2*Math.PI)/g)+h+i)},ELASTIC_IN_OUT:function(e,i,h,c,b,g){if(e==0){return i}e=e/(c/2);if(e==2){return i+h}if(!g){g=c*(0.3*1.5)}var f;if(!b||b<Math.abs(h)){b=h;f=g/4}else{f=(g/(2*Math.PI))*Math.asin(h/b)}if(e<1){return -0.5*(b*Math.pow(2,10*(e-=1))*Math.sin((e*c-f)*(2*Math.PI)/g))+i}return b*Math.pow(2,-10*(e-=1))*Math.sin((e*c-f)*(2*Math.PI)/g)*0.5+h+i}};OJ.extendClass(OjEvent,"OjTweenEvent",{_g_p_:{progress:0,value:0},_c:function(d,f,c){var c=0,b=false,a=false,e=arguments.length;this._value=f;this._progress=c;if(e>3){b=arguments[3];if(e>4){a=arguments[4]}}this._s("OjTweenEvent","_c",[d,b,a])}},{TICK:"onTweenTick",COMPLETE:"onTweenComplete"});OJ.extendClass(OjActionable,"OjTween",{_p_:{duration:500,easing:OjEasing.NONE,from:null,quality:60,to:null},_delta:0,_c:function(){this._s("OjTween","_c",[]);var a=arguments,b=a.length;if(b){this.setFrom(a[0]);if(b>1){this.setTo(a[1]);if(b>2){this.setDuration(a[2]);if(b>3){this.setEasing(a[3])}}}}},_d:function(){this._u("_timer");return this._s("OjTween","_d",arguments)},_calculateDelta:function(){this._delta=this._to-this._from},_tick:function(a){this.dispatchEvent(new OjTweenEvent(OjTweenEvent.TICK,this._easing(a,this._from,this._delta,this._duration,0,0),a/this._duration))},_onTick:function(a){var b=Date.time()-this._start;if(b>=this._duration){b=this._duration;this._timer.stop()}this._tick(b);if(b==this._duration){this._onComplete(a)}},_onComplete:function(a){this.dispatchEvent(new OjTweenEvent(OjTweenEvent.COMPLETE,this._to,1))},start:function(){if(isUnset(this._from)||isUnset(this._to)){return}var a=this._timer;this._calculateDelta();if(!a){a=this._timer=new OjTimer();a.addEventListener(OjTimer.TICK,this,"_onTick")}else{a.stop()}a.setDuration(1000/this._quality);this._start=Date.time();a.start()},pause:function(){this._timer.pause()},stop:function(){this._timer.stop()},restart:function(){this._timer.restart()},reverse:function(){}});OJ.extendClass(OjTween,"OjPropTween",{_p_:{mode:"Javascript",target:null},_callback:null,_delta:null,_from_cache:null,_c:function(){this._s("OjPropTween","_c",[]);var b=arguments.length;if(b){this.setTarget(arguments[0]);if(b>1){this.setTo(arguments[1]);if(b>2){this.setDuration(arguments[2]);if(b>3){this.setEasing(arguments[3])}}}}var a=OJ.getEngine();if(a==OJ.WEBKIT&&!OJ.isMobile()){}},_d:function(){this._callback=null;return this._s("OjPropTween","_d",arguments)},_calculateDelta:function(){this._from_cache={};this._delta={};var d=!isEmptyObject(this._from),a,b,c="";for(a in this._to){b="set"+a.ucFirst();if(!d){this._from[a]=this._target["get"+a.ucFirst()]()}this._from_cache[b]=parseFloat(this._from[a]);this._delta[b]=parseFloat(this._to[a])-this._from_cache[b];if(c!=""){c+=", "}c+=OjPropTween.PROPERTY_CSS_MAP[a]}},_isAnimating:function(a){if(this._target&&this._target.is("OjComponent")){this._target._setIsAnimating(a)}},_tick:function(b){var a;for(a in this._delta){this._target[a](this._easing(b,this._from_cache[a],this._delta[a],this._duration,0,0))}},_onComplete:function(a){this._isAnimating(false);this._s("OjPropTween","_onComplete",arguments)},_onTargetDestroy:function(a){this._s("OjPropTween","stop",arguments);this.setTarget(null)},_onWebKitComplete:function(a){var b=OjPropTween.CSS_PROPERTY_MAP[a.propertyName];if(isUndefined(this._from[b])){return}this._target._setStyle("-webkit-transition-duration",null);this._target._setStyle("-webkit-transition-property",null);this._target.dom().removeEventListener("webkitTransitionEnd",this._callback,false);this._onComplete(a);this._callback=null},pause:function(){this._isAnimating(false);this._s("OjPropTween","pause",arguments)},start:function(){if(!isSet(this._target)||!isSet(this._to)){return}if(!isSet(this._from)){this._from={}}this._isAnimating(true);if(this._mode==OjPropTween.WEBKIT){var a;this._calculateDelta();this._target._setStyle("-webkit-transition-duration",this._duration+"ms");this._target._setStyle("-webkit-transition-property",transition_properties);this._target.dom().addEventListener("webkitTransitionEnd",this._callback=this._onWebKitComplete.bind(this),false);for(a in this._delta){this._target[a](this._from_cache[a]+this._delta[a])}}else{this._s("OjPropTween","start",arguments)}},stop:function(){this._isAnimating(false);this._s("OjPropTween","stop",arguments)},setMode:function(a){if(this._mode==a){return}this._mode=a;if(this._timer){OJ.destroy(this._timer)}},setTarget:function(a){if(this._target==a){return}if(this._target){this._target.removeEventListener(OjEvent.DESTROY,this,"_onTargetDestroy")}if(this._target=a){this._target.addEventListener(OjEvent.DESTROY,this,"_onTargetDestroy")}}},{PROPERTY_CSS_MAP:{alpha:"opacity",x:"left",y:"top",width:"width",height:"height"},CSS_PROPERTY_MAP:{opacity:"alpha",left:"x",right:"y",width:"width",height:"height"},JS:"Javascript",WEBKIT:"WebKit"});OJ.extendClass(OjPropTween,"OjFade",{_p_:{direction:"fadeIn",duration:250},_force:false,_c:function(){this._s("OjFade","_c",[]);var a=arguments,b=a.length;if(b){this.setTarget(a[0]);if(b>1){this.setDirection(a[1]);if(b>2){this.setDuration(a[2]);if(b>3){this.setEasing(a[3])}}}}},_onComplete:function(a){if(this._direction==OjFade.NONE){this._target.setAlpha(1);this._target.hide()}this._s("OjFade","_onComplete",arguments)},start:function(){if(!this._target){return}if(!this._to){this._to={}}if(this._direction==OjFade.IN){if(this._force||this._target.getAlpha()==1){this._target.setAlpha(0)}this._to.alpha=1}else{if(this._force||this._target.getAlpha()==0){this._target.setAlpha(1)}this._to.alpha=0}this._target.show();this._s("OjFade","start",arguments)}},{IN:"onFadeIn",NONE:"onFadeNone",OUT:"onFadeOut"});OJ.extendClass(OjStyleElement,"OjComponent",{_p_:{isActive:false,isDisabled:false},_g_p_:{isAnimating:false},_c:function(){var a=[null,this];if(this._t){if(this._t.charAt(0)=="<"){a[0]=this._t}else{a[0]=OJ.importTemplate(this._t)}}this._s("OjComponent","_c",a);this.addCss(this._class_names.slice(this._class_names.indexOf("OjComponent")));this._setContainer(this.container?this.container:this)},_processChild:function(b,a){return this._s("OjComponent","_processChild",[b,a?a:this])},_processDomSourceAttributes:function(b,a){this._processAttributes(b,a)},_processDomSourceChild:function(a,b){if(OjElement.isCommentNode(a)){return null}return this._processChild(a,b)},_processDomSourceChildren:function(e,c){var f,b=e.childNodes,a=0,d=b.length;for(;a<d;a++){if(f=this._processDomSourceChild(b[a],c)){this.addElm(f)}else{e.removeChild(b[a])}a--;d--}},_setContainer:function(a){this._setElmFuncs(a);if(this.container==a){return}if(this.container){this.container.removeCss(["container"])}if((this.container=a)!=this){this.container.addCss(["container"])}},_setDomSource:function(g,b){var c,e,l,d,k,h,f=(g==document.body),a=f?this._dom:g,j=f?g:this._dom;this._prevent_dispatch=true;this._processDomSourceAttributes(g,b);k=(c=a.attributes).length;for(;k--;){h=c[k];l=h.nodeName;d=h.value;if(l=="class"){e=j.getAttribute(l);j.className=(String.string(e)+" "+d).trim()}else{if(l=="id"){j.id=d}else{j.setAttribute(l,d)}}}this._processDomSourceChildren(g,b);if(g.parentNode){if(f){k=(c=a.children).length;h=0;for(;h<k;h++){j.appendChild(c[0])}}else{a.parentNode.replaceChild(j,a)}}this._prevent_dispatch=false;this._dom=j},_setElmFuncs:function(a){this._elm_funcs=a!=this&&a.is("OjComponent")?{addElm:"addElm",addElmAt:"addElmAt",getElmAt:"getElmAt",getElms:"getElms",hasElm:"hasElm",indexOfElm:"indexOfElm",moveElm:"moveElm",numElms:"numElms",removeAllElms:"removeAllElms",removeElm:"removeElm",removeElmAt:"removeElmAt",replaceElm:"replaceElm",replaceElmAt:"replaceElmAt",setElms:"setElms"}:{addElm:"addChild",addElmAt:"addChildAt",getElmAt:"getChildAt",getElms:"getChildren",hasElm:"hasChild",indexOfElm:"indexOfChild",moveElm:"moveChild",numElms:"numChildren",removeAllElms:"removeAllChildren",removeElm:"removeChild",removeElmAt:"removeChildAt",replaceElm:"replaceChild",replaceElmAt:"replaceChildAt",setElms:"setChildren"}},_setIsAnimating:function(a){if(this._isAnimating==a){return}if(this._isAnimating=a){this.addCss(["animating"])}else{this.removeCss(["animating"])}},_setIsDisplayed:function(a){if(this._is_displayed==a){return}this._s("OjComponent","_setIsDisplayed",arguments);if(a){this.redraw()}},_processEvent:function(a){if(this._isDisabled){return false}return this._s("OjComponent","_processEvent",arguments)},_getContainer:function(){return this.container},_callElmFunc:function(c,b){var a=this._getContainer();if(!this._elm_funcs[c]){return}if(c=="addElm"){this._addElm(b[0],this.numElms())}else{if(c=="addElmAt"){this._addElm(b[0],b[1])}else{if(c=="removeElm"){this._removeElm(b[0],this.indexOfElm(b[0]))}else{if(c=="removeElmAt"){this._removeElm(this.getElmAt(b[0]),b[0])}else{if(c=="moveElm"){this._moveElm(b[0],b[1])}else{if(c=="replaceElm"){this._replaceElm(b[0],this.indexOfElm(b[0]),b[1])}else{if(c=="replaceElmAt"){this._replaceElm(this.getElmAt(b[0]),b[0],b[1])}else{if(c=="removeAllElms"){this._removeAllElms()}}}}}}}}return a[this._elm_funcs[c]].apply(a,b)},_addElm:function(b,a){},_moveElm:function(b,a){},_removeAllElms:function(){},_removeElm:function(b,a){},_replaceElm:function(c,b,a){},addElm:function(a){return this._callElmFunc("addElm",Array.array(arguments))},addElmAt:function(b,a){return this._callElmFunc("addElmAt",Array.array(arguments))},getElmAt:function(a){return this._callElmFunc("getElmAt",Array.array(arguments))},getElms:function(){return this._callElmFunc("getElms",Array.array(arguments))},hasElm:function(a){return this._callElmFunc("hasElm",Array.array(arguments))},indexOfElm:function(a){return this._callElmFunc("indexOfElm",Array.array(arguments))},moveElm:function(){return this._callElmFunc("moveElm",Array.array(arguments))},numElms:function(){return this._callElmFunc("numElms",Array.array(arguments))},removeAllElms:function(){return this._callElmFunc("removeAllElms",Array.array(arguments))},removeElm:function(a){return this._callElmFunc("removeElm",Array.array(arguments))},removeElmAt:function(a){return this._callElmFunc("removeElmAt",Array.array(arguments))},replaceElm:function(b,a){return this._callElmFunc("replaceElm",Array.array(arguments))},replaceElmAt:function(b,a){return this._callElmFunc("replaceElmAt",Array.array(arguments))},setElms:function(a){return this._callElmFunc("setElms",Array.array(arguments))},_onFadeComplete:function(a){this.setAlpha(1);if(this._fader.getDirection()==OjFade.OUT){this.hide()}else{this.show()}this._setIsAnimating(false);this._u("_fader")},fadeIn:function(){var a=arguments,b=a.length;if(this._fader){if(this._fader.getDirection()==OjFade.IN){return}this._fader.stop();this._u("_fader")}else{if(this.isVisible()){return}}this.show();this._fader=new OjFade(this,OjFade.IN,b?a[0]:250,b>1?a[1]:OjEasing.NONE);this._fader.addEventListener(OjTweenEvent.COMPLETE,this,"_onFadeComplete");this._fader.start();this._setIsAnimating(true)},fadeOut:function(){var a=arguments,b=a.length;if(this._fader){if(this._fader.getDirection()==OjFade.OUT){return}this._fader.stop();this._u("_fader")}else{if(!this.isVisible()){return}}this._fader=new OjFade(this,OjFade.OUT,b?a[0]:250,b>1?a[1]:OjEasing.NONE);this._fader.addEventListener(OjTweenEvent.COMPLETE,this,"_onFadeComplete");this._fader.start();this._setIsAnimating(true)},redraw:function(){var a=arguments;return this._is_displayed||(a.length&&a[0])},getTargetId:function(){return this.id()},setIsActive:function(a){if(this._isActive!=a){if(this._isActive=a){this.addCss(["active"])}else{this.removeCss(["active"])}}},setIsDisabled:function(a){if(this._isDisabled!=a){if(this._isDisabled=a){this.addCss(["disabled"])}else{this.removeCss(["disabled"])}}}},{_TAGS:[],load:function(a){}});OJ.extendComponent(OjComponent,"OjSpinner",{_p_:{numBlades:null,period:1,tint:"#FFFFFF"},_position:0,_t:"<div><div var=wrapper></div></div>",_c:function(){var a=arguments,b=a.length,c=13;this._s("OjSpinner","_c",[]);if(b){this.setTint(a[0]);if(b>1){this.setPeriod(a[1]);if(b>2){c=a[2]}}}this._translate=new OjCssTranslate(70,0,"%");this._timer=new OjTimer(1000,0);this._timer.addEventListener(OjTimer.TICK,this,"_onTimer");this.setNumBlades(c);this.start()},_d:function(){this._u("_timer");return this._s("OjSpinner","_d",arguments)},_setIsDisplayed:function(){var a=this._timer;this._s("OjSpinner","_setIsDisplayed",arguments);if(a){a[this._is_displayed?"start":"stop"]()}},_updateTimer:function(){this._timer.setDuration((this._period*1000)/this._numBlades)},_onTimer:function(){if(this._position==0){this._position=this._numBlades}this._position--;this.redraw()},hide:function(){this._timer.pause();this._s("OjSpinner","hide",arguments)},redraw:function(){if(this._s("OjSpinner","redraw",arguments)){var a=this._numBlades,c,b;for(;a--;){c=this.wrapper.getChildAt(a);b=(a-this._position)%this._numBlades;if(b<0){b=b+this._numBlades}c.setAlpha(Math.max(1-(b/this._numBlades),0.2))}return true}return false},show:function(){if(this._running){this._timer.start()}this._s("OjSpinner","show",arguments)},start:function(){this._timer.start();this._running=true},stop:function(){this._timer.pause();this._running=false},setAlpha:function(a){if(this._running){if(a==0){this._timer.pause()}else{this._timer.start()}}this._s("OjSpinner","setAlpha",arguments)},setNumBlades:function(c){var a,d,b;if(this._numBlades==c){return}this._numBlades=c;a=this._numBlades;b=360/a;for(;a--;){d=new OjStyleElement();d.addCss("blade");d.setRotation(b*a);d.setTranslate(this._translate);d.setBackgroundColor(this._tint);this.wrapper.addChild(d)}this.redraw();this._updateTimer()},setPeriod:function(a){if(this._period==a){return}this._period=a;this._updateTimer()},setTint:function(b){var a;if(this._tint==b){return}this._tint=b;a=this._numBlades;for(;a--;){this.wrapper.getChildAt(a).setBackgroundColor(this._tint)}}},{_TAGS:["spinner"]});OJ.extendComponent(OjComponent,"OjOverlay",{_p_:{forceIcon:true,forceMessage:false,message:null,icon:null},_v_align:OjStyleElement.MIDDLE,_t:"<div><div class=box><div var=icon></div><label var=message></label></div></div>",_c:function(){var a=arguments,c=arguments.length,b;this._s("OjOverlay","_c",[]);if(c){this.setMessage(a[0]);if(c>1){b=a[1]}}this.setIcon(b)},_onFadeComplete:function(a){if(this._fader.getDirection()==OjFade.OUT&&this.getParent()){this.getParent().removeChild(this)}this._s("OjOverlay","_onFadeComplete",arguments)},hide:function(){if(!this.getParent()){return}this.fadeOut()},show:function(a){if(!a||this.getParent()==a){return}this.setAlpha(0);a.addChild(this);this.fadeIn()},setMessage:function(a){if(!a&&this._forceMessage){a="Loading"}if(isEmpty(a)){this.addCss(["no-message"])}else{this.removeCss(["no-message"])}this.message.setText(a)},setIcon:function(a){this.icon.removeAllChildren();if(a||this._forceIcon){if(!a){a=new OjSpinner();a.setWidth(40);a.setHeight(40)}this.removeCss(["no-icon"]);this.icon.addChild(a)}else{this.addCss(["no-icon"])}}},{_TAGS:["overlay"]});OJ.extendComponent(OjComponent,"OjView",{_p_:{controller:null,footer:null,header:null,icon:null,shortTitle:null,stack:null,title:null},_g_p_:{actionView:null,cancelView:null,titleView:null},_loading_msg:"Loading",_t:"<div><div var=container></div></div>",_loaded:false,_unloading_msg:"UnLoading",_c:function(){this._s("OjView","_c",[]);this._load_checkpoints={};this._unload_checkpoints={};var a=arguments,b=a.length,d=this.$.SHORT_TITLE,c=this.$.TITLE;if(b){this.setContent(a[0]);if(b>1){c=a[1];if(b>2){d=a[2]}}}this.setTitle(c);if(d){this.setShortTitle(d)}},_d:function(){this.unload();this._u("_actionView");this._u("_cancelView");this._u("_titleView");this._u("_overlay");return this._s("OjView","_d",arguments)},_checkpointsCompleted:function(b){var a;for(a in b){if(!b[a]){return false}}return true},_hideOverlay:function(){var a=this._overlay;if(a){a.addEventListener(OjEvent.HIDE,this,"_onOverlayHide");a.hide()}},_load:function(){this._loaded=true;this.removeCss(["loading"]);this.redraw();this._hideOverlay();this.dispatchEvent(new OjEvent(OjView.LOAD))},_loadCheckpoint:function(){var a=arguments;if(a.length){this._load_checkpoints[a[0]]=true}if(this._checkpointsCompleted(this._load_checkpoints)){this._load()}else{this._showOverlay(this._loading_msg,this._loading_icon)}},_resetCheckpoints:function(b){var a;for(a in b){b[a]=false}},_showOverlay:function(){var b=arguments,d=b.length,e=d?b[0]:null,c=d>1?b[1]:null,a=this._overlay;if(a){a.setMessage(e);a.setIcon(c)}else{a=this._overlay=new OjOverlay(e,c)}a.show(this)},_unload:function(){this._loaded=true;this._hideOverlay();this.dispatchEvent(new OjEvent(OjView.UNLOAD))},_unloadCheckpoint:function(){var a=arguments;if(a.length){this._unload_checkpoints[a[0]]=true}if(this._checkpointsCompleted(this._unload_checkpoints)){this._unload()}else{this._showOverlay(this._unloading_msg,this._unloading_icon)}},_onOverlayHide:function(a){this._u("_overlay")},load:function(){this.addCss(["loading"]);this._resetCheckpoints(this._load_checkpoints);this._loadCheckpoint()},unload:function(){this._resetCheckpoints(this._unload_checkpoints);this._unloadCheckpoint()},getContent:function(){return this.getElms()},setContent:function(b){this.removeAllElms();if(b){b=Array.array(b);var a=b.length;for(;a--;){this.addElmAt(b[a],0)}}},setFooter:function(a){if(this._footer=a){this.removeCss(["no-footer"]);if(!this.footer){this.footer=new OjStyleElement();this.footer.addCss("footer");this.container.parent().addChildAt(this.footer,0)}this.footer.removeAllChildren();this.footer.addChild(a)}else{this._u("footer");this.addCss(["no-footer"])}},setHeader:function(a){if(this._header=a){this.removeCss(["no-header"]);if(!this.header){this.header=new OjStyleElement();this.header.addCss(["header"]);this.container.parent().addChildAt(this.header,0)}this.header.removeAllChildren();this.header.addChild(a)}else{this._u("header");this.addCss(["no-header"])}},setTitle:function(a){this._title=a;if(!this._shortTitle){this._shortTitle=a}}},{SHORT_TITLE:null,TITLE:null,HORIZONTAL:"horizontal",VERTICAL:"vertical",TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",LOAD:"onViewLoad",UNLOAD:"onViewUnload",_TAGS:["view"]});OJ.extendComponent(OjView,"OjIframe",{_source:null,_interval:null,_timeout:60,_t:"<iframe></iframe>",_c:function(){this._s("OjIframe","_c",[]);var a=arguments.length;if(a){this.setSource(arguments[0]);if(a>1){this.setTarget(arguments[1])}}this.setAttr("name",this.id())},_onLoad:function(){clearInterval(this._interval);this.dispatchEvent(new OjEvent(OjEvent.COMPLETE))},_onTimeout:function(){clearInterval(this._interval);this.dispatchEvent(new OjIoErrorEvent(OjIoErrorEvent.IO_ERROR))},getTargetId:function(){return this.id()},getSource:function(){return this._source},setSource:function(b){var a=this.dom();this._source=b.toString();if(a.src){a.src=this._source}else{if(a.contentWindow!==null&&a.contentWindow.location!==null){}else{this.setAttr("src",this._source)}}if(!isEmpty(this._source)){clearInterval(this._interval);this._interval=setInterval(this._onTimeout.bind(this),this._timeout*1000);var c=this._onLoad.bind(this);if(a.attachEvent){a.attachEvent("onload",c)}else{a.onload=c}}}},{_TAGS:["iframe"]});OJ.extendClass(OjComponent,"OjMedia",{_p_:{preload:false,resizeBy:"none",source:null,showSpinner:false,spinnerTint:"#333"},_height:0,_loaded:false,_resize_vals:["none","fill","fit","hFill","wFill"],_width:0,_h_align:OjStyleElement.CENTER,_v_align:OjStyleElement.MIDDLE,_c:function(){this._s("OjMedia","_c",[]);if(arguments.length){this.setSource(arguments[0])}},_d:function(){this._u("media");this._u("loading");return this._s("OjMedia","_d",arguments)},_load:function(){},_makeMedia:function(){return new OjStyleElement('<div class="media"></div>')},_resize:function(){if(!this._media){return}if(this._source_is_css){this._media.setWidth(OjStyleElement.AUTO);this._media.setHeight(OjStyleElement.AUTO);return}var b=this._getStyleBackup("width"),c=this._getStyleBackup("height");if(!isEmpty(b)){this._media.setWidth("100","%");if(c){this._media.setHeight("100","%")}else{this._media.setHeight(OjStyleElement.AUTO)}}else{if(!isEmpty(c)){this._media.setHeight("100","%");this._media.setWidth(OjStyleElement.AUTO)}else{if(this._resizeBy==this.$.WIDTH){this._media.setWidth("100","%");this._media.setHeight(OjStyleElement.AUTO)}else{this._media.setHeight("100","%");this._media.setWidth(OjStyleElement.AUTO);var a=this.getWidth();if(b>a){this._media.setMarginLeft((a-b)/2)}}}}},_setIsDisplayed:function(a){this._s("OjMedia","_setIsDisplayed",arguments);if(a&&!this._loaded){this._load()}},_setSource:function(a){this._source=a},_onMediaLoad:function(a){this._u("loading");this._loaded=true;if(this._media){if(this._original_w){this._media.setMaxWidth(this._original_w)}if(this._original_h){this._media.setMaxHeight(this._original_h)}}this._resize();this.dispatchEvent(new OjEvent(OjEvent.LOAD))},isLoaded:function(){return this._loaded},load:function(){if(!this._loaded){this._load()}},getOriginalHeight:function(){return this._original_h},getOriginalWidth:function(){return this._original_w},setSource:function(a){if(Array.isArray(a)){a=a.join(", ")}else{if(a){a=a.toString()}}if(this._source==a){return}this._loaded=false;if(!this.loading&&this._showSpinner){this.addChild(this.loading=new OjSpinner(this._spinnerTint))}this._setSource(a);if(this._preload||this._is_displayed){this._load()}},setResizeBy:function(a){if(this._resizeBy==a){return}this._resizeBy=this._resize_vals.indexOf(a)>-1?a:this.$.NONE;this._resize()},_setHeight:function(a){this._s("OjMedia","_setHeight",arguments);this._height=a},_setWidth:function(a){this._s("OjMedia","_setWidth",arguments);this._width=a}},{NONE:"none",FILL:"fill",FIT:"fit",HEIGHT:"hFill",WIDTH:"wFill"});OJ.extendComponent(OjMedia,"OjImage",{_source_is_css:false,_d:function(){if(this._img){this._img.removeEventListener("load",this._callback)}this._callback=this._img=null;return this._s("OjImage","_d",arguments)},_load:function(){if(!this._source_is_css&&this._img){this._loaded=false;this._img.src=this._source}},_makeMedia:function(){return this._s("OjImage","_makeMedia",arguments)},_resize:function(){this.removeCss(this._resize_vals);if(this._resizeBy==this.$.NONE){return}this.addCss([this._resizeBy])},_onMediaLoad:function(a){var b=this._s("OjImage","_onMediaLoad",arguments);if(this._source_is_css){this._media.addCss([this._source.substring(1)]);this._original_w=this._media.getWidth();this._original_h=this._media.getHeight()}else{this._original_w=this._img.width;this._original_h=this._img.height;if(!this.getWidth()){this.setWidth(this._original_w)}if(!this.getHeight()){this.setHeight(this._original_h)}this._setStyle("backgroundImage","url("+this._source+")")}return b},_setSource:function(a){if(this._source_is_css){this._media.removeCss([this._source.substring(1)])}else{this._setStyle("backgroundImage",null)}this._s("OjImage","_setSource",arguments);if(a){if(this._source_is_css=(this._source.charAt(0)=="@")){if(!this._media){this.addChild(this._media=this._makeMedia())}this._onMediaLoad(null)}else{if(this._media){this._u("_media")}if(!this._img){this._img=new Image();this._img.addEventListener("load",this._callback=this._onMediaLoad.bind(this))}}}}},{_TAGS:["img","image"],image:function(a){if(isString(a)){return new OjImage(a)}if(a.is("OjImage")){return a}return null}});OJ.extendComponent(OjView,"OjImageViewer",{_images:null,_c:function(){this._images=[];this._s("OjImageViewer","_c",arguments)},getContent:function(){return this._images.clone()},setContent:function(b){this.removeAllElms();if(b){this._images=Array.array(b);var a=this._images.length;for(;a--;){this.addElmAt(new OjImage(this._images[a]),0)}}}},{_TAGS:["imageviewer"]});window.OjINavController={_p_:{stack:null},_setupStack:function(){this._stack.addEventListener(OjStackEvent.CHANGE,this,"_onStackChange")},_cleanupStack:function(){if(this._stack){this._stack.removeEventListener(OjStackEvent.CHANGE,this,"_onStackChange")}},_onStackChange:function(a){},addView:function(a){var b=this._stack;return b.addElm.apply(b,arguments)},addViewAt:function(a,b){var c=this._stack;return c.addElmAt.apply(c,arguments)},gotoView:function(){var c=arguments,e=c.length,b,a=e?c[0]:null,d=e>1?c[1]:true;if(!a||(b=this.indexOfView(a))>-1){return this.gotoViewAt(b,d)}if(b=this.getActiveIndex()){this.replaceViewAt(0,a);return this.gotoViewAt(0)}this.replaceActive(a,d)},gotoViewAt:function(a){var b=this._stack;return b.setActiveIndex.apply(b,arguments)},hasView:function(a){return this._stack.hasElm(a)},indexOfView:function(a){return this._stack.indexOfElm(a)},removeActive:function(){return this.removeViewAt(this._stack.getActiveIndex(),arguments.length?arguments[0]:true)},removeView:function(a){var b=this._stack;return b.removeElm.apply(b,arguments)},removeViewAt:function(a,b){var c=this._stack;return c.removeElmAt.apply(c,arguments)},replaceActive:function(a){var c=this._stack,b=arguments;return c.replaceElmAt(this.getActiveIndex(),a,b.length>1?b[0]:true)},replaceView:function(a,c){var b=this._stack;return b.replaceElm.apply(b,arguments)},replaceViewAt:function(a,c){var b=this._stack;return b.replaceElmAt.apply(b,arguments)},getActiveView:function(){return this._stack.getActive()},setActiveView:function(a){this._stack.setActive(a)},getActiveIndex:function(){return this._stack.getActiveIndex()},setActiveIndex:function(a){this._stack.setActiveIndex(a)},setStack:function(a){if(this._stack){if(this._stack==a){return}this._cleanupStack()}this._stack=a;a.setController(this);this._setupStack()}};OJ.extendComponent(OjComponent,"OjNavController",OJ.implementInterface(OjINavController,{_c:function(){this._s("OjNavController","_c",[]);if(arguments.length){this.setStack(arguments[0])}},_d:function(){this._cleanupStack();return this._s("OjNavController","_d",arguments)}}),{_TAGS:["nav","navcontroller"]});OJ.extendComponent(OjComponent,"OjLabel",{_p_:{prefix:null,suffix:null,text:null},_t:"<label></label>",_c:function(){var a=arguments;this._s("OjLabel","_c",[]);if(a.length){this.setText(a[0])}},_processDomSourceChildren:function(b,c){var a=b.innerHTML;if(!isEmpty(a)){this.setText(String.string(this._text)+String.string(a));return}return this._s("OjLabel","_processDomSourceChildren",arguments)},_redrawText:function(){this._dom.innerHTML=String.string(this._prefix)+String.string(this._text)+String.string(this._suffix).replaceAll("\n","<br />")},appendText:function(a){if(a){return}this.setText(String.string(this._text).html()+a)},prependText:function(a){if(a){return}this.setText(a+String.string(this._text).html())},redraw:function(){if(this._s("OjLabel","redraw",arguments)){this._redrawText();return true}return false},setPrefix:function(a){if(this._prefix==a){return}this._prefix=a?a.toString():null;this.redraw()},setSuffix:function(a){if(this._suffix==a){return}this._suffix=a?a.toString():null;this.redraw()},setText:function(a){if(this._text==a){return}this._text=String.string(a).html();this.redraw()}},{_TAGS:["label"]});OJ.extendClass(OjEvent,"OjStackEvent",{_g_p_:{index:null,oldIndex:null,transition:null,view:null},_c:function(d,a,f,c){var b=[d,false,false],e=arguments.length;this._view=a;this._transition=f;this._index=c;if(e>4){this._oldIndex=arguments[4];if(e>5){b[1]=arguments[5];if(e>6){b[2]=arguments[6]}}}this._s("OjStackEvent","_c",b)}},{ACTIVE:"onStackViewActive",ADD:"onStackViewAdd",CHANGE:"onStackChange",CHANGE_COMPLETE:"onStackChangeComplete",INACTIVE:"onStackViewInactive",MOVE:"onStackViewMove",REMOVE:"onStackViewRemove",REPLACE:"onStackViewReplace"});OJ.extendClass(OjPropTween,"OjDimTween",{_p_:{amount:null,direction:"dimTweenBoth"},_c:function(){this._s("OjDimTween","_c",[]);var a=arguments.length;this._to={};if(a){this.setTarget(arguments[0]);if(a>1){this.setDirection(arguments[1]);if(a>2){this.setAmount(arguments[2]);if(a>3){this.setDuration(arguments[3]);if(a>4){this.setEasing(arguments[4])}}}}}}},{HORIZONTAL:"dimTweenHorizontal",VERTICAL:"dimTweenVertical",BOTH:"dimTweenBoth"});OJ.extendClass(OjDimTween,"OjMove",{setAmount:function(a){this._s("OjMove","setAmount",arguments);if(this._direction==OjMove.BOTH){this._to.x=a[0];this._to.y=a[1]}else{if(this._direction==OjMove.X){this._to.x=a}else{this._to.y=a}}}},{X:OjDimTween.HORIZONTAL,Y:OjDimTween.VERTICAL,BOTH:OjDimTween.BOTH});OJ.extendClass(OjActionable,"OjTweenSet",{_tweens:null,_completed:null,_is_finished:false,_c:function(){this._tweens=[];this._completed=[];this._s("OjTweenSet","_c",[]);if(arguments.length){if(isArray(arguments[0])){this.setTweens(arguments[0])}else{this.setTweens(arguments)}}},_d:function(){var b=this._tweens.length,a=arguments,c=a.length?a[0]:0;this.stop();if(c){while(b-->0){OJ.destroy(this._tweens[b],c)}}else{while(b-->0){this.removeTween(this._tweens[b])}}return this._s("OjTweenSet","_d",arguments)},_checkCompleted:function(){if(this._tweens.length==this._completed.length&&!this._is_finished){this.dispatchEvent(new OjTweenEvent(OjTweenEvent.COMPLETE))}},_onTweenComplete:function(a){var b=a.getTarget();if(this._completed.indexOf(b)==-1){this._completed.push(b)}this._checkCompleted()},_controlTweens:function(c,a){var b=this._tweens.length;while(b-->0){this._tweens[b][c].apply(this._tweens[b],a)}},start:function(){this._controlTweens("start",arguments)},pause:function(){this._controlTweens("pause",arguments)},stop:function(){this._controlTweens("stop",arguments)},reverse:function(){this._controlTweens("reverse",arguments)},addTween:function(a){if(this.hasTween(a)){return}this._is_finished=false;a.addEventListener(OjTweenEvent.COMPLETE,this,"_onTweenComplete");return this._tweens.push(a)},removeTween:function(b){var a=this._tweens.indexOf(b);if(a==-1){return}b.removeEventListener(OjTweenEvent.COMPLETE,this,"_onTweenComplete");this._tweens.splice(a,1);this._checkCompleted();return b},hasTween:function(a){return this._tweens.indexOf(a)!=-1},numTweens:function(){return this._tweens.length},getTweens:function(){return this._tweens.clone()},setTweens:function(b){var a;if(this._tweens){a=this._tweens.length;while(a-->0){this.removeTween(this._tweens[a])}}this._tweens=[];if(b){a=b.length;while(a-->0){this.addTween(b[a])}}},isFinished:function(){return this._is_finished}});window.OjIFlowNavController={_p_:{cancelLabel:"Cancel",title:null},_back_btn:null,_cancel_btn:null,_show_cancel:false,_t:"<div class=flow-nav-controller><div var=bottom><div var=btmLeft class=left v-align=m></div><div var=btmTitle class=title v-align=m></div><div var=btmRight class=right v-align=m></div></div><div var=top><div var=topLeft class=left v-align=m></div><div var=topTitle class=title v-align=m></div><div var=topRight class=right v-align=m></div></div></div>",_tween:null,bottom:null,btmLeft:null,btmRight:null,btmTitle:null,title:null,top:null,topLeft:null,topRight:null,topTitle:null,_makeBackButton:function(a){var b=new OjButton(a.getShortTitle());b.addCss(["back-button"]);return b},_makeCancelButton:function(b){var a=new OjButton(b);a.addCss(["cancel-button"]);return a},_makeTitle:function(a){var b=new OjLabel(a);b.setVAlign(OjStyleElement.MIDDLE);return b},_update:function(k,p,i,o){this._u("_tween");var l=this.top,g=this.topLeft,c=this.topTitle,d=this.topRight,w=this.bottom,f=this.btmLeft,s=this.btmTitle,y=this.btmRight,h=g.numChildren()?this.topLeft.getChildAt(0):null,x=c.numChildren()?c.getChildAt(0):null,u=d.numChildren()?d.getChildAt(0):null,j=k.getActionView(),z=k.getCancelView(),r=k.getTitleView(),A;if(!r&&(A=k.getTitle())){r=this._makeTitle(A)}if(this._back_btn){this._back_btn.removeEventListener(OjMouseEvent.CLICK,this,"_onBackClick")}else{if(this._cancel_btn){this._cancel_btn.removeEventListener(OjMouseEvent.CLICK,this,"_onCancelClick")}}if(!z){if(i>0){z=this._makeBackButton(this._stack.getElmAt(i-1))}else{if(this._show_cancel){z=this._cancel_btn=this._makeCancelButton(this._cancelLabel)}}}if(i>0){this._back_btn=z;z.addEventListener(OjMouseEvent.CLICK,this,"_onBackClick")}else{if(this._show_cancel){this._cancel_btn=z;z.addEventListener(OjMouseEvent.CLICK,this,"_onCancelClick")}}if(h!=z){if(h){f.addChild(h)}if(z){g.addChild(z)}}if(u!=j){if(u){y.addChild(u)}if(j){d.addChild(j)}}if(x!=r){if(x){s.addChild(x)}if(r){c.addChild(r)}}l.setX(0);l.setAlpha(1);w.setX(0);w.setAlpha(1);var q=p&&p.getEffect()?p.getEffect():OjTransition.DEFAULT;if(q==OjTransition.NONE){this.removeCss(["animating"]);l.show();w.hide();f.removeAllChildren();s.removeAllChildren();y.removeAllChildren();return}this.addCss("animating");this._tween=new OjTweenSet();var v=0,a=p.getDuration(),n=p.getEasing(),m=this.getWidth();if(o!=-1){if(o>i){v=m*-0.5}else{if(o<i){v=m*0.5}}}if(v&&q!=OjTransition.FADE){w.setX(0);l.setX(v);l.setAlpha(0);this._tween.addTween(new OjMove(w,OjMove.X,-1*v*0.5,a*0.5),n[1]);this._tween.addTween(new OjMove(l,OjMove.X,0,a,n[1]))}else{l.setAlpha(0)}this._tween.addTween(new OjFade(w,OjFade.OUT,a,n[1]));this._tween.addTween(new OjFade(l,OjFade.IN,a,n[0]));this._tween.addEventListener(OjTweenEvent.COMPLETE,this,"_onTweenComplete");this._tween.start()},_onBackClick:function(a){this.back()},_onCancelClick:function(a){this.dispatchEvent(new OjEvent(OjEvent.CANCEL,false))},_onBackComplete:function(a){this._stack.removeItemAt(this._stack.numItems()-1);this._stack.removeEventListener(OjStackEvent.CHANGE_COMPLETE,this,"_onBackComplete")},_onStackChange:function(a){this._update(a.getView(),a.getTransition(),a.getIndex(),a.getOldIndex())},_onTweenComplete:function(a){this._u("_tween");this.btmLeft.removeAllChildren();this.btmTitle.removeAllChildren();this.btmRight.removeAllChildren();this.removeCss(["animating"])},showCancel:function(){if(arguments.length){this._show_cancel=arguments[0]}return this._show_cancel},back:function(){this._stack.removeElm(this._stack.getActive());this.dispatchEvent(new OjEvent(OjFlowNavController.BACK))},setTitle:function(a){if(this._title==a){return}if(!this.title){this.title=this._makeTitle();this.topTitle.addChild(this.title)}this.title.setText(this._title=a)},setCancelLabel:function(a){if(this._cancelLabel==a){return}this._cancelLabel=a;if(this._cancel_btn){this._cancel_btn.setLabel(a)}}};OJ.extendComponent(OjNavController,"OjFlowNavController",OJ.implementInterface(OjIFlowNavController,{_c:function(){this._s("OjFlowNavController","_c",[]);if(arguments.length){this.setStack(arguments[0])}},_setupStack:function(){this._s("OjFlowNavController","_setupStack",arguments);this._stack.setTransition(new OjTransition(OjTransition.SLIDE_HORZ,250,[OjEasing.IN,OjEasing.OUT]));this._stack.addEventListener(OjStackEvent.ADD,this,"_onStackAdd")},_cleanupStack:function(){this._s("OjFlowNavController","_cleanupStack",arguments);if(this._stack){this._stack.removeEventListener(OjStackEvent.ADD,this,"_onStackAdd")}},_onStackAdd:function(a){this._stack.setActive(a.getView())}}),{_TAGS:["flownav"],BACK:"onFlowNavBack"});OJ.extendClass(OjEvent,"OjCollectionEvent",{_g_p_:{item:null,index:null,oldItem:null},_c:function(c,e,b){var f=[c],a=arguments,d=a.length;this._item=e;this._index=b;if(d>3){this._oldItem=a[3];if(d>4){f=Array.array(a);f.splice(1,3)}}this._s("OjCollectionEvent","_c",f)}},{ITEM_ADD:"onItemAdd",ITEM_CLICK:"onItemClick",ITEM_OVER:"onItemOver",ITEM_OUT:"onItemOut",ITEM_MOVE:"onItemMove",ITEM_REMOVE:"onItemRemove",ITEM_REPLACE:"onItemReplace"});OJ.extendClass(OjActionable,"OjCollection",{_p_:{allowDuplicate:true,items:null},_c:function(){var a=arguments;this._s("OjCollection","_c",[]);this._items=[];if(a.length){this.setItems(a[0])}},_d:function(){this._items=null;return this._s("OjCollection","_d",arguments)},addItem:function(a){return this.addItemAt(a,this.numItems())},addItemAt:function(b,a){if(!this._allowDuplicate&&this.hasItem(b)){return}this._items.splice(a,0,b);this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_ADD,b,a));return b},getItemAt:function(a){return this._items[a]},hasItem:function(a){return this.indexOfItem(a)!=-1},indexOfItem:function(a){return this._items.indexOf(a)},numItems:function(){return this._items.length},removeAllItems:function(){var a=this.numItems();for(;a--;){this.removeItemAt(a)}},removeItem:function(a){return this.removeItemAt(this.indexOfItem(a))},removeItemAt:function(a){if(a<0){return}var b=this._items.splice(a,1)[0];this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_REMOVE,b,a));return b},replaceItem:function(b,a){return this.replaceItemAt(this.indexOfItem(b),a)},replaceItemAt:function(a,b){if(a>-1&&a<this.numItems()){return this._items.splice(a,1,b)[0]}return null},reverse:function(){},sort:function(){var a=arguments,b,c=this._items.clone();if(a.length){this._items.sort(a[0])}else{this._items.sort()}b=this._items.length;for(;b--;){if(this._items[b]!=c[b]){this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_MOVE,this._items[b],b))}}},setItemAt:function(c,a){var b;if(!this._allowDuplicate&&this.hasItem(c)){return}b=this._items.splice(a,1,c)[0];if(b==c){return}this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_REPLACE,c,a));return b},getItems:function(){return this._items.clone()},setItems:function(a){var d,c,g,b=0,e,f=this._items.length;if(isObject(a)){if(isObjective(a)&&a.is("OjCollection")){a=a.getItems()}else{c=[];for(d in a){c.push(a[d])}a=c}}else{if(!isArray(a)){a=[]}}e=a.length;if(f>e){g=f-e;for(;g--;){this.removeItemAt(--f)}}for(;b<e;b++){if(b<f){this.setItemAt(a[b],b)}else{this.addItem(a[b])}}}},{collection:function(a){return isArray(a)||!isObjective(a)?new OjCollection(a):a}});window.OjICollection={_prepareItems:function(){if(this._items){return}return this._items=new OjCollection()},addItem:function(a){this._prepareItems();this._items.addItem(a)},addItemAt:function(b,a){this._prepareItems();this._items.addItemAt(b)},getItemAt:function(b){var a=this._items;return a?a.getItemAt(b):null},getItems:function(){var a=this._items;return a?a.getItems():[]},hasItem:function(b){var a=this._items;return a?a.hasItem(b):false},indexOfItem:function(b){var a=this._items;return a?a.indexOfItem(b):-1},numItems:function(){var a=this._items;return a?a.numItems():0},removeAllItems:function(){var a=this._items;if(a){a.removeAll()}},removeItem:function(a){if(this._items){this._items.removeItem(a)}},removeItemAt:function(b){var a=this._items;if(a){a.removeItemAt(b)}},reverse:function(){var a=this._items;if(a){a.reverse()}},sort:function(){var a=this._items;if(a){a.sort.apply(a,arguments)}},setItemAt:function(b,a){this._prepareItems();this._items.setItemAt(b,a)},setItems:function(a){this._prepareItems();this._items.setItems(a)}};window.OjICollectionComponent={_p_:{itemRenderer:null},_getContainer:function(){return this._items},_setElmFuncs:function(a){return this._elm_funcs={addElm:"addItem",addElmAt:"addItemAt",getElmAt:"getItemAt",getElms:"getItems",hasElm:"hasItem",indexOfElm:"indexOfItem",moveElm:"moveItem",numElms:"numItems",removeAllElms:"removeAllItems",removeElm:"removeItem",removeElmAt:"removeItemAt",replaceElm:"replaceItem",replaceElmAt:"replaceItemAt",setElms:"setItems"}},_setup:function(){var a=(this._items=new OjCollection());a.addEventListener(OjCollectionEvent.ITEM_ADD,this,"_onItemAdd");a.addEventListener(OjCollectionEvent.ITEM_MOVE,this,"_onItemMove");a.addEventListener(OjCollectionEvent.ITEM_REMOVE,this,"_onItemRemove");a.addEventListener(OjCollectionEvent.ITEM_REPLACE,this,"_onItemReplace");this._rendered={};this._item_events={}},_teardown:function(){var a;for(a in this._item_events){this._removeItemListener(this._item_events[a])}this._u("_items");this._rendered=null;this._item_events=null},_addItemListener:function(c){if(!this._item_events[c]){var a=this._convertItemEventType(c),b;if(a){for(b in this._rendered){this._rendered[b].addEventListener(a[0],this,a[1])}this._item_events[c]=a[0]}}},_convertItemEventType:function(a){if(a==OjCollectionEvent.ITEM_CLICK){return[OjMouseEvent.CLICK,"_onItemClick"]}if(a==OjCollectionEvent.ITEM_OVER){return[OjMouseEvent.OVER,"_onItemOver"]}if(a==OjCollectionEvent.ITEM_OUT){return[OjMouseEvent.OUT,"_onItemOut"]}return null},_dispatchItemEvent:function(b,a){var c=a.getCurrentTarget();if(this._itemRenderer){c=c.getData()}this.dispatchEvent(new OjCollectionEvent(b,c,this._items.indexOfItem(c)))},_removeItemListener:function(c){if(!this.hasEventListener(c)){var a=this._convertItemEventType(c),b;if(a){for(b in this._rendered){this._rendered[b].removeEventListener(a[0],this,a[1])}delete this._item_events[c]}}},_onItemAdd:function(a){},_onItemClick:function(a){this._dispatchItemEvent(OjCollectionEvent.ITEM_CLICK,a)},_onItemOut:function(a){this._dispatchItemEvent(OjCollectionEvent.ITEM_OUT,a)},_onItemOver:function(a){this._dispatchItemEvent(OjCollectionEvent.ITEM_OVER,a)},_onItemMove:function(a){},_onItemRemove:function(a){delete this._rendered[a.getItem().id()]},_onItemReplace:function(a){delete this._rendered[a.getOldItem().id()]},renderItem:function(c){if(!c){return null}var b,a,d=c.id();if(this._rendered[d]){return this._rendered[d]}c=this._itemRenderer?new this._itemRenderer(this,c):c;for(b in this._item_events){a=this._convertItemEventType(b);c.addEventListener(a[0],this,a[1])}return this._rendered[d]=c},renderItemAt:function(a){return this.renderItem(this._items.getItemAt(a))},setItemRenderer:function(a){a=isString(a)?OJ.stringToClass(a):a;if(a==this._itemRenderer){return}this._itemRenderer=a}};OJ.extendComponent(OjComponent,"OjCollectionComponent",OJ.implementInterface(OjICollectionComponent,{_c:function(){this._s("OjCollectionComponent","_c",arguments);this._setup()},_d:function(){this._teardown();this._s("OjCollectionComponent","_d",arguments)},addEventListener:function(a,c,b){this._s("OjCollectionComponent","addEventListener",arguments);this._addItemListener(a)},removeEventListener:function(a,c,b){this._s("OjCollectionComponent","removeEventListener",arguments);this._removeItemListener(a)}}));OJ.extendClass(OjDimTween,"OjResize",{setAmount:function(a){this._s("OjResize","setAmount",arguments);if(this._direction==OjResize.BOTH){this._to.width=a[0];this._to.height=a[1]}else{if(this._direction==OjResize.WIDTH){this._to.width=a}else{this._to.height=a}}}},{WIDTH:OjDimTween.HORIZONTAL,HEIGHT:OjDimTween.VERTICAL,BOTH:OjDimTween.BOTH});OJ.extendClass(OjObject,"OjTransition",{_p_:{easing:null,effect:"fade",duration:250},_c:function(){this._s("OjTransition","_c",[]);this._easing=[OjEasing.NONE,OjEasing.NONE];var a=arguments,b=a.length;if(b){this.setEffect(a[0]);if(b>1){this.setDuration(a[1]);if(b>2){this.setEasing(a[2])}}}},_getEasing:function(b){var a=this._easing.length;if(a){if(a>1&&b==OjTransition.OUT){return this._easing[1]}return this._easing[0]}return null},_makeNone:function(b,a){return null},_makeFade:function(c,b,a){return new OjFade(c,a?OjFade.IN:OjFade.OUT,this._duration,this._getEasing(b))},_makeSlideHorz:function(c,b,a){return new OjMove(c,OjMove.X,a,this._duration,this._getEasing(b))},_makeSlideVert:function(c,b,a){return new OjMove(c,OjMove.Y,a,this._duration,this._getEasing(b))},_makeZoom:function(c,b,a){return null},make:function(c,b,a){return this["_make"+this._effect.ucFirst()].apply(this,arguments)},getEasing:function(){var a=this._easing;return a?a.clone():null},setEasing:function(a){if(!isArray(a)){a=[a,a]}this._easing=a}},{DEFAULT:null,NONE:"none",FADE:"fade",SLIDE_HORZ:"slideHorz",SLIDE_VERT:"slideVert",ZOOM:"zoom",transition:function(b){if(isObjective(b)&&b.is("OjTransition")){return b}var a=arguments,c=a.length;if(isString(b)){var d=c>1&&a[1]?a[1]:OjTransition.DEFAULT;a=b.fulltrim(" ").split(",");c=a.length;return new OjTransition(c?a[0]:d.getEffect(),c>1?a[1]:d.getDuration(),[c>2?OjEasing[a[2]]:d.getEasing()[0],c>3?OjEasing[a[3]]:d.getEasing()[1]])}return new OjTransition(OjTransition.NONE,250)}});OjTransition.DEFAULT=new OjTransition(OjTransition.NONE,250);OJ.extendComponent(OjCollectionComponent,"OjStack",{_p_:{active:null,activeIndex:-1,allowLooping:false,alwaysTrans:false,autoSizeHeight:false,autoSizeWidth:false,transition:null},_current_index:0,_prev_index:-1,_c:function(){var a=arguments,b=a.length;this._s("OjStack","_c",[]);if(b>2){this.setItemRenderer(a[2])}this.setTransition(b>1?a[1]:OjTransition.NONE);this._items.setItems(b?a[0]:[])},_d:function(){var b,a=arguments,c=a.length&&a[0];this._u("_trans_in",true);this._u("_trans_out",true);if(this._prev_active){this._removeActive(this._prev_active);this._prev_active=null}if(this._active){this._removeActive();this._active=null}if(c>1){b=this.numElms();for(;b--;){OJ.destroy(this.renderItemAt(b),c)}}this._controller=this._transition=null;return this._s("OjStack","_d",a)},_callElmFunc:function(f,b){var d=this._transition,e=b.length,a=-1;if(!this._elm_funcs[f]){return}switch(f){case"removeAllElms":a=0;break;case"removeElmAt":if(e){b[0]=this._processIndex(b[0])}case"addElm":case"removeElm":a=1;break;case"addElmAt":case"replaceElmAt":if(e>1){b[1]=this._processIndex(b[1])}case"moveElm":case"replaceElm":a=2;break;case"getElmAt":if(e){this[0]=this._processIndex(b[0])}break}if(a>-1){if(e>a){this.setTransition(this._processTransParam(b[a]));b.pop()}}var c=this._getContainer()[this._elm_funcs[f]].apply(this._items,b);if(a>-1){this.setTransition(d)}return c},_processDomSourceChild:function(a,b){if(OjElement.isTextNode(a)){return false}return this._s("OjStack","_processDomSourceChild",arguments)},_processDomSourceChildren:function(a,d){var c=a.childNodes,e=c.length,b=0,f;for(;b<e;b++){if(f=this._processDomSourceChild(c[b],d)){f.setParent(null);this.addElm(f);b+=c.length-e;e=c.length}}},_addActive:function(b,a){this._active=b;this._activeIndex=a;this._addActiveElm(this.renderItem(b))},_addActiveElm:function(a){a.setIsActive(true);this.container.addChild(a)},_animationDirection:function(b,a){return b<a?-1:1},_dispatchChangeComplete:function(){this.dispatchEvent(new OjStackEvent(OjStackEvent.CHANGE_COMPLETE,this._active,this._transition,this._activeIndex,this._prev_index))},_makeTransIn:function(c){var b=0,d,a=this.container;this._u("_trans_in");if(!c){return null}d=a.getChildAt(Math.bounds(a.numChildren()-1,0,1));switch(this._transition.getEffect()){case OjTransition.FADE:if(this._trans_out){return null}b=1;break;case OjTransition.SLIDE_HORZ:d.setX(-1*c*a.getWidth());break;case OjTransition.SLIDE_VERT:d.setY(-1*c*a.getHeight());break}if(this._trans_in=this._transition.make(d,OjTransition.IN,b)){this._trans_in.addEventListener(OjTweenEvent.COMPLETE,this,"_onTransIn");this._trans_in.start();this._setIsAnimating(true)}else{if(!this._trans_out){this._dispatchChangeComplete()}}return this._trans_in},_makeTransOut:function(c){var b=0,a=this.container,d=a.getChildAt(0);this._u("_trans_out");if(d){switch(this._transition.getEffect()){case OjTransition.SLIDE_HORZ:b=d.getX()+(c*a.getWidth());break;case OjTransition.SLIDE_VERT:b=d.getY()+(c*a.getHeight());break}if(this._trans_out=this._transition.make(d,OjTransition.OUT,b)){d.addCss("prev-active");this._trans_out.addEventListener(OjTweenEvent.COMPLETE,this,"_onTransOut");this._trans_out.start();this._setIsAnimating(true)}else{this._removeActive(this._prev_active)}}return this._trans_out},_processIndex:function(a){var b=this.numElms();if(this._allowLooping){a=a%b;if(a<0){return b+a}return a}return Math.bounds(a,0,b-1)},_processTransParam:function(a){if(!a){return OjStack.NONE}if(a===true){return this._transition}return a},_removeActive:function(){var a=arguments,c,d,b=a.length?a[0]:this.getElmAt(this._activeIndex);if(b){d=b;if(this._itemRenderer){c=this.container.numChildren();for(;c--;){d=this.container.getChildAt(c);if(d.getData()==b){break}}}this._removeActiveElm(d)}},_removeActiveElm:function(a){this.container.removeChild(a);a.removeCss(["prev-active"]);a.setWidth(OjStyleElement.AUTO);a.setHeight(OjStyleElement.AUTO);a.setAlpha(1);a.setIsActive(false)},_onItemAdd:function(a){this._s("OjStack","_onItemAdd",arguments);var b=a.getIndex(),c=a.getItem();this.dispatchEvent(new OjStackEvent(OjStackEvent.ADD,c,this._transition,b));if(!this._active){this.setActiveIndex(b)}else{this._current_index=this.indexOfElm(this._active)}},_onItemMove:function(a){this._s("OjStack","_onItemMove",arguments);this.dispatchEvent(new OjStackEvent(OjStackEvent.MOVE,a.getItem(),this._transition,a.getIndex()));if(this._active==a.getItem()){this._current_index=a.getIndex()}},_onItemRemove:function(a){this._s("OjStack","_onItemRemove",arguments);var d,c=a.getItem(),b=a.getIndex();this.dispatchEvent(new OjStackEvent(OjStackEvent.REMOVE,c,this._transition,b));if(this._active==c){if(this._current_index){this.setActiveIndex(this._current_index-1)}else{if(d=this.numElms()){this.setActiveIndex(d-1)}else{this._active=null;this._current_index=-1}}}else{if(this._prev_active==c){this._prev_active=null}this._current_index=this.indexOfElm(this._active)}},_onItemReplace:function(a){this._s("OjStack","_onItemReplace",arguments);var c=a.getItem(),b=a.getIndex();this.dispatchEvent(new OjStackEvent(OjStackEvent.REPLACE,c,this._transition,b));if(this._activeIndex==b){this._removeActive(this._active);this._addActive(c,this._activeIndex)}},_onTransIn:function(a){this._u("_trans_in");if(!this._trans_out){this._setIsAnimating(false);this._dispatchChangeComplete()}if(!isNull(this._deferred_active)){this.setActiveIndex.apply(this,this._deferred_active)}},_onTransOut:function(a){this._u("_trans_out");this._removeActive(this._prev_active);if(!this._trans_in){this._setIsAnimating(false);this._dispatchChangeComplete()}this._prev_active=null;this._prev_index=null},next:function(){this.setActiveIndex(this._current_index+1)},prev:function(){this.setActiveIndex(this._current_index-1)},renderItemAt:function(a){return this._s("OjStack","renderItemAt",[this._processIndex(a)])},setActive:function(a){if((arguments[0]=this.indexOfElm(a))>-1){this.setActiveIndex.apply(this,arguments)}},setActiveIndex:function(f){var b,e,c,d,a;if(this._current_index==f&&this._active){return}if(this._trans_in){this._deferred_active=arguments;return}b=this._transition;e=arguments.length>1;if(e){this.setTransition(this._processTransParam(arguments[1]))}this._deferred_active=null;d=this._alwaysTrans?1:0;this._current_index=f;this._prev_index=-1;if(this._active){this._prev_active=this._active;this._makeTransOut(d=this._animationDirection(this._prev_index=this._activeIndex,f))}if(!this.numElms()){this._activeIndex=-1;this._current_index=-1;this._active=null;return}f=this._processIndex(f);a=new OjStackEvent(OjStackEvent.CHANGE,c=this.getElmAt(f),this._transition,f,this._prev_index);this._addActive(c,f);if(this._trans_out||this._alwaysTrans){this._makeTransIn(d)}if(e){this.setTransition(b)}this.dispatchEvent(a);if(!this._trans_out&&!this._alwaysTrans){this._dispatchChangeComplete()}},setAllowLooping:function(a){if(this._allowLooping==a){return}if(!(this._allowLooping=a)){var b=this.numElms();if(this._current_index<0){this.setActiveIndex((b-this._current_index)%b)}else{if(this._current_index>=b){this.setActiveIndex(this._current_index%b)}}}},setTransition:function(a){if(this._transition==a){return}this._transition=OjTransition.transition(a,this._transition)}},{_TAGS:["stack"]});OJ.extendComponent(OjStack,"OjNavStack",{_p_:{controller:null},_d:function(){if(this._active){}if(this._prev_active){this._unload(this._prev_active)}this._s("OjNavStack","_d",arguments)},_addActiveElm:function(a){a.setController(this._controller);a.setStack(this);a.load();this._s("OjNavStack","_addActiveElm",arguments)},_removeActiveElm:function(a){a.unload();a.setController(null);a.setStack(null);this._s("OjNavStack","_removeActiveElm",arguments)},_onItemRemove:function(a){var d=a.getItem(),b=a.getIndex();this.dispatchEvent(new OjStackEvent(OjStackEvent.REMOVE,d,this._transition,b));if(this._active==d){var c;if(this._current_index){this.setActiveIndex(this._current_index-1)}else{if(c=this.numElms()){this.setActiveIndex(c-1)}else{this._unload(this._active);this._active=null;this._current_index=-1}}}else{if(this._prev_active==d){this._prev_active=null}this._current_index=this.indexOfElm(this._active)}},_onItemReplace:function(a){var c=a.getItem(),b=a.getIndex();this.dispatchEvent(new OjStackEvent(OjStackEvent.REPLACE,c,this._transition,b));if(this._activeIndex==b){this._removeActive();this._addActive(this._active=c)}},setController:function(a){if(this._controller==a){return}this._controller=a;if(this._active){this._active.setController(a)}}},{_TAGS:["navstack"]});OJ.extendClass(OjEvent,"OjAlertEvent",{_g_p_:{buttonIndex:-1},_c:function(c){var b,a=b=false,d=arguments.length;if(d>1){this._buttonIndex=arguments[1];if(d>2){a=arguments[2];if(d>3){b=arguments[3]}}}this._s("OjAlertEvent","_c",[c,a,b])}},{BUTTON_CLICK:"onAlertButtonClick"});OJ.extendComponent(OjLabel,"OjLink",{_p_:{downIcon:null,icon:null,overIcon:null,target:"_self",targetHeight:null,targetWidth:null,url:null},_v_align:OjStyleElement.MIDDLE,_t:"<a><span var=icon></span><span var=label></span></a>",_c:function(){var a=arguments,b=a.length;this._s("OjLink","_c",[]);if(b){this.setText(a[0]);if(b>1){this.setUrl(a[1]);if(b>2){this.setTarget(a[2])}}}},_d:function(){OJ.removeEventListener(OjMouseEvent.MOVE,this,"_onMouseMove");this._s("OjLink","_d",arguments)},_redrawText:function(){this.label.setText((this._prefix?this._prefix:"")+(this._text?this._text:"")+(this._suffix?this._suffix:""))},_updateIcon:function(a){this.icon.removeAllChildren();if(a){this.icon.addChild(a)}},_onClick:function(a){if(this._url){WindowManager.open(this._url,this._target,{width:this._targetWidth,height:this._targetHeight})}},_onMouseOver:function(a){if(this._overIcon){OJ.addEventListener(OjMouseEvent.MOVE,this,"_onMouseMove");this._updateIcon(this._overIcon)}},_onMouseMove:function(a){if(!this.hitTestPoint(a.getPageX(),a.getPageY())){OJ.removeEventListener(OjMouseEvent.MOVE,this,"_onMouseMove");this._updateIcon(this._icon)}},_onMouseDown:function(a){if(this._downIcon){this._updateIcon(this._downIcon);this.addEventListener(OjMouseEvent.UP,this,"_onMouseUp")}},_onMouseUp:function(a){this.removeEventListener(OjMouseEvent.UP,this,"_onMouseUp");this._updateIcon(this._icon)},setDownIcon:function(a){if(this._downIcon==(a=OjImage.image(a))){return}if(this._downIcon=a){this.addEventListener(OjMouseEvent.DOWN,this,"_onMouseDown")}else{this.removeEventListener(OjMouseEvent.DOWN,this,"_onMouseDown");this.removeEventListener(OjMouseEvent.UP,this,"_onMouseUp")}},setIcon:function(a){if(this._icon==(a=OjImage.image(a))){return}this._updateIcon(this._icon=a)},setOverIcon:function(a){if(this._overIcon==(a=OjImage.image(a))){return}if(this._overIcon=a){this.addEventListener(OjMouseEvent.OVER,this,"_onMouseOver")}else{this.removeEventListener(OjMouseEvent.OVER,this,"_onMouseOver");OJ.removeEventListener(OjMouseEvent.MOVE,this,"_onMouseMove")}},setUrl:function(a){if(this._url=OjUrl.url(a)){this.addEventListener(OjMouseEvent.CLICK,this,"_onClick")}else{this.removeEventListener(OjMouseEvent.CLICK,this,"_onClick")}},setTarget:function(a){if(isComponent(a)){a=a.getTargetId()}this._target=a}},{_TAGS:["a"]});OJ.extendComponent(OjLink,"OjButton",{_default_h_align:OjStyleElement.CENTER,_c:function(){var a=arguments,b=a.length;this._s("OjButton","_c",[]);if(b){this.setText(a[0]);if(b>1){this.setIcon(a[1])}}},redraw:function(){if(this._s("OjButton","redraw",arguments)){if(OJ.getEngine()==OJ.WEBKIT){this._setStyle("font-size","1px");this._setStyle("font-size",null)}return true}return false},getLabel:function(){return this.getText()},setLabel:function(a){this.setText(a)},setIsActive:function(a){this._s("OjButton","setIsActive",arguments);if(this._icon){this._icon.setIsActive(a)}}},{_TAGS:["button"]});OJ.extendClass(OjComponent,"OjAlert",{_p_:{buttons:null,content:null,selfDestruct:0,title:null},_t:"<div><div var=underlay></div><div var=pane><div var=bar v-align=m></div><div class=content v-align=m><label var=container></label></div><div var=buttons></div></div></div>",_c:function(){this._s("OjAlert","_c",[]);if(this.className().indexOf("Alert")>-1){this.buttons.addChild(this.cancelBtn=new OjButton("Ok"));this.cancelBtn.addEventListener(OjMouseEvent.CLICK,this,"_onCancelClick")}var a=arguments.length;if(a){this.setTitle(arguments[0]);if(a>1){this.setContent(arguments[1]);if(a>2){this.setButtons(arguments[2]);if(a>3){this.cancelBtn.setLabel(arguments[3])}else{this.cancelBtn.setLabel("Cancel")}}}}},_d:function(){var a=arguments,b=a.length?a[0]:0;if(!b){this.container.removeAllChildren()}return this._s("OjAlert","_d",arguments)},_onButtonClick:function(a){this.dispatchEvent(new OjAlertEvent(OjAlertEvent.BUTTON_CLICK,this.buttons.indexOfChild(a.getCurrentTarget())));WindowManager.hide(this)},_onCancelClick:function(a){this.cancel()},cancel:function(){this.dispatchEvent(new OjEvent(OjEvent.CANCEL));WindowManager.hide(this)},hideButtons:function(){this.addCss(["no-buttons"]);this.buttons.hide()},showButtons:function(){this.removeCss(["no-buttons"]);this.buttons.show()},getButtons:function(){return this._buttons.clone()},setButtons:function(d){this._buttons=d?d.clone():[];var a=this._buttons.length;var c=this.buttons.numChildren()-1;var e=a-c,b;if(e>0){while(e>0){this.buttons.addChildAt(b=new OjButton(this._buttons[a-(e--)]),c+1);b.addEventListener(OjMouseEvent.CLICK,this,"_onButtonClick")}}else{if(e<0){while(e++<0){OJ.destroy(this.buttons.getChildAt(--c-1))}}}while(c-->1){b=this.buttons.getChildAt(c);b.setLabel(this._buttons[c])}},getCancelLabel:function(){return this.cancelBtn.getLabel()},setCancelLabel:function(a){return this.cancelBtn.setLabel(a)},setContent:function(a){if(this._content==a){return}this.container.removeAllChildren();this._content=a;if(isString(a)){this.container.setText(a.replaceAll("\n","<br />"))}else{this.container.addChild(a)}},setTitle:function(a){if(this._title==a){return}this.bar.setText(this._title=a)},getPaneHeight:function(){return this.pane.getHeight()},setPaneHeight:function(a){this.pane.setHeight.apply(this.pane,arguments);if(this._is_displayed){WindowManager.position(this)}},getPaneWidth:function(){return this.pane.getWidth()},setPaneWidth:function(a){this.pane.setWidth.apply(this.pane,arguments);if(this._is_displayed){WindowManager.position(this)}}},{NONE:0,SHALLOW:1,DEEP:2});OJ.extendClass(OjAlert,"OjModal",OJ.implementInterface(OjINavController,{_show_bar:true,_show_close:true,_show_underlay:true,_show_buttons:false,_stack:null,_t:"<div><div var=underlay></div><div var=pane><flownav var=bar v-align=m cancel-label=Close></flownav><navstack var=container class=content></navstack><div var=buttons v-align=m></div></div></div>",_c:function(){var a=arguments,b=a.length;this._s("OjModal","_c",[]);this.stack=this.container;this.bar.setStack(this.stack);this.setStack(this.stack);this.showBar(this._show_bar);this.showClose(this._show_close);this.showUnderlay(this._show_underlay);this.showButtons(this._show_buttons);if(b){if(b>1){this.addView(a[1])}this.setTitle(a[0])}if(OJ.isMobile()){this.bar.setCancelLabel("&#10006")}},_d:function(){var a=arguments,b=a.length?a[0]:0;this._u("bar",b);this._u("stack",b);this._stack=null;return this._s("OjModal","_d",arguments)},_onDrag:function(a){this.pane.setX(this.pane.getX()+a.getDeltaX());this.pane.setY(this.pane.getY()+a.getDeltaY())},_onStackChange:function(a){},showBar:function(){if(arguments.length){if(this._show_bar=arguments[0]){this.bar.show()}else{this.bar.hide()}}return this._show_bar},showButtons:function(){var a=arguments;if(a.length){if(this._show_buttons=a[0]){this.removeCss(["no-buttons"])}else{this.addCss(["no-buttons"])}}return this._show_buttons},showClose:function(){var a=arguments;if(a.length){this.bar.showCancel(a[0]);if(a[0]){this.bar.addEventListener(OjEvent.CANCEL,this,"_onCancelClick")}else{this.bar.removeEventListener(OjEvent.CANCEL,this,"_onCancelClick")}}return this.bar.showCancel()},showUnderlay:function(){if(arguments.length){if(this._show_underlay=arguments[0]){this.underlay.show()}else{this.underlay.hide()}}return this._show_underlay},setButtons:function(a){this._s("OjModal","setButtons",arguments);if(this.buttons.numChildren()){this.buttons.show()}else{this.buttons.hide()}},setTitle:function(a){this.bar.setTitle(this._title=a)}}));OJ.extendManager("WindowManager",OjActionable,"OjWindowManager",{BLANK:"_blank",SELF:"_self",PARENT:"_parent",TOP:"_top",WINDOW:"_window",HIDE:"onWindowHide",SHOW:"onWindowShow",_p_:{alertClass:OjAlert,modalClass:OjModal},_c:function(a){this._s("OjWindowManager","_c",[]);if(a){this._modals=a._modals;this._modal_holder=a._modal_holder;this._overlay=a._overlay;if(!OJ.isReady()){OJ.removeEventListener(OjEvent.READY,a,"_onOjReady");OJ.addEventListener(OjEvent.READY,this,"_onOjReady")}OJ.destroy(a)}else{this._modals=[];this._modal_holder=new OjStyleElement();this._modal_holder.addCss(["WindowManager"]);this._modal_holder.hide();if(OJ.isReady()){this._onOjReady(null)}else{OJ.addEventListener(OjEvent.READY,this,"_onOjReady")}}},_alert:function(g,f){var a=arguments,e=a.length,d=e>2?a[2]:[],c="Ok",b;if(e>3){c=a[3]}else{if(e>2){c="Cancel"}}b=this.makeAlert(g,f,d,c);if(!d&&!c){b.hideButtons()}b.setPaneWidth(400);return b},_calcBrowserWidth:function(){var a=OJ.getViewport();if(OJ.isMobile()){return a.width}if(OJ.isTablet()&&a.width>540){return 540}return Math.round(a.width*0.85)},_calcBrowserHeight:function(){var a=OJ.getViewport();if(OJ.isMobile()){return a.height}if(OJ.isTablet()&&a.height>620){return 620}return Math.round(a.height*0.85)},_isMobileModal:function(a){return a.is("OjModal")&&OJ.isMobile()},_transIn:function(b){var c=new OjFade(b,OjFade.IN),e=b.pane,a,d;c.addEventListener(OjTweenEvent.COMPLETE,this,"_onShow");c.start();if(this._isMobileModal(b)){a=e.getHeight();d=e.getY();e.setY(d+a);c=new OjMove(e,OjMove.Y,d,250,OjEasing.OUT);c.start()}},_transOut:function(b){var c=new OjFade(b,OjFade.OUT),e=b.pane,a,d;c.addEventListener(OjTweenEvent.COMPLETE,this,"_onHide");c.start();if(this._isMobileModal(b)){a=e.getHeight();d=e.getY();c=new OjMove(b.pane,OjMove.Y,d+a,250,OjEasing.OUT);c.start()}},_onShow:function(a){var b=a.getCurrentTarget().getTarget();a=OJ.destroy(a);b.dispatchEvent(new OjEvent(this.SHOW))},_onHide:function(a){var b=this._modal_holder,c=a.getCurrentTarget().getTarget();b.removeChild(c);a=OJ.destroy(a);if(!b.numChildren()){b.hide()}c.dispatchEvent(new OjEvent(this.HIDE));if(c.getSelfDestruct()){OJ.destroy(c,c.getSelfDestruct())}},_onOjReady:function(a){OJ.removeEventListener(OjEvent.READY,this,"_onOjReady");document.body.appendChild(this._modal_holder.dom());this._modal_holder._setIsDisplayed(true)},alert:function(c,b){var a=this._alert.apply(this,arguments);this.show(a);return a},browser:function(b,f){var a=arguments,e=a.length,c=new OjIframe(b),d=this.makeModal(f,c);c.setWidth(100,"%");c.setHeight(100,"%");d.addCss(["browser"]);d.setSelfDestruct(OjAlert.DEEP);d.setPaneWidth(e>2?a[2]:this._calcBrowserWidth());d.setPaneHeight(e>3?a[3]:this._calcBrowserHeight());return this.show(d)},position:function(e){var b=e.getWidth(),d=e.getHeight(),a=e.getPaneWidth(),c=e.getPaneHeight();e.pane.setX((b-a)/2);e.pane.setY(((d-c)/2)*0.75)},hide:function(c){var b=this._modals,a;if((a=b.indexOf(c))==-1){return}b.splice(a,1);this._transOut(c)},hideLoading:function(){var b=arguments,a=b.length?b[0]:this._overlay;if(a){a.hide()}},image:function(b,f){var a=arguments,d=a.length,e=new OjImageViewer(b),c=this.makeModal(f,e);e.setWidth(100,"%");e.setHeight(100,"%");c.setSelfDestruct(OjAlert.DEEP);c.setPaneWidth(d>2?a[2]:this._calcBrowserWidth());c.setPaneHeight(d>3?a[3]:this._calcBrowserHeight());return this.show(c)},makeAlert:function(){return this._alertClass.makeNew(arguments)},makeModal:function(){return this._modalClass.makeNew(arguments)},moveToTop:function(a){this._modal_holder.moveChild(a,this._modal_holder.numChildren()-1)},open:function(b){var h=arguments,g=h.length,f=g>1?h[1]:this.BLANK,e=g>2?h[2]:{},d=[],i,c=OJ.getViewport(),a=OJ.getScreen();if(f!=this.SELF&&f!=this.TOP&&f!=this.PARENT){if(isUnset(e.toolbar)){e.toolbar=0}if(!e.width){e.width=c.width*0.75}if(!e.height){e.height=c.height*0.75}if(isUnset(e.top)){e.top=a.top+Math.round((c.height-e.height)/2)}if(isUnset(e.left)){e.left=a.left+Math.round((c.width-e.width)/2)}for(i in e){d.push(i+"="+e[i])}if(f==this.WINDOW){f=OJ.guid()}}window.open(b.toString(),f,d.join(","));return f},show:function(b){var a=this._modal_holder;this._modals.push(b);if(!a.isVisible()){a.show()}b.show();b.setAlpha(0);a.addChild(b);this.position(b);this._transIn(b)},showLoading:function(){var b=arguments,d=b.length,e=d?b[0]:null,c=d>1?b[1]:null,a=this._overlay;if(!a){a=this._overlay=new OjOverlay()}a.setMessage(e);a.setIcon(c);a.show(this._modal_holder);return a},getHolder:function(){return this._modal_holder}});OJ.extendComponent(OjComponent,"OjFieldset",{_p_:{collapsedIcon:null,collapsedText:"show",collapsable:false,expandedIcon:null,expandedText:"hide",isCollapsed:false,icon:null,title:null},_t:"<fieldset><legend var=legend></legend><a var=actuator></a><div var=container></div></fieldset>",_c:function(){var a=arguments,b=a.length;this._s("OjFieldset","_c",[]);this.actuator.addEventListener(OjMouseEvent.CLICK,this,"_onActuatorClick");this.removeChild(this.actuator);if(b){this.setTitle(a[0])}},_processDomSourceChild:function(b,c){var a=b.tagName;if(a&&a.toLowerCase()=="legend"){var d=b.childNodes.length,e;for(;d--;){e=b.childNodes[d];if(OjElement.isTextNode(e)){this.setTitle(e.nodeValue)}}return null}return this._processChild(b,c)},_redrawActuator:function(){if(this._is_displayed){if(this._collapsable){this.actuator.setHeight(this.legend.getHeight());if(this._isCollapsed){if(this._collapsedIcon||this._collapsedText){this.actuator.setIcon(this._collapsedIcon);this.actuator.setText(this._collapsedText);this.addChildAt(this.actuator,1)}else{this.removeChild(this.actuator)}}else{if(this._expandedIcon||this._expandedText){this.actuator.setIcon(this._expandedIcon);this.actuator.setText(this._expandedText);this.addChildAt(this.actuator,1)}else{this.removeChild(this.actuator)}}}else{this.removeChild(this.actuator)}return true}return false},_redrawLegend:function(){if(this._is_displayed){if(!this.title&&this._title){this.legend.addChild(this.title=new OjLabel(this._title))}else{if(this.title){this.title.setText(this._title)}}if(!this.icon&&this._icon){this.legend.addChild(this.icon=new OjImage(this._icon))}else{if(this.icon){this.icon.setSource(this._icon)}}return true}return false},_onActuatorClick:function(a){if(this._isCollapsed){this.expand()}else{this.collapse()}},_onExpand:function(a){this.removeCss(["collapsed"]);this.setHeight(OjStyleElement.AUTO);OJ.destroy(a)},collapse:function(){var a;if(this._isCollapsed){return}this.setIsCollapsed(true);a=new OjResize(this,OjResize.HEIGHT,this.legend.getHeight(),250,OjEasing.OUT);a.start();this._redrawActuator()},expand:function(){var a;if(!this._isCollapsed){return}this.setIsCollapsed(false);a=new OjResize(this,OjResize.HEIGHT,this.legend.getHeight()+this.container.getHeight(),250,OjEasing.OUT);a.addEventListener(OjTweenEvent.COMPLETE,this,"_onExpand");a.start();this._redrawActuator()},redraw:function(){if(this._s("OjFieldset","redraw",arguments)){this._redrawActuator();this._redrawLegend();return true}return false},setCollapsable:function(a){if(this._collapsable==a){return}this._collapsable=a;this._redrawActuator()},setCollapsedIcon:function(a){if(this._collapsedIcon==a){return}this._collapsedIcon=a;this._redrawActuator()},setCollapsedText:function(a){if(this._collapsedText==a){return}this._collapsedText=a;this._redrawActuator()},setExpandedIcon:function(a){if(this._expandedIcon==a){return}this._expandedIcon=a;this._redrawActuator()},setExpandedText:function(a){if(this._expandedText==a){return}this._expandedText=a;this._redrawActuator()},setIcon:function(a){if(this._icon==a){return}this._icon=a;this._redrawLegend()},setIsCollapsed:function(a){if(this._isCollapsed==a){return}if(this._isCollapsed=a){this.addCss(["collapsed"]);this.dispatchEvent(new OjEvent(this.$.COLLAPSE))}else{this.removeCss(["collapsed"]);this.dispatchEvent(new OjEvent(this.$.EXPAND))}},setTitle:function(a){if(this._title==a){return}this._title=a;this._redrawLegend()}},{_TAGS:["fieldset"],COLLAPSE:"onCollapse",EXPAND:"onExpand"});OJ.extendComponent(OjButton,"OjImageButton",{_v_align:OjStyleElement.TOP,_c:function(){var a=arguments;this._s("OjImageButton","_c",[]);if(a.length){this.setIcon(a[0])}this.removeChild(this.label)},_processDomSourceChildren:function(b,c){var a=b.innerHTML;if(!isEmpty(a)){this.setIcon(new OjImage(a.trim()));return null}return this._s("OjImageButton","_processDomSourceChildren",arguments)},_makeLabel:function(){},getLabel:function(){return this._label},setLabel:function(a){this._label=a},getImage:function(){return this.getIcon()},setImage:function(a){this.setIcon(a)}},{_TAGS:["imagebutton"]});OJ.extendComponent(OjComponent,"OjItemRenderer",{_p_:{data:null,group:null},_c:function(){this._s("OjItemRenderer","_c",[]);var a=arguments,b=a.length;if(b){this.setGroup(a[0]);if(b>1){this.setData(a[1])}}},_redrawData:function(){return this._is_displayed},redraw:function(){if(this._s("OjItemRenderer","redraw",arguments)){this._redrawData();return true}return false},setData:function(a){if(this._data==a){return}this._data=a;this._redrawData()}},{_TAGS:["item"]});OJ.extendClass(OjObject,"OjEventPhase",{},{BUBBLING:3,CAPTURING:1,TARGETING:2});OJ.extendClass(OjDomEvent,"OjOrientationEvent",{_g_p_:{orientation:null},_c:function(b){var a=arguments,c=a.length;this._s("OjOrientationEvent","_c",c>3?[].slice.call(a,0,3):a);if(c>3){this._orientation=a[3]}},clone:function(){var a=this._s("OjOrientationEvent","clone",arguments);a._orientation=this._orientation;return a}},{convertDomEvent:function(a){var b;a=OjDomEvent.normalizeDomEvent(a);if(a.type==OjDomEvent.ORIENTATION_CHANGE){b=OjOrientationEvent.CHANGE}return new OjOrientationEvent(b,true,true,window.orientation)},isOrientationEvent:function(a){return a==OjOrientationEvent.CHANGE},isOrientationDomEvent:function(a){return a==OjDomEvent.ORIENTATION_CHANGE},PORTRAIT:0,LANDSCAPE_LEFT:90,LANDSCAPE_RIGHT:-90,CHANGE:"onOrienationChange"});OJ.extendClass(OjItemRenderer,"OjLabelItemRenderer",{_t:"<div><label var=lbl></label></div>",_redrawData:function(){if(this._s("OjLabelItemRenderer","_redrawData",arguments)){this.lbl.setText(this._data);return true}return false}});OJ.extendClass(OjItemRenderer,"OjOption",{_p_:{dataRenderer:null,isSelected:false},_v_align:OjStyleElement.MIDDLE,_t:"<div><div var=indicator><input var=input type=checkbox /></div></div>",_c:function(){var a=arguments,c=a.length,d=OjLabelItemRenderer;if(c>1){var b=a[1];if(isString(b)||b.is("OjItemRenderer")){d=b;a[1]=null}}this._s("OjOption","_c",arguments);if(!this._selector){this.setDataRenderer(d);this.addEventListener(OjMouseEvent.CLICK,this,"_onClick")}},_d:function(){this._selector=this._dataRenderer=null;return this._s("OjOption","_d",arguments)},_processDomSourceChild:function(a,b){if(!isEmpty(a.nodeValue)){this.setData((this._data?this._data:"")+a.nodeValue);return null}return this._s("OjOption","_processDomSourceChild",arguments)},_redrawData:function(){if(this.option&&this._s("OjOption","_redrawData",arguments)){this.option.setData(this._data);return true}return false},_onClick:function(a){this.setIsSelected(!this.getIsSelected())},setDataRenderer:function(a){if(isString(a)){a=OJ.stringToClass(a)}if(this._dataRenderer==a){return}this._u("option");this._dataRenderer=a;this.addElm(this.option=new a(this._group,this._data))},setGroup:function(b){if(this._group==b){return}this._s("OjOption","setGroup",arguments);var a;if(this._group&&(a=this._group.getOwner())&&a.is("OjSelector")){this._selector=a;this.setDataRenderer(a.getItemRenderer());this.removeEventListener(OjMouseEvent.CLICK,this,"_onClick")}else{this._selector=null;this.setDataRenderer(OjLabelItemRenderer);this.addEventListener(OjMouseEvent.CLICK,this,"_onClick")}},setIsSelected:function(a){if(this._isSelected==a){return}if(this._isSelected=a){this.addCss(["selected"]);this.input.dom().checked=true}else{this.removeCss(["selected"]);this.input.dom().checked=false}this.dispatchEvent(new OjEvent(OjEvent.CHANGE))}});OJ.extendComponent(OjOption,"OjCheckedOption",{},{_TAGS:["checkbox"]});OJ.extendClass(OjComponent,"OjInput",{_p_:{"default":null,name:null,prefix:null,required:false,suffix:null,title:null,validators:null,value:null},_errors:null,_ready:false,_t:"<div><div var=wrapper><label var=label></label><div var=psuedoInput><span var=prefix class=prefix></span><span var=stem><input var=input type=hidden /><label var=dflt></label></span><span var=suffix class=suffix></span></div></div></div>",_c:function(){this._s("OjInput","_c",[]);var a=arguments.length;this._errors=[];this._validators=[];if(a){this.setName(arguments[0]);if(a>1){this.setLabel(arguments[1]);if(a>2){this.setValue(arguments[2]);if(a>3){this.setValidators(arguments[3])}}}}if(!this._label){this.setLabel(this._label)}if(this.input){if(!this._value){this.setValue(this.input._dom.value)}this.input.addEventListener(OjFocusEvent.IN,this,"_onFocusIn");this.input.addEventListener(OjFocusEvent.OUT,this,"_onFocusOut");this.input.addEventListener(OjDomEvent.CHANGE,this,"_onChange")}if(this.className()=="OjInput"){this.hide()}else{a=this._class_names.length;while(a-->0){this.addCss(this._class_names[a]);if(this._class_names[a]=="OjInput"){break}}}this.addEventListener(OjMouseEvent.CLICK,this,"_onClick");this._ready=true},_redrawDefault:function(){if(isEmpty(this._default)||!isEmpty(this._value)){this.addCss(["no-default"])}else{this.removeCss(["no-default"])}return true},_onDefaultClick:function(a){this.input.focus()},_onFocusIn:function(a){this.addCss(["focus"])},_onFocusOut:function(a){this.removeCss(["focus"])},_onChange:function(a){this.setValue(this.input._dom.value)},_onClick:function(a){if(!this.input.hasFocus()){this.focus()}},blur:function(){this.input.blur()},focus:function(){this.input.focus()},isValid:function(){this._errors=[];return true},redraw:function(){if(this._s("OjInput","redraw",arguments)){this._redrawDefault();return true}return false},validate:function(){if(this.isValid()){this.removeCss(["error"]);return true}this.addCss(["error"]);return false},setDefault:function(a){if(this._default==a){return}if(a){this.dflt.addEventListener(OjMouseEvent.CLICK,this,"_onDefaultClick")}else{this.dflt.removeEventListener(OjMouseEvent.CLICK,this,"_onDefaultClick")}this.dflt.setText(this._default=a);this._redrawDefault()},getErrors:function(){return this._errors},setLabel:function(a){this.label.setText(this._label=a);if(isEmpty(this._label)){this.addCss(["no-label"])}else{this.removeCss(["no-label"])}},setPrefix:function(a){if(isString(a)){this.prefix.setText(this._prefix=a)}else{if(this._prefix){if(isString(this._prefix)){this.removeAllChildren()}else{this.prefix.removeChild(this._prefix)}}this.prefix.addChild(this._prefix=a)}},setSuffix:function(a){if(isString(a)){this.suffix.setText(this._suffix=a)}else{if(this._suffix){if(isString(this._suffix)){this.removeAllChildren()}else{this.suffix.removeChild(this._suffix)}}this.suffix.addChild(this._suffix=a)}},setValidators:function(a){this._validators=Array.array(a)},getValue:function(){return this._value},setValue:function(a){if(a!=this._value){this._value=a;if(this.input._dom.value!=a){this.input._dom.value=String.string(a)}this._redrawDefault();if(this._ready){this.dispatchEvent(new OjEvent(OjEvent.CHANGE))}}}},{supportsInputType:function(b){var a=document.createElement("input");a.setAttribute("type",b);return a.type==b}});OJ.extendComponent(OjItemRenderer,"OjListItem",{_p_:{showAccessory:false,showIcon:false},accessory:null,content:null,icon:null,_c:function(){this._s("OjListItem","_c",[]);this.addChild(this.accessory=new OjStyleElement('<div class="-accessory valign-middle"></div>'));this.addChild(this.icon=new OjImage());this.addChild(this.content=new OjStyleElement('<div class="-content valign-middle"></div>'));this.icon.addCss("-icon");if(arguments.length){this.setData(arguments[0])}},_d:function(){if(this._data&&this._data.is&&this._data.is("OjActionable")){this._data.removeEventListener(OjEvent.CHANGE,this,"_onDataChange")}this._list=this._data=null;return this._s("OjListItem","_d",arguments)},_redrawAccessory:function(){if(this._showAccessory){this.removeCss(["no-accessory"])}else{this.addCss(["no-accessory"])}},_redrawData:function(){this.content.setText(this._data)},_redrawIcon:function(){if(this._showIcon){this.removeCss(["no-icon"])}else{this.addCss(["no-icon"])}},redraw:function(){if(this._s("OjListItem","redraw",arguments)){this._redrawData();this._redrawAccessory();this._redrawIcon();return true}return false},_onDataChange:function(a){this._redrawData()},setData:function(a){if(this._data&&this._data.is&&this._data.is("OjActionable")){this._data.removeEventListener(OjEvent.CHANGE,this,"_onDataChange")}this._data=a;if(this._data&&this._data.is&&this._data.is("OjActionable")){this._data.addEventListener(OjEvent.CHANGE,this,"_onDataChange")}this.redraw()},setShowAccessory:function(a){if(this._showAccessory==a){return}this._showAccessory=a;this.redraw()},setShowIcon:function(a){if(this._showIcon==a){return}this._showIcon=a;this.redraw()}},{_TAGS:["listitem"]});OJ.extendClass(OjEvent,"OjListEvent",{_g_p_:{item:null,index:null},_c:function(c,d,b){var a=[c];this._item=d;this._index=b;if(arguments.length>2){a=a.slice.call(arguments,2);a.unshift(c)}this._s("OjListEvent","_c",a)}},{ITEM_ADD:"onItemAdd",ITEM_MOVE:"onItemMove",ITEM_REMOVE:"onItemRemove",ITEM_REPLACE:"onItemReplace",ITEM_CLICK:"onItemClick",ITEM_OVER:"onItemOver",ITEM_OUT:"onItemOut"});OJ.extendComponent(OjView,"OjList",{_p_:{dataProvider:null,direction:"vertical",itemRenderer:OjListItem},_c:function(){var a=arguments,b=arguments.length;this._s("OjList","_c",[]);this.addCss(["vertical"]);this.container.addCss(["items","cf"]);this._item_events={};if(b){if(b>1){this.setItemRenderer(a[1]);if(b>2){this.setDirection(a[2])}}this.setDataProvider(a[0])}else{this.setDataProvider(new OjCollection())}},_createItem:function(d,a){var b,c=new this._itemRenderer(this,d);this.addElmAt(c,a);for(b in this._item_events){c.addEventListener(b,this,this._item_events[b])}return this._redrawItem(c,d,a)},_destroyItem:function(a){OJ.destroy(this.removeElmAt(a),true)},_redrawItem:function(b,c,a){if(!b){return}this._updateClasses(b,a);b.setData(c);return b},_redrawItems:function(){var c=this.numItems(),b=this.numElms(),d=c-b,a;if(d>0){for(a=0;a<d;a++){this._createItem(this.getItemAt(b+a),b+a)}}else{if(d<0){for(;b-->c;){this._destroyItem(b)}b=c}}for(;b--;){this._redrawItem(this.getElmAt(b),this.getItemAt(b),b)}},_updateClasses:function(e,b){var a=[];var c=[];var d=this.numItems();if(b==0){a.push("first")}else{c.push("first")}if(b+1==d||d==1){a.push("last")}else{c.push("last")}if(b==0||b%2==0){a.push("even");c.push("odd")}else{a.push("odd");c.push("even")}e.addCss(a);e.removeCss(c)},redraw:function(){if(this._s("OjList","redraw",arguments)){this._redrawItems();return true}return false},redrawItem:function(b){var a=this.indexOfItem(b);this._redrawItem(this.getElmAt(a),b,a)},redrawItemAt:function(a){this._redrawItem(this.getElmAt(a),this.getItemAt(a),a)},addItem:function(a){return this._dataProvider.addItem(a)},addItemAt:function(b,a){return this._dataProvider.addItemAt(b,a)},getItemAt:function(a){return this._dataProvider.getItemAt(a)},indexOfItem:function(a){return this._dataProvider.indexOfItem(a)},hasItem:function(a){return this._dataProvider.hasItem(a)},numItems:function(){return this._dataProvider.numItems()},removeItem:function(a){return this._dataProvider.removeItem(a)},removeItemAt:function(a){return this._dataProvider.removeItemAt(a)},addEventListener:function(b,e,d){var c,f,a;if(b==OjListEvent.ITEM_CLICK){f=OjMouseEvent.CLICK;a="_onItemClick"}else{if(b==OjListEvent.ITEM_OVER){f=OjMouseEvent.OVER;a="_onItemOver"}else{if(b==OjListEvent.ITEM_OUT){f=OjMouseEvent.OUT;a="_onItemOut"}}}if(f&&!this._item_events[f]){c=this.numItems();for(;c--;){this.getElmAt(c).addEventListener(f,this,a)}this._item_events[f]=a}return this._s("OjList","addEventListener",arguments)},removeEventListener:function(c,f,e){var a=this._s("OjList","removeEventListener",arguments);if(!this.hasEventListener(c)){var g,b;if(c==OjListEvent.ITEM_CLICK){g=OjMouseEvent.CLICK;b="_onItemClick"}else{if(c==OjListEvent.ITEM_OVER){g=OjMouseEvent.OVER;b="_onItemOver"}else{if(c==OjListEvent.ITEM_OUT){g=OjMouseEvent.OUT;b="_onItemOut"}}}var d=this.numItems();while(d-->0){this.getElmAt(d).removeEventListener(g,this,b)}delete this._item_events[g]}return a},_onItemAdd:function(a){var d=this._createItem(a.getItem(),a.getIndex()),c=this.numItems(),b=Math.max(a.getIndex()-1,0);for(b;b<c;b++){this._updateClasses(this.getElmAt(b),b)}d=c=b=null;this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_ADD,a.getItem(),a.getIndex()))},_onItemMove:function(a){var d=this.numItems(),b,c;for(;d--;){c=this.getElmAt(d);if(c.getData()==a.getItem()){this.moveElm(c,a.getIndex());if(d>a.getIndex()){b=a.getIndex()}else{b=d;d=a.getIndex()}for(;d-->b;){this._updateClasses(this.getElmAt(d),d)}break}}this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_MOVE,a.getItem(),a.getIndex()))},_onItemRemove:function(a){this._destroyItem(a.getIndex());var c=this.numItems(),b=Math.max(a.getIndex()-1,0);for(b;b<c;b++){this._updateClasses(this.getElmAt(b),b)}this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_REMOVE,a.getItem(),a.getIndex()))},_onItemReplace:function(a){this._redrawItem(this.getElmAt(a.getIndex()),a.getItem(),a.getIndex());this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_REPLACE,a.getItem(),a.getIndex()))},_onItemClick:function(a){var b=this.indexOfElm(a.getCurrentTarget());this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_CLICK,this._dataProvider.getItemAt(b),b))},_onItemOver:function(a){var b=this.indexOfElm(a.getCurrentTarget());this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_OVER,this._dataProvider.getItemAt(b),b))},_onItemOut:function(a){var b=this.indexOfElm(a.getCurrentTarget());this.dispatchEvent(new OjListEvent(OjListEvent.ITEM_OUT,this._dataProvider.getItemAt(b),b))},setDataProvider:function(a){if(this._dataProvider==a){return}if(this._dataProvider){this._dataProvider.removeEventListener(OjCollectionEvent.ITEM_ADD,this,"_onItemAdd");this._dataProvider.removeEventListener(OjCollectionEvent.ITEM_MOVE,this,"_onItemMove");this._dataProvider.removeEventListener(OjCollectionEvent.ITEM_REMOVE,this,"_onItemRemove");this._dataProvider.removeEventListener(OjCollectionEvent.ITEM_REPLACE,this,"_onItemReplace")}this._dataProvider=OjCollection.collection(a);if(!this._dataProvider){this._dataProvider=new OjCollection()}this._dataProvider.addEventListener(OjCollectionEvent.ITEM_ADD,this,"_onItemAdd");this._dataProvider.addEventListener(OjCollectionEvent.ITEM_MOVE,this,"_onItemMove");this._dataProvider.addEventListener(OjCollectionEvent.ITEM_REMOVE,this,"_onItemRemove");this._dataProvider.addEventListener(OjCollectionEvent.ITEM_REPLACE,this,"_onItemReplace");this.redraw(true)},setDirection:function(a){if(this._direction!=a){if(this._direction){this.container.removeCss([this._direction])}this.container.addCss([this._direction=a])}},setItemRenderer:function(a){this._itemRenderer=isString(a)?window[a]:a}},{HORIZONTAL:"horizontal",VERTICAL:"vertical",_TAGS:["list"]});OJ.extendClass(OjInput,"OjComboBox",{_options:null,_options_dp:null,_options_index:null,_selected:null,_selected_index:null,_trigger_evt:null,_tween:null,_list:null,_list_visible:false,_ignore_click:false,_allow_none:false,_none_lbl:"-- Select -- ",_c:function(){var a=arguments.length;this._options_index=[];this._s("OjComboBox","_c",a>2?[].slice.call(arguments,0,2):arguments);this._list=new OjList();this._list.addEventListener(OjListEvent.ITEM_CLICK,this,"_onItemClick");this._options_dp=this._list.getDataProvider();if(a>2){if(a>3){this.setOptions(arguments[3])}this.setValue(arguments[2])}this.input.removeEventListener(OjDomEvent.CHANGE,this,"_onChange");this.psuedoInput.addEventListener(OjMouseEvent.CLICK,this,"_onClick")},_showList:function(){if(this._list_visible){return}this._list.setAlpha(0);this._list.show();var a=this._list.getHeight();this._list.setHeight(0);OJ.destroy(this._tween,true);this._tween=new OjTweenSet(new OjPropTween(this._list,{height:a},250),new OjFade(this._list,OjFade.IN,250));this._tween.addEventListener(OjTweenEvent.COMPLETE,this,"_onTween");this._tween.start();OJ.addEventListener(OjMouseEvent.CLICK,this,"_onPageClick");this._list_visible=true},_hideList:function(){if(!this._list_visible){return}OJ.destroy(this._tween,true);this._tween=new OjTweenSet(new OjPropTween(this._list,{height:0},250),new OjFade(this._list,OjFade.NONE,250));this._tween.addEventListener(OjTweenEvent.COMPLETE,this,"_onTween");this._tween.start();OJ.removeEventListener(OjMouseEvent.CLICK,this,"_onPageClick");this._trigger_evt=null;this._list_visible=this._ignore_click=false},_redrawList:function(){var b=this._options_dp.numItems(),c=0,a;this._options_index=[];for(a in this._options){if(b>c){if(this._options_dp.getItemAt(c)!=this._options[a]){this._options_dp.setItemAt(this._options[a],c)}}else{this._options_dp.addItem(this._options[a])}this._options_index.push(a);c++}while(b-->c){this._options_dp.removeItemAt(b)}if(this._allow_none){if(this._options_dp.getItemAt(0)!=this._none_lbl){this._options_dp.addItemAt(this._none_lbl,0)}}else{if(this._options_dp.getItemAt(0)==this._none_lbl){this._options_dp.removeItemAt(0)}}},_redrawValue:function(){var b,a=this.getItemRenderer();if(!this.valueHldr.numChildren()||!(b=this.valueHldr.getChildAt(0)).is(a)){this.valueHldr.removeAllChildren();this.valueHldr.addChild(new a(this._selected))}else{b.setData(this._selected)}},_onClick:function(a){if(!this._trigger_evt){this._showList()}if(!this._ignore_click){this._trigger_evt=a;this._ignore_click=false}},_onItemClick:function(a){this.setSelected(a.getItem());this._ignore_click=true},_onPageClick:function(a){if(this._trigger_evt==a){return}this._hideList()},_onTween:function(a){this._list.setHeight(OjStyleElement.AUTO);OJ.destroy(this._tween,true)},getAllowNone:function(){return this._allow_none},setAllowNone:function(a){this._allow_none=a},getItemRenderer:function(){return this._list.getItemRenderer()},setItemRenderer:function(a){this._list.setItemRenderer(a);this._redrawValue()},getOptions:function(){return this._options},setOptions:function(a){this._options=a;this._redrawList();this._redrawValue();this.setValue(this._value)},getSelected:function(){return this._selected},setSelected:function(b){if(this._selected!=b){if(this._options){var a;for(a in this._options){if(this._options[a]==b){this.setValue(a);return}}if(this._allow_none){this.setValue(null)}else{this.setSelectedIndex(0)}}else{this._selected=b}}},getSelectedIndex:function(){return this._selected_index},setSelectedIndex:function(a){if(this._selected_index!=a){if(this._options){this.setValue(this._options_index[a])}else{this._selected_index=a}}},setValue:function(c){if(isEmpty(c)){c=null}if(this._value!=c||(isNull(this._selected_index)&&this._options)){if(this._options){var a,b=a=this._options_index.length;while(b-->0){if(this._options_index[b]==c){break}}if(a){if(b==-1){if(this._allow_none){this._selected_index=null;this._selected=this._none_lbl;c=null}else{this._selected_index=0;c=this._options_index[0];this._selected=this._options[c]}}else{this._selected_index=b;this._selected=this._options[c]}}else{this._selected_index=null;this._selected=this._allow_none?this._none_lbl:null;c=null}b=a=null}else{this._selected_index=null;this._selected=this._none_lbl;this._value=null}this._redrawValue();this._s("OjComboBox","setValue",[c])}}});OJ.extendComponent(OjInput,"OjTextInput",{_p_:{minLength:0,maxLength:255},_c:function(){this._s("OjTextInput","_c",arguments);this.input.addEventListener(OjKeyboardEvent.UP,this,"_onChange")},_setDom:function(a){this._s("OjTextInput","_setDom",arguments);this.input.setAttr("type","text")},isValid:function(){var b=this._s("OjTextInput","isValid",arguments);var a=this._value?this._value.length:0;if(this._minLength&&a<this._minLength){this._errors.push(OJ.tokenReplace(OjTextInput.MIN_LENGTH_ERROR,"MIN",this._minLength));b=false}if(this._maxLength&&a>this._maxLength){this._errors.push(OJ.tokenReplace(OjTextInput.MAX_LENGTH_ERROR,"MAX",this._maxLength));b=false}return b},setValue:function(a){if(a&&a.length>this._maxLength){this.input._dom.value=a.slice(0,this._maxLength);return}return this._s("OjTextInput","setValue",arguments)}},{MIN_LENGTH_ERROR:"Entry must be at least [%MIN] characters long.",MAX_LENGTH_ERROR:"Entry must be no more than [%MAX] characters long.",_TAGS:["textinput"]});OJ.extendClass(OjTextInput,"OjDateInput",{_onFocusIn:function(a){this._s("OjDateInput","_onFocusIn",arguments)}});OJ.extendClass(OjComponent,"OjTextValue",{_t:"<div><label var=label></label><span var=value></span></div>",_label:null,_value:null,_c:function(){this._s("OjTextValue","_c",[]);var a=arguments.length;if(a){this.setLabel(arguments[0]);if(a>1){this.setValue(arguments[1])}}},_redrawLabel:function(){this.label.setText(this._label)},_redrawValue:function(){this.value.setText(this._value)},getLabel:function(){return this._label},setLabel:function(a){this._label=a;this._redrawLabel()},getValue:function(){return this._value},setValue:function(a){this._value=a;this._redrawValue()}});OJ.extendClass(OjTextValue,"OjDateValue",{_redrawValue:function(){this.value.setText(this._value.toLocaleDateString())}});OJ.extendComponent(OjTextInput,"OjEmailInput",{_p_:{maxLength:254,minLength:3},_setDom:function(a){this._s("OjEmailInput","_setDom",arguments);if(this.$.SUPPORTS_EMAIL_TYPE){this.input.setAttr("type","email")}},isValid:function(){var a=this._s("OjEmailInput","isValid",arguments);if(!isEmpty(this._value)&&!this.$.isValidEmail(this._value)){this._errors.push(OJ.tokenReplace(OjEmailInput.INVALID_ERROR,"EMAIL",this._value));a=false}return a},setMaxLength:function(a){throw new Error("Cannot set the max length of an email. This is a fixed value.")},setMinLength:function(a){throw new Error("Cannot set the min length of an email. This is a fixed value.")}},{INVALID_ERROR:"[%EMAIL] is not a valid email address.",SUPPORTS_EMAIL_TYPE:OjInput.supportsInputType("email"),isValidEmail:function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},_TAGS:["emailinput"]});OJ.extendClass(OjComboBox,"OjFilterBox",{_item_index:null,_previous_search:null,_c:function(){this._s("OjFilterBox","_c",arguments);this.valueHldr.addEventListener(OjEvent.CHANGE,this,"_onSearch");this.valueHldr.addEventListener(OjFocusEvent.IN,this,"_onFocusIn");this.valueHldr.addEventListener(OjFocusEvent.OUT,this,"_onFocusOut");this._item_index={}},_setDom:function(a){this._s("OjFilterBox","_setDom",arguments);var c=this.valueHldr.parent();var b=new OjTextInput();b.addCss("value");b.addEventListener(OjFocusEvent.IN,this,"_onValueFocus");c.replaceChild(this.valueHldr,b);this.valueHldr=b},_redrawList:function(){var b=arguments.length&&arguments[0]?arguments[0]:null;var c=this._options_dp.numItems(),d=0,a;if(this._options){if(isEmpty(b)||b==this._none_lbl){b=null}else{b=b.toLowerCase()}if(this._previous_search==b){return}this._options_index=[];this._previous_search=b;for(a in this._options){this._options_index.push(a);if(b&&this._options[a]&&this._item_index[a]&&this._item_index[a].indexOf(b)==-1){continue}if(c>d){if(this._options_dp.getItemAt(d)!=this._options[a]){this._options_dp.setItemAt(this._options[a],d)}}else{this._options_dp.addItem(this._options[a])}d++}}else{this._options_index=[]}while(c-->d){this._options_dp.removeItemAt(c)}},_redrawValue:function(){var a=null;if(isObject(this._selected)){if(isFunction(this._selected.toString)){a=this._selected.toString()}else{a=this._value}}else{if(this._selected){a=this._selected.toString()}}this.valueHldr.setValue(a)},_showList:function(){this._redrawList();this._s("OjFilterBox","_showList",arguments)},_hideList:function(){this._s("OjFilterBox","_hideList",arguments);this._redrawValue()},_onSearch:function(a){this._redrawList(this.valueHldr.getValue())},_onFocusIn:function(a){this._showList()},_onFocusOut:function(a){var b=this.find(a.getTarget());if(!b.length){this._hideList()}},_onValueFocus:function(a){if(this.valueHldr.getValue()==this._none_lbl){this.valueHldr.setValue(null)}},setOptions:function(a){var b,c;this._item_index={};for(b in a){if(isString(a[b])){this._item_index[b]=a[b].toLowerCase()}else{if(isNumber(a[b])){this._item_index[b]=a[b].toString()}else{if(isObject(a[b])){if(isFunction(a[b].toString)){this._item_index[b]=a[b].toString().toLowerCase()}else{this._item_index[b]="";for(c in a[b]){if(isString(a[b][c])){this._item_index[b]+=" "+a[b][c].toLowerCase()}else{if(isNumber(a[b][c])){this._item_index[b]+=" "+a[b][c].toString()}}}this._item_index[b]=this._item_index[b].trim()}}}}}this._options=a;this._previous_search=-1;this._redrawValue();this.setValue(this._value)}});OJ.extendClass(OjItemRenderer,"OjFormError",{_t:"<div><div var=input></div><list var=errors></list></div>",_redrawData:function(){if(this._data){if(this._data.input){this.input.show();this.input.setText(this._data.input.getLabel())}else{this.input.hide()}if(this._data.errors){this.errors.show();this.errors.getDataProvider().setSource(this._data.errors)}else{this.errors.hide()}}}});OJ.extendComponent(OjView,"OjForm",{_t:"<div><list var=errors item-renderer=OjFormError></list><div var=container></div><div var=actions class=cf></div></div>",header:null,footer:null,title:null,_data:null,_inputs:null,_errors:null,_compile_:function(){this.getLabel=this.getTitle;this.setLabel=this.setTitle},_c:function(){this._data={};this._inputs={};this._errors=[];this._s("OjForm","_c",arguments);this.errors.hide();this._processActions()},_processActions:function(){if(this.actions){var b,a=this.actions.numChildren();while(a-->0){b=this.actions.getChildAt(a);if(b.is("OjButton")){b.addEventListener(OjMouseEvent.CLICK,this,"_onActionButtonClick")}}}},_onActionButtonClick:function(a){var b=a.getCurrentTarget();if(b.hasCss(["submit-button"])){this._onSubmit(a)}else{if(b.hasCss(["cancel-button"])){this._onCancel(a)}}},_onSubmit:function(a){this.submit()},_onCancel:function(a){this.dispatchEvent(new OjEvent(OjEvent.CANCEL))},_updateInputs:function(){var b,a=this.find(".OjInput"),c=a.length;this._inputs={};while(c-->0){b=OjForm.parentForm(a[c]);if(b&&b==this){this._inputs[a[c].id]=OJ.elm(a[c])}}},_redraw:function(){},_reset:function(){this._updateInputs();var b,a;for(b in this._inputs){a=this._inputs[b];a.setValue(this._data[a.getName()])}},_submit:function(){},_validate:function(){this._updateInputs();var b,a,c=true;for(b in this._inputs){a=this._inputs[b];if(!a.validate()){this._errors.push({input:a,errors:a.getErrors()});c=false}}return c},redraw:function(){if(this._s("OjForm","redraw",arguments)){this._redraw();return true}return false},reset:function(){this._reset()},submit:function(){this._submit();this.dispatchEvent(new OjEvent(OjEvent.SUBMIT))},validate:function(){this._errors=[];var a=this._validate();this.errors.getDataProvider().setSource(this._errors);if(a){this.errors.hide()}else{this.errors.show()}return a},_addElm:function(b,a){if(b.is("OjInput")){this._inputs[b.id()]=b}this._s("OjForm","_addElm",arguments)},_removeElm:function(a){delete this._inputs[a.id()];this._s("OjForm","_removeElm",arguments)},getData:function(){return this._data},setData:function(a){this._data=a;this._reset()},setError:function(a){this.errors.getDataProvider().addItem({input:null,errors:[a]});this.errors.show()}},{_TAGS:["form"],COMPLETE:"formComplete",parentForm:function(c,b){c=OJ.elm(c);var a,b=arguments.length>1?arguments[0]:OJ;b=OJ.elm(b);while(c&&c!=b){a=c.parent();if(a&&a.is("OjForm")){return a}c=a}return null}});OJ.extendClass(OjTextInput,"OjPasswordInput",{_min:6,_max:30,_setDom:function(a){this._s("OjPasswordInput","_setDom",arguments);this.input.setAttr("type","password")}});OJ.extendClass(OjOption,"OjRadioOption",{_c:function(){this._s("OjRadioOption","_c",arguments);this.input.setAttr("type","radio")}});OJ.extendComponent(OjInput,"OjSelector",{_p_:{itemRenderer:OjLabelItemRenderer,selectionMin:0,selectionMax:1},_t:"<div><div var=wrapper><label var=label></label><div var=psuedoInput><span var=prefix class=prefix></span><span var=stem><list var=input item-renderer=OjOption></list><label var=dflt></label></span><span var=suffix class=suffix></span></div></div></div>",_c:function(){var a=arguments,b=a.length;this._value=[];this._s("OjSelector","_c",b>2?Array.array(a).slice(0,2):a);this.input.addEventListener(OjListEvent.ITEM_ADD,this,"_onItemAdd");this.input.addEventListener(OjListEvent.ITEM_CLICK,this,"_onItemClick");this.input.addEventListener(OjListEvent.ITEM_MOVE,this,"_onItemMove");this.input.addEventListener(OjListEvent.ITEM_REMOVE,this,"_onItemRemove");this.input.addEventListener(OjListEvent.ITEM_REPLACE,this,"_onItemReplace");this.input.removeEventListener(OjDomEvent.CHANGE,this,"_onChange");if(b>3){this.setOptions(a[3])}},_processDomSourceChild:function(b,c){if(OjElement.isTextNode(b)){return}var a=b.innerHTML;if(a){this.input.addItem(OjObject.importData(a.parseJson()))}},_selectOption:function(a,b){if(this._value.indexOf(b)>-1){return}if(this._selectionMax&&this._selectionMax==this._value.length){this.input.getElmAt(this.input.indexOfItem(this._value.shift())).setIsSelected(false)}a.setIsSelected(true);this._value.push(b);this.dispatchEvent(new OjEvent(OjEvent.CHANGE))},_toggleOptionAt:function(a){var b=this.input.getElmAt(a),c=this.input.getItemAt(a);if(b.getIsSelected()){this._unselectOption(b,c)}else{this._selectOption(b,c)}},_unselectOption:function(b,c){var a=this._value.indexOf(c);if(a==-1||this._value.length<=this._selectionMin){return}b.setIsSelected(false);this._value.splice(a,1);this.dispatchEvent(new OjEvent(OjEvent.CHANGE))},_updateSelection:function(){var c=this._value.length;for(;c--;){if(this.input.indexOfItem(this._value[c])==-1){this._value.splice(c,1)}}var b=0,a=this.input.numItems();for(;(c=this._value.length)<this._selectionMin&&b<a;b++){this._selectOption(this.input.getElmAt(b),this.input.getItemAt(b))}},_onItemAdd:function(a){this._updateSelection()},_onItemClick:function(a){this._toggleOptionAt(a.getIndex())},_onItemMove:function(a){},_onItemRemove:function(a){this._updateSelection()},_onItemReplace:function(a){return;var b,c=this._options.getItemAt(a.getIndex());if((b=this._value.indexOf(c))>-1){this._value.splice(b,1,a.getItem())}this.options.getChildAt(a.getIndex()).setData(a.getItem())},redraw:function(){if(this._s("OjSelector","redraw",arguments)){this.input.redraw();this._updateSelection();return true}return false},setItemRenderer:function(a){if(isString(a)){a=OJ.stringToClass(a)}if(this._itemRenderer==a){return}this._itemRenderer=a;this.redraw()},getOptions:function(){return this.input.getDataProvider()},setOptions:function(f){if(f==this.getOptions()){return}var e=[];var d=this._value.length;for(;d--;){e.unshift(this.input.indexOfItem(this._value[d]))}this._value=[];this.input.setDataProvider(f);var c=this.getOptions();d=c.numItems();var b,a=e.length;for(;a--;){if((b=e[a])<d){this._selectOption(this.input.getElmAt(b),this.input.getItemAt(b))}}this.redraw()},setValue:function(c){c=Array.array(c);if(this._value!=c){if(this._value=c){var a=this.getOptions(),b=a.numItems();for(;b--;){this.input.getElmAt(b).setIsSelected(c.indexOf(a.getItemAt(b))>-1)}}this.dispatchEvent(new OjEvent(OjEvent.CHANGE))}},getSelectionRenderer:function(){return this.input.getItemRenderer()},setSelectionRenderer:function(a){this.input.setItemRenderer(a);if(this.getSelectionRenderer()==OjRadioOption){this.setSelectionMin(1);this.setSelectionMax(1)}}},{_TAGS:["selector"]});OJ.extendComponent(OjInput,"OjSwitch",{_p_:{},_t:"<div><div var=wrapper><label var=label></label><div var=psuedoInput><div var=slider><label var=prefix></label><label var=suffix></label><div class=highlight></div><span var=stem><input var=input type=hidden /></span></div></div></div></div>"},{_TAGS:["switch"]});OJ.extendClass(OjInput,"OjTextArea",{_setDom:function(a){this._s("OjTextArea","_setDom",arguments);var b=this.input.parent();var c=new OjStyleElement("<textarea></textarea>");c.addCss("input");b.replaceChild(this.input,c);this.input=c}});OJ.extendClass(OjItemRenderer,"OjToken",{_t:"<div><div var=item></div><button var=removeBtn>X</button></div>",_c:function(){this._s("OjToken","_c",arguments);this.removeBtn.addEventListener(OjMouseEvent.CLICK,this,"_onRemoveClick")},_redrawData:function(){this.item.setText(this._data.toString())},_onRemoveClick:function(a){this._list.removeItem(this._data)}});OJ.extendClass(OjInput,"OjTokenInput",{_allow_none:false,_allow_duplicate:false,_options:null,_available:null,_selected:null,filterBox:null,_c:function(){var a=arguments.length;this._selected=[];this._value=[];this._s("OjTokenInput","_c",a>2?[].slice.call(arguments,0,2):arguments);if(a>2){if(a>3){this.setOptions(arguments[3])}this.setValue(arguments[2])}this.valueHldr.addEventListener(OjListEvent.ITEM_REMOVE,this,"_onListItemRemove");this.filterBox.addEventListener(OjEvent.CHANGE,this,"_onFilterChange")},_setDom:function(a){this._s("OjTokenInput","_setDom",arguments);var b=this.input.parent();this.filterBox=new OjFilterBox();this.filterBox.setAllowNone(true);this.filterBox.setValue(null);this.filterBox.addCss("filter","grey");b.addChildAt(this.filterBox,b.indexOfChild(this.input)+1);this.valueHldr=new OjList();this.valueHldr.setItemRenderer(OjToken);this.valueHldr.addCss("value");this.inputWrpr.addChild(this.valueHldr)},_addValue:function(a){return this._addValueAt(a,this._value.length,arguments.length>2?arguments[2]:false)},_addValueAt:function(b,a){this._value.splice(a,0,b);if(!this._options){return}this._selected.splice(a,0,this._options[b]);this.valueHldr.addItemAt(this._options[b],a);if(!this._allow_duplicate){delete this._available[b];this.filterBox.setOptions(this._available);if(!Object.keys(this._available).length){this.filterBox.hide()}}if(arguments.length<3||!arguments[2]){this.dispatchEvent(new OjEvent(OjEvent.CHANGE,true,true))}return b},_removeValue:function(b){var a=this._value.length;while(a-->0){if(this._value[a]==b){return this._removeValueAt(a,arguments.length>2?arguments[2]:false)}}return null},_removeValueAt:function(a){var b=this._value[a];if(!this._options){this._values.splice(a,1);return b}this.valueHldr.removeItemAt(a);if(arguments.length<3||!arguments[2]){this.dispatchEvent(new OjEvent(OjEvent.CHANGE,true,true))}return b},_moveValueTo:function(b,a){this.dispatchEvent(new OjEvent(OjEvent.CHANGE,true,true))},_onFilterChange:function(a){if(a.getTarget()==this.filterBox&&this.filterBox.getValue()!=null){this._addValue(this.filterBox.getValue());this.filterBox.setValue(null)}},_onListItemRemove:function(a){var b=this._value.splice(a.getIndex(),1);this._selected.splice(a.getIndex(),1);if(!this._allow_duplicate){this._available[b]=this._options[b];this.filterBox.setOptions(this._available);this.filterBox.show()}},getAllowNone:function(){return this._allow_none},setAllowNone:function(a){this._allow_none=a},getAllowDuplicate:function(){return this._allow_duplicate},setAllowDuplicate:function(a){this._allow_duplicate=a},getOptions:function(){return this._options},setOptions:function(a){this._options=a;this._available=OJ.merge({},a);this.filterBox.setOptions(this._available);this.setValue(this._value.clone())},getSelected:function(){return this._selected},setSelected:function(a){this._selected=a},getTokenRenderer:function(){return this.valueHldr.getItemRenderer()},setTokenRenderer:function(a){this.valueHldr.setItemRenderer(a)},_onChange:function(){},setValue:function(c){var d=[],b=this._value.length;while(b-->0){this._removeValueAt(b,true)}if(c){b=c.length;for(var a=0;a<b;a++){this._addValueAt(c[a],a,true)}}this.dispatchEvent(new OjEvent(OjEvent.CHANGE,true,true))}});OJ.extendManager("LayoutManager",OjActionable,"OjLayoutManager",{});OJ.extendComponent(OjMedia,"OjAudio",{_sources:null,_makeMedia:function(){var a=new OjStyleElement("<audio></audio>");return a},_setSource:function(a){this._s("OjAudio","_setSource",arguments);if(this.media){this.media.setAttr("src",this._source)}},_onMediaLoad:function(a){},pause:function(){if(this.media){this.media.dom().pause()}},play:function(){if(this.media){this.media.dom().play()}},stop:function(){if(this.media){if(this.media.load){this.media.dom().load()}else{this.media.setAttr("src",null);this.media.setAttr("src",this._source)}}},getSources:function(){if(this._sources){return this._sources.clone()}return[]},setSources:function(a){this._sources=a?a.clone():[];var c=this._sources.length;if(this.media){for(var b=0;b<c;b++){if(this.media.canPlayType(OjAudio.audioType(this._sources[b]))==""){}}}else{if(c){this.setSource(this._sources[c])}}}},{MP3:"audio/mpeg",MP4:"audio/mp4",OGG:"audio/ogg",WAV:"audio/x-wav",audioType:function(a){var c=OjUrl.url(a).getPath().split("."),b=c.pop();if(!b){return null}b=b.toLowerCase();if(b=="mp3"||b=="mpeg"||b=="mpeg1"||b=="mpeg2"||b=="mpeg3"){return this.MP3}if(b=="mp4"||b=="m4a"||b=="m4p"||b=="m4b"||b=="m4r"||b=="m4v"){return this.MP4}if(b=="ogg"){return this.OGG}if(b=="wav"){return this.WAV}return null},_TAGS:["audio"]});OJ.extendComponent(OjMedia,"OjFlash",{_tag:"<object></object>"},{_TAGS:["flash"]});OJ.extendComponent(OjMedia,"OjVideo",{_tag:"<video></video>"},{supportedVideo:function(){return["video"]}});OJ.extendClass(OjComponent,"OjMenu",{_p_:{content:null,horzOffset:null,positioning:null,parentMenu:null,vertOffset:0},_c:function(){this._s("OjMenu","_c",[]);var a=arguments.length;if(a){this.setContent(arguments[0]);if(a>1){this.setPositioning(arguments[1]);if(a>2){this.setParentMenu(arguments[2])}}}if(!this._positioning){this.setPositioning([OjMenu.RIGHT_MIDDLE,OjMenu.RIGHT_TOP,OjMenu.RIGHT_BOTTOM,OjMenu.LEFT_MIDDLE,OjMenu.LEFT_TOP,OjMenu.LEFT_BOTTOM,OjMenu.BOTTOM_LEFT,OjMenu.BOTTOM_CENTER,OjMenu.BOTTOM_RIGHT,OjMenu.TOP_LEFT,OjMenu.TOP_CENTER,OjMenu.TOP_RIGHT])}},_d:function(){this._content=null;return this._s("OjMenu","_d",arguments)},hasSubMenu:function(a){while(a){if(a.getParentMenu()==this){return}a=a.getParentMenu()}return false},setContent:function(a){if(this._content==a){return}if(this._content){this.replaceChild(this._content,this._content=a)}else{this.addChild(this._content=a)}}},{TOP_LEFT:"positionTopLeft",TOP_CENTER:"positionTopCenter",TOP_RIGHT:"positionTopRight",BOTTOM_LEFT:"positionBottomLeft",BOTTOM_CENTER:"positionBottomCenter",BOTTOM_RIGHT:"positionBottomRight",LEFT_TOP:"positionLeftTop",LEFT_MIDDLE:"positionLeftMiddle",LEFT_BOTTOM:"positionLeftBottom",RIGHT_TOP:"positionRightTop",RIGHT_MIDDLE:"positionRightMiddle",RIGHT_BOTTOM:"positionRightBottom"});OJ.extendManager("MenuManager",OjActionable,"OjMenuManager",{_menus:null,_active:null,_tweens:null,_c:function(){this._s("OjMenuManager","_c",arguments);this._menus={};this._active={};this._tweens={}},_percentRectVisible:function(c){var b=OJ.getViewport();var a={top:c.top>0&&c.top>=b.top?c.top:b.top,left:c.left>0&&c.left>=b.left?c.left:b.left,bottom:b.bottom>=c.bottom?c.bottom:b.bottom,right:b.right>=c.right?c.right:b.right};return((c.bottom-c.top)*(c.right-c.left))/((a.bottom-a.top)*(a.right-a.left))},_positionMenu:function(b,e){var g=b.getPositioning();var h,j;var d,a=0;var c,f=g.length;for(c=0;c<f;c++){h=this[g[c]](e,b);j=this._percentRectVisible(h);if(j==1){break}else{if(j>a){a=j;d=h}}h=null}if(!h){h=d}b.setX(h.left);b.setY(h.top)},_removeMenus:function(b){var a,c=new OjTweenSet();for(a in b){OJ.destroy(this._tweens[a]);OjElement.byId(a).removeEventListener(OjTransformEvent.MOVE,this,"_onTargetMove");c.addTween(new OjFade(b[a],OjFade.OUT));delete this._active[a];delete this._tweens[a]}if(c.numTweens()){c.addEventListener(OjTweenEvent.COMPLETE,this,"_onTransOut");c.start()}},_onPageClick:function(a){var b,d,c;for(b in this._active){d=this._active[b];if(d&&d.hitTestPoint(a.getPageX(),a.getPageY())){return}c=OjElement.byId(b);if(c&&c.hitTestPoint(a.getPageX(),a.getPageY())){return}}this._removeMenus(this._active);OJ.removeEventListener(OjMouseEvent.CLICK,this,"_onPageClick")},_onTargetClick:function(a){var b=a.getCurrentTarget();var c=this._menus[b.id()];if(c&&!this._active[b.id()]){this.show(c,b)}},_onTargetMove:function(a){var b=a.getCurrentTarget();var c=this._menus[b.id()];if(c){this._positionMenu(c,b)}},_onTransOut:function(a){OJ.destroy(a.getCurrentTarget())},hide:function(d){var b,e,c=0;for(b in this._active){c++;if(this._active[b]==d){e=b}}if(e){var a={};a[e]=d;delete this._active[e];this._removeMenus(a);if(c==1){OJ.removeEventListener(OjMouseEvent.CLICK,this,"_onPageClick")}}},register:function(c,b){c.addEventListener(OjMouseEvent.CLICK,this,"_onTargetClick");var d=new OjMenu(b);var a=arguments.length;if(a>2){d.setPositioning(arguments[2]);if(a>3){d.setParentMenu(arguments[3])}}this._menus[c.id()]=d;return d},show:function(e){var d=arguments.length>1?arguments[1]:null;var b,c={};if(!d){for(b in this._menus){if(this._menus[b]==e){d=OjElement.byId(b);break}}}for(b in this._active){if(this._active[b]!=e&&!this._active[b].hasSubMenu(e)){c[b]=this._active[b]}}this._removeMenus(c);e.setAlpha(0);OJ.addChild(e);if(e){this._positionMenu(e,d);var a=new OjFade(e);a.start();this._active[d.id()]=e;this._tweens[d.id()]=a;OJ.addEventListener(OjMouseEvent.CLICK,this,"_onPageClick")}d.addEventListener(OjTransformEvent.MOVE,this,"_onTargetMove")},unregister:function(b){if(b.is("OjMenu")){var a;for(a in this._menus){if(this._menus[a]==b){b=OjElement.byId(a);break}}}if(b){b.removeEventListener(OjMouseEvent.CLICK,this,"_onTargetClick");delete this._menus[b.id()]}},positionTopLeft:function(a,b){return new OjRect(a.getPageX()-b.getHorzOffset(),a.getPageY()-b.getHeight()-b.getVertOffset(),b.getWidth(),b.getHeight())},positionTopCenter:function(a,b){return new OjRect(a.getPageX()+((a.getWidth()-b.getWidth())/2),a.getPageY()-b.getHeight(),b.getWidth(),b.getHeight())},positionTopRight:function(a,b){return new OjRect(a.getPageX()+a.getWidth()-b.getWidth(),a.getPageY()-b.getHeight(),b.getWidth(),b.getHeight())},positionBottomLeft:function(a,b){return new OjRect(a.getPageX(),a.getPageY()+a.getHeight(),b.getWidth(),b.getHeight())},positionBottomCenter:function(a,b){return new OjRect(a.getPageX()+((a.getWidth()-b.getWidth())/2),a.getPageY()+a.getHeight(),b.getWidth(),b.getHeight())},positionBottomRight:function(a,b){return new OjRect(a.getPageX()+a.getWidth()-b.getWidth(),a.getPageY()+a.getHeight(),b.getWidth(),b.getHeight())},positionLeftTop:function(a,b){return new OjRect(a.getPageX()-b.getWidth(),a.getPageY(),b.getWidth(),b.getHeight())},positionLeftMiddle:function(a,b){return new OjRect(a.getPageX()-b.getWidth(),a.getPageY()+((a.getHeight()-b.getHeight())/2),b.getWidth(),b.getHeight())},positionLeftBottom:function(a,b){return new OjRect(a.getPageX()-b.getWidth(),a.getPageY()+a.getHeight()-b.getHeight(),b.getWidth(),b.getHeight())},positionRightTop:function(a,b){return new OjRect(a.getPageX()+a.getWidth(),a.getPageY(),b.getWidth(),b.getHeight())},positionRightMiddle:function(a,b){return new OjRect(a.getPageX()+a.getWidth(),a.getPageY()+((a.getHeight()-b.getHeight())/2),b.getWidth(),b.getHeight())},positionRightBottom:function(a,b){return new OjRect(a.getPageX()+a.getWidth(),a.getPageY()+a.getHeight()-b.getHeight(),b.getWidth(),b.getHeight())}});OJ.extendComponent(OjNavController,"OjTabNavController",{_prev_active:null,_addViewButton:function(a,b){var c=new OjButton(a.getShortTitle(),a.getIcon());c.setVAlign(OjStyleElement.TOP);c.addEventListener(OjMouseEvent.CLICK,this,"_onTabClick");this.addChildAt(c,b)},_processDomSourceChildren:function(b,a){return},_removeViewButton:function(a,b){OJ.destroy(this.removeElmAt(b))},_updateActiveBtn:function(){},_onStackChange:function(a){},_onStackViewAdd:function(a){this._addViewButton(a.getView(),a.getIndex())},_onStackViewMove:function(a){},_onStackViewRemove:function(a){this._removeViewButton(a.getView(),a.getIndex())},_onStackViewReplace:function(a){},_onTabClick:function(a){this._stack.setActiveIndex(this.indexOfChild(a.getCurrentTarget()));this._updateActiveBtn()},setStack:function(a){if(this._stack==a){return}var b;if(this._stack){this._stack.removeEventListener(OjStackEvent.ADD,this,"_onStackViewAdd");this._stack.removeEventListener(OjStackEvent.MOVE,this,"_onStackViewMove");this._stack.removeEventListener(OjStackEvent.REMOVE,this,"_onStackViewRemove");this._stack.removeEventListener(OjStackEvent.REPLACE,this,"_onStackViewReplace");b=this.numElms();for(;b--;){this._removeViewButton(this._stack.getElmAt(b),b)}}this._s("OjTabNavController","setStack",arguments);if(a){a.addEventListener(OjStackEvent.ADD,this,"_onStackViewAdd");a.addEventListener(OjStackEvent.MOVE,this,"_onStackViewMove");a.addEventListener(OjStackEvent.REMOVE,this,"_onStackViewRemove");a.addEventListener(OjStackEvent.REPLACE,this,"_onStackViewReplace");b=a.numElms();for(;b--;){this._addViewButton(a.getElmAt(b),0)}this._updateActiveBtn()}}},{_TAGS:["tabnav"]});OJ.extendClass(OjUrlLoader,"OjRpc",{_p_:{method:null,params:null},_g_p_:{id:null},_c:function(b,e,d){this._s("OjRpc","_c",[]);var a=arguments,c=a.length;this.setContentType(c>3?a[3]:OjRpc.JSON);this.setRequest(new OjUrlRequest(b,{id:this._id=OjRpc.guid(),method:e,params:Array.array(d)},this._contentType,OjUrlRequest.POST));if(c>4){this.setAsync(a[4])}},load:function(){return this._s("OjRpc","load",[])},getRequest:function(){return this._request},setMethod:function(a){if(this._method==a){return}this._request.getData().method=(this._method=a)},setParams:function(a){if(this._params==a){return}this._request.getData().params=(this._params=a)}},{guid:function(){return OJ._guid++}});